feature("Completed callback",function(){scenario("Completing mask by typing last character",function(){var a=false;given("an input with a completed callback",function(){input.mask("99",{completed:function(){a=true}})});when("typing left to right",function(){input.mashKeys("12")});then("completed callback should be called",function(){expect(a).toBeTruthy()});then("value should be correct",function(){expect(input).toHaveValue("12")})});scenario("Completing mask by typing first character",function(){var a=false;given("an input with a completed callback",function(){input.val("12").mask("99",{completed:function(){a=true}})});when("replacing first character value",function(){input.caret(1).mashKeys(function(b){b.type(b.backspace)}).mashKeys("3")});then("completed callback should be called",function(){expect(a).toBeTruthy()});then("value should be correct",function(){expect(input).toHaveValue("32")})});scenario("Typing last character of incomplete mask",function(){var a=false;given("an input with a completed callback",function(){input.mask("99",{completed:function(){a=true}}).mashKeys("1").mashKeys(function(b){b.type(b.backspace)})});when("moving cursor to last position and typing",function(){input.caret(1).mashKeys("5")});then("completed callback should not be called",function(){expect(a).toBeFalsy()});then("value should be correct",function(){expect(input).toHaveValue("_5")})});scenario("Typing last character of required portion of mask containing optional",function(){var a=false;given("an input with a completed callback",function(){input.mask("99?99",{completed:function(){a=true}})});when("typing left to right",function(){input.mashKeys("12")});then("completed callback should be called",function(){expect(a).toBeTruthy()});then("value should be correct",function(){expect(input).toHaveValue("12__")})});scenario("Typing all characters of required portion of mask containing optional",function(){var a=0;given("an input with a completed callback",function(){input.mask("99?99",{completed:function(){a++}})});when("typing left to right",function(){input.mashKeys("1234")});then("completed callback should be called",function(){expect(a).toEqual(1)});then("value should be correct",function(){expect(input).toHaveValue("1234")})});scenario("Completing mask by typing last character with literal to right",function(){var a=false;given("an input with a completed callback",function(){input.mask("99!",{completed:function(){a=true}})});when("typing left to right",function(){input.mashKeys("12")});then("completed callback should be called",function(){expect(a).toBeTruthy()});then("value should be correct",function(){expect(input).toHaveValue("12!")})})});