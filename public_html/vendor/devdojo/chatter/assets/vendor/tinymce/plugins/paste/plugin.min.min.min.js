!function(e,f){function g(h,k){for(var i,j=[],l=0;l<h.length;++l){if(i=d[h[l]]||b(h[l]),!i){throw"module definition dependecy not found: "+h[l]}j.push(i)}k.apply(null,j)}function a(h,i,j){if("string"!=typeof h){throw"invalid module definition, module id must be defined and be a string"}if(i===f){throw"invalid module definition, dependencies must be specified"}if(j===f){throw"invalid module definition, definition function must be specified"}g(i,function(){d[h]=j.apply(null,arguments)})}function b(h){for(var k=e,i=h.split(/[.\/]/),j=0;j<i.length;++j){if(!k[i[j]]){return}k=k[i[j]]}return k}function c(k){var l,m,n,j,h;for(l=0;l<k.length;l++){m=e,n=k[l],j=n.split(/[.\/]/);for(var i=0;i<j.length-1;++i){m[j[i]]===f&&(m[j[i]]={}),m=m[j[i]]}m[j[j.length-1]]=d[n]}if(e.AMDLC_TESTS){h=e.privateModules||{};for(n in d){h[n]=d[n]}for(l=0;l<k.length;l++){delete h[k[l]]}e.privateModules=h}}var d={};a("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],function(m,n,h){function i(o,p){return m.each(p,function(q){o=q.constructor==RegExp?o.replace(q,""):o.replace(q[0],q[1])}),o}function j(z){function p(w){var x=w.name,v=w;if("br"===x){return void (t+="\n")}if(u[x]&&(t+=" "),o[x]){return void (t+=" ")}if(3==w.type&&(t+=w.value),!w.shortEnded&&(w=w.firstChild)){do{p(w)}while(w=w.next)}q[x]&&v.next&&(t+="\n","p"==x&&(t+="\n"))}var r=new h,s=new n({},r),t="",u=r.getShortEndedElements(),o=m.makeMap("script noscript style textarea video audio iframe object"," "),q=r.getBlockElements();return z=i(z,[/<!\[[^\]]+\]>/g]),p(s.parse(z)),t}function k(o){function p(r,s,q){return s||q?"\xa0":" "}return o=i(o,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,p],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function l(o){var p=0;return function(){return o+p++}}return{filter:i,innerText:j,trimHtml:k,createIdGenerator:l}}),a("tinymce/pasteplugin/SmartPaste",["tinymce/util/Tools"],function(l){var m=function(o){return/^https?:\/\/[\w\?\-\/+=.&%]+$/i.test(o)},n=function(o){return m(o)&&/.(gif|jpe?g|png)$/.test(o)},y=function(p,q,o){return p.undoManager.extra(function(){o(p,q)},function(){p.insertContent('<img src="'+q+'">')}),!0},z=function(p,q,o){return p.undoManager.extra(function(){o(p,q)},function(){p.execCommand("mceInsertLink",!1,q)}),!0},A=function(o,p,q){return o.selection.isCollapsed()===!1&&m(p)?z(o,p,q):!1},h=function(p,q,o){return n(q)?y(p,q,o):!1},i=function(o,p){return o.insertContent(p,{merge:o.settings.paste_merge_formats!==!1,paste:!0}),!0},j=function(o,p){l.each([A,h,i],function(q){return q(o,p,i)!==!0})},k=function(o,p){o.settings.smart_paste===!1?i(o,p):j(o,p)};return{isImageUrl:n,isAbsoluteUrl:m,insertContent:k}}),a("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/pasteplugin/SmartPaste","tinymce/util/Delay"],function(m,j,h,i,k,l){return function(ah){function ai(J){var K,H=ah.dom;if(K=ah.fire("BeforePastePreProcess",{content:J}),K=ah.fire("PastePreProcess",K),J=K.content,!K.isDefaultPrevented()){if(ah.hasEventListeners("PastePostProcess")&&!K.isDefaultPrevented()){var I=H.add(ah.getBody(),"div",{style:"display:none"},J);K=ah.fire("PastePostProcess",{node:I}),H.remove(I),J=K.node.innerHTML}K.isDefaultPrevented()||k.insertContent(ah,J)}}function n(J){J=ah.dom.encode(J).replace(/\r\n/g,"\n");var K,H=ah.dom.getParent(ah.selection.getStart(),ah.dom.isBlock),I=ah.settings.forced_root_block;I&&(K=ah.dom.createHTML(I,ah.settings.forced_root_block_attrs),K=K.substr(0,K.length-3)+">"),H&&/^(PRE|DIV)$/.test(H.nodeName)||!I?J=i.filter(J,[[/\n/g,"<br>"]]):(J=i.filter(J,[[/\n\n/g,"</p>"+K],[/^(.*<\/p>)(<p>)$/,K+"$1"],[/\n/g,"<br />"]]),-1!=J.indexOf("<p>")&&(J=K+J)),ai(J)}function o(){function H(T){var U,Q,R,S=T.startContainer;if(U=T.getClientRects(),U.length){return U[0]}if(T.collapsed&&1==S.nodeType){for(R=S.childNodes[ag.startOffset];R&&3==R.nodeType&&!R.data.length;){R=R.nextSibling}if(R){return"BR"==R.tagName&&(Q=J.doc.createTextNode("\ufeff"),R.parentNode.insertBefore(Q,R),T=J.createRng(),T.setStartBefore(Q),T.setEndAfter(Q),U=T.getClientRects(),J.remove(Q)),U.length?U[0]:void 0}}}var I,J=ah.dom,K=ah.getBody(),L=ah.dom.getViewPort(ah.getWin()),M=L.y,N=20;if(ag=ah.selection.getRng(),ah.inline&&(I=ah.selection.getScrollContainer(),I&&I.scrollTop>0&&(M=I.scrollTop)),ag.getClientRects){var O=H(ag);if(O){N=M+(O.top-J.getPos(K).y)}else{N=M;var P=ag.startContainer;P&&(3==P.nodeType&&P.parentNode!=K&&(P=P.parentNode),1==P.nodeType&&(N=J.getPos(P,I||K).y))}}af=J.add(ah.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+N+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},D),(m.ie||m.gecko)&&J.setStyle(af,"left","rtl"==J.getStyle(K,"direction",!0)?65535:-65535),J.bind(af,"beforedeactivate focusin focusout",function(Q){Q.stopPropagation()}),af.focus(),ah.selection.select(af,!0)}function p(){if(af){for(var H;H=ah.dom.get("mcepastebin");){ah.dom.remove(H),ah.dom.unbind(H)}ag&&ah.selection.setRng(ag)}af=ag=null}function q(){var K,L,H,I,J="";for(K=ah.dom.select("div[id=mcepastebin]"),L=0;L<K.length;L++){H=K[L],H.firstChild&&"mcepastebin"==H.firstChild.id&&(H=H.firstChild),I=H.innerHTML,J!=D&&(J+=I)}return J}function r(K){var L={};if(K){if(K.getData){var H=K.getData("Text");H&&H.length>0&&-1==H.indexOf(F)&&(L["text/plain"]=H)}if(K.types){for(var I=0;I<K.types.length;I++){var J=K.types[I];L[J]=K.getData(J)}}}return L}function s(H){return r(H.clipboardData||ah.getDoc().dataTransfer)}function t(H){return G(H,"text/html")||G(H,"text/plain")}function u(H){var I;return I=H.indexOf(","),-1!==I?H.substr(I+1):null}function w(H,I){return H.images_dataimg_filter?H.images_dataimg_filter(I):!0}function y(H,I,J){H&&(ah.selection.setRng(H),H=null);var K=I.result,L=u(K),M=new Image;if(M.src=K,w(ah.settings,M)){var N,O,P=ah.editorUpload.blobCache;O=P.findFirst(function(Q){return Q.base64()===L}),O?N=O:(N=P.create(ac(),J,L),P.add(N)),ai('<img src="'+N.blobUri()+'">')}else{ai('<img src="'+K+'">')}}function A(J,K){function H(O){var Q,M,N,P=!1;if(O){for(Q=0;Q<O.length;Q++){if(M=O[Q],/^image\/(jpeg|png|gif|bmp)$/.test(M.type)){var L=M.getAsFile?M.getAsFile():M;N=new FileReader,N.onload=y.bind(null,K,N,L),N.readAsDataURL(L),J.preventDefault(),P=!0}}}return P}var I=J.clipboardData||J.dataTransfer;return ah.settings.paste_data_images&&I?H(I.items)||H(I.files):void 0}function C(H){var I=H.clipboardData;return -1!=navigator.userAgent.indexOf("Android")&&I&&I.items&&0===I.items.length}function E(H){return j.getCaretRangeFromPoint(H.clientX,H.clientY,ah.getDoc())}function G(H,I){return I in H&&H[I].length>0}function ad(H){return h.metaKeyPressed(H)&&86==H.keyCode||H.shiftKey&&45==H.keyCode}function ae(){function J(K,L,M){var N;return G(K,"text/html")?N=K["text/html"]:(N=q(),N==D&&(M=!0)),N=i.trimHtml(N),af&&af.firstChild&&"mcepastebin"===af.firstChild.id&&(M=!0),p(),N.length||(M=!0),M&&(N=G(K,"text/plain")&&-1==N.indexOf("</p>")?K["text/plain"]:i.innerText(N)),N==D?void (L||ah.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void (M?n(N):ai(N))}function H(K){return 0===K["text/plain"].indexOf("file://")}ah.on("keydown",function(L){function K(M){ad(M)&&!M.isDefaultPrevented()&&p()}if(ad(L)&&!L.isDefaultPrevented()){if(v=L.shiftKey&&86==L.keyCode,v&&m.webkit&&-1!=navigator.userAgent.indexOf("Version/")){return}if(L.stopImmediatePropagation(),z=(new Date).getTime(),m.ie&&v){return L.preventDefault(),void ah.fire("paste",{ieFake:!0})}p(),o(),ah.once("keyup",K),ah.once("paste",function(){ah.off("keyup",K)})}});var I=function(){return ag||ah.selection.getRng()};ah.on("paste",function(P){var L=(new Date).getTime(),O=s(P),K=(new Date).getTime()-L,M=(new Date).getTime()-z-K<1000,N="text"==x.pasteFormat||v;return v=!1,P.isDefaultPrevented()||C(P)?void p():!t(O)&&A(P,I())?void p():(M||P.preventDefault(),!m.ie||M&&!P.ieFake||(o(),ah.dom.bind(af,"paste",function(Q){Q.stopPropagation()}),ah.getDoc().execCommand("Paste",!1,null),O["text/html"]=q()),void (G(O,"text/html")?(P.preventDefault(),J(O,M,N)):l.setEditorTimeout(ah,function(){J(O,M,N)},0)))}),ah.on("dragstart dragend",function(K){B="dragstart"==K.type}),ah.on("drop",function(K){var L,M;if(M=E(K),!K.isDefaultPrevented()&&!B&&(L=r(K.dataTransfer),(t(L)&&!H(L)||!A(K,M))&&M&&ah.settings.paste_filter_drop!==!1)){var N=L["mce-internal"]||L["text/html"]||L["text/plain"];N&&(K.preventDefault(),l.setEditorTimeout(ah,function(){ah.undoManager.transact(function(){L["mce-internal"]&&ah.execCommand("Delete"),ah.selection.setRng(M),N=i.trimHtml(N),L["text/html"]?ai(N):n(N)})}))}}),ah.on("dragover dragend",function(K){ah.settings.paste_data_images&&K.preventDefault()})}var af,ag,v,x=this,z=0,B=!1,D="%MCEPASTEBIN%",F="data:text/mce-internal,",ac=i.createIdGenerator("mceclip");x.pasteHtml=ai,x.pasteText=n,x.pasteImageData=A,ah.on("preInit",function(){ae(),ah.parser.addNodeFilter("img",function(H,I,J){function K(Q){return Q.data&&Q.data.paste===!0}function L(Q){Q.attr("data-mce-object")||P===m.transparentSrc||Q.remove()}function M(Q){return 0===Q.indexOf("webkit-fake-url")}function N(Q){return 0===Q.indexOf("data:")}if(!ah.settings.paste_data_images&&K(J)){for(var O=H.length;O--;){var P=H[O].attributes.map.src;P&&(M(P)?L(H[O]):!ah.settings.allow_html_data_urls&&N(P)&&L(H[O]))}}})})}}),a("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],function(l,m,n,y,z,A){function h(o){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(o)||/class="OutlineElement/.test(o)||/id="?docs\-internal\-guid\-/.test(o)}function i(o){var p,q;return q=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],o=o.replace(/^[\u00a0 ]+/,""),l.each(q,function(r){return r.test(o)?(p=!0,!1):void 0}),p}function j(o){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(o)}function k(o){var p=o.settings;o.on("BeforePastePreProcess",function(D){function E(C){function R(G){var F="";if(3===G.type){return G.value}if(G=G.firstChild){do{F+=R(G)}while(G=G.next)}return F}function S(F,G){if(3===F.type&&G.test(F.value)){return F.value=F.value.replace(G,""),!1}if(F=F.firstChild){do{if(!S(F,G)){return !1}}while(F=F.next)}return !0}function T(F){if(F._listIgnore){return void F.remove()}if(F=F.firstChild){do{T(F)}while(F=F.next)}}function U(H,I,F){var G=H._listLevel||X;G!=X&&(X>G?V&&(V=V.parent.parent):(W=V,V=null)),V&&V.name==I?V.append(H):(W=W||V,V=new z(I,1),F>1&&V.attr("start",""+F),H.wrap(V)),H.name="li",G>X&&W&&W.lastChild.append(V),X=G,T(H),S(H,/^\u00a0+/),S(H,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),S(H,/^\u00a0+/)}for(var V,W,X=1,Y=[],Z=C.firstChild;"undefined"!=typeof Z&&null!==Z;){if(Y.push(Z),Z=Z.walk(),null!==Z){for(;"undefined"!=typeof Z&&Z.parent!==C;){Z=Z.walk()}}}for(var aa=0;aa<Y.length;aa++){if(C=Y[aa],"p"==C.name&&C.firstChild){var ab=R(C);if(j(ab)){U(C,"ul");continue}if(i(ab)){var ac=/([0-9]+)\./.exec(ab),B=1;ac&&(B=parseInt(ac[1],10)),U(C,"ol",B);continue}if(C._listLevel){U(C,"ul",1);continue}V=null}else{W=V,V=null}}}function t(K,B){var C,I={},J=o.dom.parseStyle(B);return l.each(J,function(G,F){switch(F){case"mso-list":C=/\w+ \w+([0-9]+)/i.exec(B),C&&(K._listLevel=parseInt(C[1],10)),/Ignore/i.test(G)&&K.firstChild&&(K._listIgnore=!0,K.firstChild._listIgnore=!0);break;case"horiz-align":F="text-align";break;case"vert-align":F="vertical-align";break;case"font-color":case"mso-foreground":F="color";break;case"mso-background":case"mso-highlight":F="background";break;case"font-weight":case"font-style":return void ("normal"!=G&&(I[F]=G));case"mso-element":if(/^(comment|comment-list)$/i.test(G)){return void K.remove()}}return 0===F.indexOf("mso-comment")?void K.remove():void (0!==F.indexOf("mso-")&&("all"==u||v&&v[F])&&(I[F]=G))}),/(bold)/i.test(I["font-weight"])&&(delete I["font-weight"],K.wrap(new z("b",1))),/(italic)/i.test(I["font-style"])&&(delete I["font-style"],K.wrap(new z("i",1))),I=o.dom.serializeStyle(I,K.name),I?I:null}var u,v,w=D.content;if(w=w.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,""),w=w.replace(/<br class="?Apple-interchange-newline"?>/gi,""),u=p.paste_retain_style_properties,u&&(v=l.makeMap(u.split(/[, ]/))),p.paste_enable_default_filters!==!1&&h(D.content)){D.wordContent=!0,w=A.filter(w,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(B,C){return C.length>0?C.replace(/./," ").slice(Math.floor(C.length/2)).split("").join("\xa0"):""}]]);var x=p.paste_word_valid_elements;x||(x="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var q=new n({valid_elements:x,valid_children:"-li[p]"});l.each(q.elements,function(B){B.attributes["class"]||(B.attributes["class"]={},B.attributesOrder.push("class")),B.attributes.style||(B.attributes.style={},B.attributesOrder.push("style"))});var r=new m({},q);r.addAttributeFilter("style",function(C){for(var G,B=C.length;B--;){G=C[B],G.attr("style",t(G,G.attr("style"))),"span"==G.name&&G.parent&&!G.attributes.length&&G.unwrap()}}),r.addAttributeFilter("class",function(H){for(var I,B,C=H.length;C--;){I=H[C],B=I.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(B)&&I.remove(),I.attr("class",null)}}),r.addNodeFilter("del",function(B){for(var C=B.length;C--;){B[C].remove()}}),r.addNodeFilter("a",function(J){for(var K,B,C,I=J.length;I--;){if(K=J[I],B=K.attr("href"),C=K.attr("name"),B&&-1!=B.indexOf("#_msocom_")){K.remove()}else{if(B&&0===B.indexOf("file://")&&(B=B.split("#")[1],B&&(B="#"+B)),B||C){if(C&&!/^_?(?:toc|edn|ftn)/i.test(C)){K.unwrap();continue}K.attr({href:B,name:C})}else{K.unwrap()}}}});var s=r.parse(w);p.paste_convert_word_fake_lists!==!1&&E(s),D.content=new y({validate:p.validate},q).serialize(s)}})}return k.isWordContent=h,k}),a("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],function(i,j,k,h){return function(n){function o(q){n.on("BeforePastePreProcess",function(p){p.content=q(p.content)})}function l(u){if(!k.isWordContent(u)){return u}var s=[];j.each(n.schema.getBlockElements(),function(p,q){s.push(q)});var t=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+s.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return u=h.filter(u,[[t,"$1"]]),u=h.filter(u,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function m(v){if(k.isWordContent(v)){return v}var w=n.settings.paste_webkit_styles;if(n.settings.paste_remove_styles_if_webkit===!1||"all"==w){return v}if(w&&(w=w.split(/[, ]/)),w){var t=n.dom,u=n.selection.getNode();v=v.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(p,q,r,s){var C=t.parseStyle(r,"span"),D={};if("none"===w){return q+s}for(var E=0;E<w.length;E++){var F=C[w[E]],G=t.getStyle(u,w[E],!0);/color/.test(w[E])&&(F=t.toHex(F),G=t.toHex(G)),G!=F&&(D[w[E]]=F)}return D=t.serializeStyle(D,"span"),D?q+' style="'+D+'"'+s:q+s})}else{v=v.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")}return v=v.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(r,s,p,q){return s+' style="'+p+'"'+q})}i.webkit&&o(m),i.ie&&o(l)}}),a("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(h,j,i,k){var l;h.add("paste",function(m){function n(){return l||m.settings.paste_plaintext_inform===!1}function o(){if("text"==p.pasteFormat){this.active(!1),p.pasteFormat="html",m.fire("PastePlainTextToggle",{state:!1})}else{if(p.pasteFormat="text",this.active(!0),!n()){var r=m.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");m.notificationManager.open({text:r,type:"info"}),l=!0,m.fire("PastePlainTextToggle",{state:!0})}}m.focus()}var p,q=this,t=m.settings;q.clipboard=p=new j(m),q.quirks=new k(m),q.wordFilter=new i(m),m.settings.paste_as_text&&(q.clipboard.pasteFormat="text"),t.paste_preprocess&&m.on("PastePreProcess",function(r){t.paste_preprocess.call(q,q,r)}),t.paste_postprocess&&m.on("PastePostProcess",function(r){t.paste_postprocess.call(q,q,r)}),m.addCommand("mceInsertClipboardContent",function(r,s){s.content&&q.clipboard.pasteHtml(s.content),s.text&&q.clipboard.pasteText(s.text)}),m.settings.paste_block_drop&&m.on("dragend dragover draggesture dragdrop drop drag",function(r){r.preventDefault(),r.stopPropagation()}),m.settings.paste_data_images||m.on("drop",function(r){var s=r.dataTransfer;s&&s.files&&s.files.length>0&&r.preventDefault()}),m.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:o,active:"text"==q.clipboard.pasteFormat}),m.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:p.pasteFormat,onclick:o})})}),c(["tinymce/pasteplugin/Utils"])}(this);