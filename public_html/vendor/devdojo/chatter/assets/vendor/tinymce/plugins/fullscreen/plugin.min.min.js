tinymce.PluginManager.add("fullscreen",function(z){function y(){var g,f,j=window,i=document,h=i.body;return h.offsetWidth&&(g=h.offsetWidth,f=h.offsetHeight),j.innerWidth&&j.innerHeight&&(g=j.innerWidth,f=j.innerHeight),{w:g,h:f}}function x(){var b=tinymce.DOM.getViewPort();return{x:b.x,y:b.y}}function w(b){scrollTo(b.x,b.y)}function v(){function f(){n.setStyle(d,"height",y().h-(g.clientHeight-d.clientHeight))}var h,g,d,c,b=document.body,a=document.documentElement;o=!o,g=z.getContainer(),h=g.style,d=z.getContentAreaContainer().firstChild,c=d.style,o?(p=x(),u=c.width,t=c.height,c.width=c.height="100%",r=h.width,q=h.height,h.width=h.height="",n.addClass(b,"mce-fullscreen"),n.addClass(a,"mce-fullscreen"),n.addClass(g,"mce-fullscreen"),n.bind(window,"resize",f),f(),s=f):(c.width=u,c.height=t,r&&(h.width=r),q&&(h.height=q),n.removeClass(b,"mce-fullscreen"),n.removeClass(a,"mce-fullscreen"),n.removeClass(g,"mce-fullscreen"),n.unbind(window,"resize",s),w(p)),z.fire("FullscreenStateChanged",{state:o})}var u,t,s,r,q,p,o=!1,n=tinymce.DOM;return z.settings.inline?void 0:(z.on("init",function(){z.addShortcut("Ctrl+Shift+F","",v)}),z.on("remove",function(){s&&n.unbind(window,"resize",s)}),z.addCommand("mceFullScreen",v),z.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,onClick:function(){v(),z.focus()},onPostRender:function(){var a=this;z.on("FullscreenStateChanged",function(b){a.active(b.state)})},context:"view"}),z.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Ctrl+Alt+F",onClick:v,onPostRender:function(){var a=this;z.on("FullscreenStateChanged",function(b){a.active(b.state)})}}),{isFullscreen:function(){return o}})});