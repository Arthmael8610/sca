tinymce.PluginManager.add("noneditable",function(r){function q(b){return function(a){return -1!==(" "+a.attr("class")+" ").indexOf(b)}}function p(a){function s(g){var t=arguments,h=t[t.length-2];return h>0&&'"'==f.charAt(h-1)?g:'<span class="'+e+'" data-mce-content="'+r.dom.encode(t[0])+'">'+r.dom.encode("string"==typeof t[1]?t[1]:t[0])+"</span>"}var i=m.length,f=a.content,e=tinymce.trim(n);if("raw"!=a.format){for(;i--;){f=f.replace(m[i],s)}a.content=f}}var o,n,m,l="contenteditable";o=" "+tinymce.trim(r.getParam("noneditable_editable_class","mceEditable"))+" ",n=" "+tinymce.trim(r.getParam("noneditable_noneditable_class","mceNonEditable"))+" ";var k=q(o),j=q(n);m=r.getParam("noneditable_regexp"),m&&!m.length&&(m=[m]),r.on("PreInit",function(){m&&r.on("BeforeSetContent",p),r.parser.addAttributeFilter("class",function(e){for(var d,f=e.length;f--;){d=e[f],k(d)?d.attr(l,"true"):j(d)&&d.attr(l,"false")}}),r.serializer.addAttributeFilter(l,function(e){for(var d,f=e.length;f--;){d=e[f],(k(d)||j(d))&&(m&&d.attr("data-mce-content")?(d.name="#text",d.type=3,d.raw=!0,d.value=d.attr("data-mce-content")):d.attr(l,null))}})})});