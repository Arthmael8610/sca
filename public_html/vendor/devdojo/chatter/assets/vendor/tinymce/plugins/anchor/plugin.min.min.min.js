tinymce.PluginManager.add("anchor",function(a){function b(){var c=a.selection.getNode(),d="",g="A"==c.tagName&&""===a.dom.getAttrib(c,"href");g&&(d=c.name||c.id||""),a.windowManager.open({title:"Anchor",body:{type:"textbox",name:"name",size:40,label:"Name",value:d},onsubmit:function(f){var e=f.data.name;g?c.id=e:(a.selection.collapse(!0),a.execCommand("mceInsertContent",!1,a.dom.createHTML("a",{id:e})))}})}a.addCommand("mceAnchor",b),a.addButton("anchor",{icon:"anchor",tooltip:"Anchor",onclick:b,stateSelector:"a:not([href])"}),a.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",onclick:b})});