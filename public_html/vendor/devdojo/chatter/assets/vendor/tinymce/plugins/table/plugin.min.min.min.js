!function(e,f){function a(h,i){for(var j,k=[],g=0;g<h.length;++g){if(j=d[h[g]]||c(h[g]),!j){throw"module definition dependecy not found: "+h[g]}k.push(j)}i.apply(null,k)}function b(g,h,i){if("string"!=typeof g){throw"invalid module definition, module id must be defined and be a string"}if(h===f){throw"invalid module definition, dependencies must be specified"}if(i===f){throw"invalid module definition, definition function must be specified"}a(h,function(){d[g]=i.apply(null,arguments)})}function c(h){for(var j=e,g=h.split(/[.\/]/),i=0;i<g.length;++i){if(!j[g[i]]){return}j=j[g[i]]}return j}var d={};b("tinymce/tableplugin/Utils",["tinymce/Env"],function(h){function i(j,k){return parseInt(j.getAttribute(k)||1,10)}function g(j){(!h.ie||h.ie>9)&&(j.hasChildNodes()||(j.innerHTML='<br data-mce-bogus="1" />'))}return{getSpanVal:i,paddCell:g}}),b("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils"],function(h,i,j){var k=h.each,g=j.getSpanVal;return function(Q,R,S){function T(){Q.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function m(U){return U===Q.getBody()}function o(V,U){return V?(U=h.map(U.split(","),function(W){return W.toLowerCase()}),h.grep(V.childNodes,function(W){return -1!==h.inArray(U,W.nodeName.toLowerCase())})):[]}function q(){var U=0;v=[],aa=0,k(["thead","tbody","tfoot"],function(X){var V=o(R,X)[0],W=o(V,"tr");k(W,function(Y,Z){Z+=U,k(o(Y,"td,th"),function(ah,ak){var ag,ai,aj,af;if(v[Z]){for(;v[Z][ak];){ak++}}for(aj=g(ah,"rowspan"),af=g(ah,"colspan"),ai=Z;Z+aj>ai;ai++){for(v[ai]||(v[ai]=[]),ag=ak;ak+af>ag;ag++){v[ai][ag]={part:X,real:ai==Z&&ag==ak,elm:ah,rowspan:aj,colspan:af}}}aa=Math.max(aa,ak+1)})}),U+=W.length})}function s(U){return Q.fire("newrow",{node:U}),U}function u(U){return Q.fire("newcell",{node:U}),U}function w(U,V){return U=U.cloneNode(V),U.removeAttribute("id"),U}function x(V,W){var U;return U=v[W],U?U[V]:void 0}function y(V,W,U){V&&(U=parseInt(U,10),1===U?V.removeAttribute(W,1):V.setAttribute(W,U,1))}function z(U){return U&&(!!ae.getAttrib(U.elm,"data-mce-selected")||U==S)}function A(){var U=[];return k(R.rows,function(V){k(V.cells,function(W){return ae.getAttrib(W,"data-mce-selected")||S&&W==S.elm?(U.push(V),!1):void 0})}),U}function B(){var U=ae.createRng();m(R)||(U.setStartAfter(R),U.setEndAfter(R),ad.setRng(U),ae.remove(R))}function C(W){var U,V={};return Q.settings.table_clone_elements!==!1&&(V=h.makeMap((Q.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),h.walk(W,function(Y){var X;return 3==Y.nodeType?(k(ae.getParents(Y.parentNode,null,W).reverse(),function(Z){V[Z.nodeName]&&(Z=w(Z,!1),U?X&&X.appendChild(Z):U=X=Z,X=Z)}),X&&(X.innerHTML=i.ie&&i.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1):void 0},"childNodes"),W=w(W,!1),u(W),y(W,"rowSpan",1),y(W,"colSpan",1),U?W.appendChild(U):j.paddCell(W),W}function D(){var U,V=ae.createRng();return k(ae.select("tr",R),function(W){0===W.cells.length&&ae.remove(W)}),0===ae.select("tr",R).length?(V.setStartBefore(R),V.setEndBefore(R),ad.setRng(V),void ae.remove(R)):(k(ae.select("thead,tbody,tfoot",R),function(W){0===W.rows.length&&ae.remove(W)}),q(),void (ab&&(U=v[Math.min(v.length-1,ab.y)],U&&(ad.select(U[Math.min(U.length-1,ab.x)].elm,!0),ad.collapse(!0)))))}function E(W,X,Y,Z){var af,ag,ah,U,V;for(af=v[X][W].elm.parentNode,ah=1;Y>=ah;ah++){if(af=ae.getNext(af,"tr")){for(ag=W;ag>=0;ag--){if(V=v[X+ah][ag].elm,V.parentNode==af){for(U=1;Z>=U;U++){ae.insertAfter(C(V),V)}break}}if(-1==ag){for(U=1;Z>=U;U++){af.insertBefore(C(af.cells[0]),af.cells[0])}}}}}function F(){k(v,function(U,V){k(U,function(af,W){var X,Y,Z;if(z(af)&&(af=af.elm,X=g(af,"colspan"),Y=g(af,"rowspan"),X>1||Y>1)){for(y(af,"rowSpan",1),y(af,"colSpan",1),Z=0;X-1>Z;Z++){ae.insertAfter(C(af),af)}E(W,V,Y-1,X)}})})}function G(am,ao,V){var X,Y,Z,af,ag,ah,aj,an,U,W,ai;if(am?(X=l(am),Y=X.x,Z=X.y,af=Y+(ao-1),ag=Z+(V-1)):(ab=ac=null,k(v,function(ap,aq){k(ap,function(at,ar){z(at)&&(ab||(ab={x:ar,y:aq}),ac={x:ar,y:aq})})}),ab&&(Y=ab.x,Z=ab.y,af=ac.x,ag=ac.y)),an=x(Y,Z),U=x(af,ag),an&&U&&an.part==U.part){F(),q(),an=x(Y,Z).elm;var ak=af-Y+1,al=ag-Z+1;for(ak===aa&&al===v.length&&(ak=1,al=1),ak===aa&&al>1&&(al=1),y(an,"colSpan",ak),y(an,"rowSpan",al),aj=Z;ag>=aj;aj++){for(ah=Y;af>=ah;ah++){v[aj]&&v[aj][ah]&&(am=v[aj][ah].elm,am!=an&&(W=h.grep(am.childNodes),k(W,function(ap){an.appendChild(ap)}),W.length&&(W=h.grep(an.childNodes),ai=0,k(W,function(ap){"BR"==ap.nodeName&&ai++<W.length-1&&an.removeChild(ap)})),ae.remove(am)))}}D()}}function H(W){var X,Y,Z,af,ag,ah,ai,aj,U,V;if(k(v,function(al,ak){return k(al,function(am){return z(am)&&(am=am.elm,ag=am.parentNode,ah=s(w(ag,!1)),X=ak,W)?!1:void 0}),W?!X:void 0}),X!==f){for(af=0,V=0;af<v[0].length;af+=V){if(v[X][af]&&(Y=v[X][af].elm,V=g(Y,"colspan"),Y!=Z)){if(W){if(X>0&&v[X-1][af]&&(aj=v[X-1][af].elm,U=g(aj,"rowSpan"),U>1)){y(aj,"rowSpan",U+1);continue}}else{if(U=g(Y,"rowspan"),U>1){y(Y,"rowSpan",U+1);continue}}ai=C(Y),y(ai,"colSpan",Y.colSpan),ah.appendChild(ai),Z=Y}}ah.hasChildNodes()&&(W?ag.parentNode.insertBefore(ah,ag):ae.insertAfter(ah,ag))}}function I(V){var W,U;k(v,function(X){return k(X,function(Y,Z){return z(Y)&&(W=Z,V)?!1:void 0}),V?!W:void 0}),k(v,function(X,Y){var Z,af,ag;X[W]&&(Z=X[W].elm,Z!=U&&(ag=g(Z,"colspan"),af=g(Z,"rowspan"),1==ag?V?(Z.parentNode.insertBefore(C(Z),Z),E(W,Y,af-1,ag)):(ae.insertAfter(C(Z),Z),E(W,Y,af-1,ag)):y(Z,"colSpan",Z.colSpan+1),U=Z))})}function J(U){return h.grep(K(U),z)}function K(U){var V=[];return k(U,function(W){k(W,function(X){V.push(X)})}),V}function L(){var U=[];if(m(R)){if(1==v[0].length){return}if(J(v).length==K(v).length){return}}k(v,function(V){k(V,function(W,X){z(W)&&-1===h.inArray(U,X)&&(k(v,function(Z){var af,Y=Z[X].elm;af=g(Y,"colSpan"),af>1?y(Y,"colSpan",af-1):ae.remove(Y)}),U.push(X))})}),D()}function M(){function U(X){var Y,W;k(X.cells,function(af){var Z=g(af,"rowSpan");Z>1&&(y(af,"rowSpan",Z-1),Y=l(af),E(Y.x,Y.y,1,1))}),Y=l(X.cells[0]),k(v[Y.y],function(Z){var af;Z=Z.elm,Z!=W&&(af=g(Z,"rowSpan"),1>=af?ae.remove(Z):y(Z,"rowSpan",af-1),W=Z)})}var V;V=A(),m(R)&&V.length==R.rows.length||(k(V.reverse(),function(W){U(W)}),D())}function N(){var U=A();if(!m(R)||U.length!=R.rows.length){return ae.remove(U),D(),U}}function O(){var U=A();return k(U,function(W,V){U[V]=w(W,!0)}),U}function P(Z,U){var V,W=A(),X=W[U?0:W.length-1],Y=X.cells.length;Z&&(V=h.map(Z,function(af){return af.cloneNode(!0)}),k(v,function(af){var ag;return Y=0,k(af,function(ah){ah.real&&(Y+=ah.colspan),ah.elm.parentNode==X&&(ag=1)}),ag?!1:void 0}),U||V.reverse(),k(V,function(af){var ag,ah,ai=af.cells.length;for(s(af),ag=0;ai>ag;ag++){ah=af.cells[ag],u(ah),y(ah,"colSpan",1),y(ah,"rowSpan",1)}for(ag=ai;Y>ag;ag++){af.appendChild(u(C(af.cells[ai-1])))}for(ag=Y;ai>ag;ag++){ae.remove(af.cells[ag])}U?X.parentNode.insertBefore(af,X):ae.insertAfter(af,X)}),T())}function l(U){var V;return k(v,function(W,X){return k(W,function(Y,Z){return Y.elm==U?(V={x:Z,y:X},!1):void 0}),!V}),V}function n(U){ab=l(U)}function p(){var U,V;return U=V=0,k(v,function(W,X){k(W,function(Y,Z){var af,ag;z(Y)&&(Y=v[X][Z],Z>U&&(U=Z),X>V&&(V=X),Y.real&&(af=Y.colspan-1,ag=Y.rowspan-1,af&&Z+af>U&&(U=Z+af),ag&&X+ag>V&&(V=X+ag)))})}),{x:U,y:V}}function r(W){var X,Y,Z,af,ag,ah,ai,aj,U,V;if(ac=l(W),ab&&ac){for(X=Math.min(ab.x,ac.x),Y=Math.min(ab.y,ac.y),Z=Math.max(ab.x,ac.x),af=Math.max(ab.y,ac.y),ag=Z,ah=af,V=Y;af>=V;V++){for(U=X;Z>=U;U++){W=v[V][U],W.real&&(ai=W.colspan-1,aj=W.rowspan-1,ai&&U+ai>ag&&(ag=U+ai),aj&&V+aj>ah&&(ah=V+aj))}}for(T(),V=Y;ah>=V;V++){for(U=X;ag>=U;U++){v[V][U]&&ae.setAttrib(v[V][U].elm,"data-mce-selected","1")}}}}function t(X,Y){var U,V,W;U=l(X),V=U.y*aa+U.x;do{if(V+=Y,W=x(V%aa,Math.floor(V/aa)),!W){break}if(W.elm!=X){return ad.select(W.elm,!0),ae.isEmpty(W.elm)&&ad.collapse(!0),!0}}while(W.elm==X);return !1}var v,aa,ab,ac,ad=Q.selection,ae=ad.dom;R=R||ae.getParent(ad.getStart(!0),"table"),q(),S=S||ae.getParent(ad.getStart(!0),"th,td"),S&&(ab=l(S),ac=p(),S=x(ab.x,ab.y)),h.extend(this,{deleteTable:B,split:F,merge:G,insertRow:H,insertCol:I,deleteCols:L,deleteRows:M,cutRows:N,copyRows:O,pasteRows:P,getPos:l,setStartCell:n,setEndCell:r,moveRelIdx:t,refresh:q})}}),b("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],function(t,g,h,i,j){var k=i.each,l=j.getSpanVal;return function(o){function p(){function s(X){function Y(w,x){var y=w?"previousSibling":"nextSibling",z=o.dom.getParent(x,"tr"),A=z[y];if(A){return W(o,x,A,w),X.preventDefault(),!0}var B=o.dom.getParent(z,"table"),C=z.parentNode,D=C.nodeName.toLowerCase();if("tbody"===D||D===(w?"tfoot":"thead")){var E=Z(w,B,C,"tbody");if(null!==E){return ab(w,E,x)}}return u(w,z,y,B)}function Z(w,x,y,z){var A=o.dom.select(">"+z,x),B=A.indexOf(y);if(w&&0===B||!w&&B===A.length-1){return aa(w,x)}if(-1===B){var C="thead"===y.tagName.toLowerCase()?0:A.length-1;return A[C]}return A[B+(w?-1:1)]}function aa(w,x){var y=w?"thead":"tfoot",z=o.dom.select(">"+y,x);return 0!==z.length?z[0]:null}function ab(w,x,y){var z=v(x,w);return z&&W(o,y,z,w),X.preventDefault(),!0}function u(w,x,y,z){var A=z[y];if(A){return N(A),!0}var B=o.dom.getParent(z,"td,th");if(B){return Y(w,B,X)}var C=v(x,!w);return N(C),X.preventDefault(),!1}function v(w,x){var y=w&&w[x?"lastChild":"firstChild"];return y&&"BR"===y.nodeName?o.dom.getParent(y,"td,th"):y}function N(w){o.selection.setCursorLocation(w,0)}function O(){return S==t.UP||S==t.DOWN}function R(w){var x=w.selection.getNode(),y=w.dom.getParent(x,"tr");return null!==y}function T(w){for(var x=0,y=w;y.previousSibling;){y=y.previousSibling,x+=l(y,"colspan")}return x}function V(w,x){var y=0,z=0;return k(w.children,function(B,A){return y+=l(B,"colspan"),z=A,y>x?!1:void 0}),z}function W(w,x,y,z){var A=T(o.dom.getParent(x,"td,th")),B=V(y,A),C=y.childNodes[B],D=v(C,z);N(D||C)}function P(w){var x=o.selection.getNode(),y=o.dom.getParent(x,"td,th"),z=o.dom.getParent(w,"td,th");return y&&y!==z&&Q(y,z)}function Q(w,x){return o.dom.getParent(w,"TABLE")===o.dom.getParent(x,"TABLE")}var S=X.keyCode;if(O()&&R(o)){var U=o.selection.getNode();g.setEditorTimeout(o,function(){P(U)&&Y(!X.shiftKey&&S===t.UP,U,X)},0)}}o.on("KeyDown",function(v){s(v)})}function q(){function s(B,C){var D,z=C.ownerDocument,A=z.createRange();return A.setStartBefore(C),A.setEnd(B.endContainer,B.endOffset),D=z.createElement("body"),D.appendChild(A.cloneContents()),0===D.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}o.on("KeyDown",function(B){var y,z,A=o.dom;37!=B.keyCode&&38!=B.keyCode||(y=o.selection.getRng(),z=A.getParent(y.startContainer,"table"),z&&o.getBody().firstChild==z&&s(y,z)&&(y=A.createRng(),y.setStartBefore(z),y.setEndBefore(z),o.selection.setRng(y),B.preventDefault()))})}function r(){o.on("KeyDown SetContent VisualAid",function(){var s;for(s=o.getBody().lastChild;s;s=s.previousSibling){if(3==s.nodeType){if(s.nodeValue.length>0){break}}else{if(1==s.nodeType&&("BR"==s.tagName||!s.getAttribute("data-mce-bogus"))){break}}}s&&"TABLE"==s.nodeName&&(o.settings.forced_root_block?o.dom.add(o.getBody(),o.settings.forced_root_block,o.settings.forced_root_block_attrs,h.ie&&h.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):o.dom.add(o.getBody(),"br",{"data-mce-bogus":"1"}))}),o.on("PreProcess",function(s){var v=s.node.lastChild;v&&("BR"==v.nodeName||1==v.childNodes.length&&("BR"==v.firstChild.nodeName||"\xa0"==v.firstChild.nodeValue))&&v.previousSibling&&"TABLE"==v.previousSibling.nodeName&&o.dom.remove(v)})}function m(){function s(u,E,F,G){var H,I,J,K=3,L=u.dom.getParent(E.startContainer,"TABLE");return L&&(H=L.parentNode),I=E.startContainer.nodeType==K&&0===E.startOffset&&0===E.endOffset&&G&&("TR"==F.nodeName||F==H),J=("TD"==F.nodeName||"TH"==F.nodeName)&&!G,I||J}function v(){var A=o.selection.getRng(),B=o.selection.getNode(),u=o.dom.getParent(A.startContainer,"TD,TH");if(s(o,A,B,u)){u||(u=B);for(var z=u.lastChild;z.lastChild;){z=z.lastChild}3==z.nodeType&&(A.setEnd(z,z.data.length),o.selection.setRng(A))}}o.on("KeyDown",function(){v()}),o.on("MouseDown",function(u){2!=u.button&&v()})}function n(){function v(u){o.selection.select(u,!0),o.selection.collapse(!0)}function s(u){o.$(u).empty(),j.paddCell(u)}o.on("keydown",function(C){if((C.keyCode==t.DELETE||C.keyCode==t.BACKSPACE)&&!C.isDefaultPrevented()){var D,u,A,B;if(D=o.dom.getParent(o.selection.getStart(),"table")){if(u=o.dom.select("td,th",D),A=i.grep(u,function(w){return !!o.dom.getAttrib(w,"data-mce-selected")}),0===A.length){return B=o.dom.getParent(o.selection.getStart(),"td,th"),void (o.selection.isCollapsed()&&B&&o.dom.isEmpty(B)&&(C.preventDefault(),s(B),v(B)))}C.preventDefault(),o.undoManager.transact(function(){u.length==A.length?o.execCommand("mceTableDelete"):(i.each(A,s),v(A[0]))})}}})}n(),h.webkit&&(p(),m()),h.gecko&&(q(),r()),h.ie>9&&(q(),r())}}),b("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(h,i,g){return function(m,o){function A(q){m.getBody().style.webkitUserSelect="",(q||n)&&(m.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),n=!1)}function B(r,q){return r&&q?r===l.getParent(q,"table"):!1}function C(r){var u,s,t=r.target;if(!k&&t!==j&&(j=t,F&&E)){if(s=l.getParent(t,"td,th"),B(F,s)||(s=l.getParent(F,"td,th")),E===s&&!n){return}if(o(!0),B(F,s)){r.preventDefault(),D||(D=new h(m,F,E),m.getBody().style.webkitUserSelect="none"),D.setEndCell(s),n=!0,u=m.selection.getSel();try{u.removeAllRanges?u.removeAllRanges():u.empty()}catch(q){}}}}var D,E,F,j,k,l=m.dom,n=!0,p=function(){E=D=F=j=null,o(!1)};return m.on("SelectionChange",function(q){n&&q.stopImmediatePropagation()},!0),m.on("MouseDown",function(q){2==q.button||k||(A(),E=l.getParent(q.target,"td,th"),F=l.getParent(E,"table"))}),m.on("mouseover",C),m.on("remove",function(){l.unbind(m.getDoc(),"mouseover",C),A()}),m.on("MouseUp",function(){function w(z,x){var y=new i(z,z);do{if(3==z.nodeType&&0!==g.trim(z.nodeValue).length){return void (x?u.setStart(z,0):u.setEnd(z,z.nodeValue.length))}if("BR"==z.nodeName){return void (x?u.setStartBefore(z):u.setEndBefore(z))}}while(z=x?y.next():y.prev())}var u,v,r,s,t,q=m.selection;if(E){if(D&&(m.getBody().style.webkitUserSelect=""),v=l.select("td[data-mce-selected],th[data-mce-selected]"),v.length>0){u=l.createRng(),s=v[0],u.setStartBefore(s),u.setEndAfter(s),w(s,1),r=new i(s,l.getParent(v[0],"table"));do{if("TD"==s.nodeName||"TH"==s.nodeName){if(!l.getAttrib(s,"data-mce-selected")){break}t=s}}while(s=r.next());w(t),q.setRng(u)}m.nodeChanged(),p()}}),m.on("KeyUp Drop SetContent",function(q){A("setcontent"==q.type),p(),k=!1}),m.on("ObjectResizeStart ObjectResized",function(q){k="objectresized"!=q.type}),{clear:A}}}),b("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(h,i){var g=h.each;return function(y){function z(){var p=y.settings.color_picker_callback;return p?function(){var q=this;p.call(y,function(r){q.value(r).fire("change")},q.value())}:void 0}function A(p){return{title:"Advanced",type:"form",defaults:{onchange:function(){l(p,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:z()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:z()}]}]}}function B(p){return p?p.replace(/px$/,""):""}function C(p){return/^[0-9]+$/.test(p)&&(p+="px"),p}function D(p){g("left center right".split(" "),function(q){y.formatter.remove("align"+q,{},p)})}function j(p){g("top middle bottom".split(" "),function(q){y.formatter.remove("valign"+q,{},p)})}function k(p,s,q){function r(u,t){return t=t||[],h.each(u,function(v){var w={text:v.text||v.title};v.menu?w.menu=r(v.menu):(w.value=v.value,s&&s(w)),t.push(w)}),t}return r(p,q||[])}function l(t,p,r){var s=p.toJSON(),q=t.parseStyle(s.style);r?(p.find("#borderColor").value(q["border-color"]||"")[0].fire("change"),p.find("#backgroundColor").value(q["background-color"]||"")[0].fire("change")):(q["border-color"]=s.borderColor,q["background-color"]=s.backgroundColor),p.find("#style").value(t.serializeStyle(t.parseStyle(t.serializeStyle(q))))}function m(s,p,r){var q=s.parseStyle(s.getAttrib(r,"style"));q["border-color"]&&(p.borderColor=q["border-color"]),q["background-color"]&&(p.backgroundColor=q["background-color"]),p.style=s.serializeStyle(q)}function n(s,p,r){var q=s.parseStyle(s.getAttrib(p,"style"));g(r,function(t){q[t.name]=t.value}),s.setAttrib(p,"style",s.serializeStyle(s.parseStyle(s.serializeStyle(q))))}var o=this;o.tableProps=function(){o.table(!0)},o.table=function(r){function s(){function E(N,O,G){if("TD"===N.tagName||"TH"===N.tagName){p.setStyle(N,O,G)}else{if(N.children){for(var M=0;M<N.children.length;M++){E(N.children[M],O,G)}}}}var F;l(p,this),q=h.extend(q,this.toJSON()),q["class"]===!1&&delete q["class"],y.undoManager.transact(function(){if(w||(w=y.plugins.table.insertTable(q.cols||1,q.rows||1)),y.dom.setAttribs(w,{style:q.style,"class":q["class"]}),y.settings.table_style_by_css){if(I=[],I.push({name:"border",value:q.border}),I.push({name:"border-spacing",value:C(q.cellspacing)}),n(p,w,I),p.setAttribs(w,{"data-mce-border-color":q.borderColor,"data-mce-cell-padding":q.cellpadding,"data-mce-border":q.border}),w.children){for(var G=0;G<w.children.length;G++){E(w.children[G],"border",q.border),E(w.children[G],"padding",C(q.cellpadding))}}}else{y.dom.setAttribs(w,{border:q.border,cellpadding:q.cellpadding,cellspacing:q.cellspacing})}p.getAttrib(w,"width")&&!y.settings.table_style_by_css?p.setAttrib(w,"width",B(q.width)):p.setStyle(w,"width",C(q.width)),p.setStyle(w,"height",C(q.height)),F=p.select("caption",w)[0],F&&!q.caption&&p.remove(F),!F&&q.caption&&(F=p.create("caption"),F.innerHTML=i.ie?"\xa0":'<br data-mce-bogus="1"/>',w.insertBefore(F,w.firstChild)),D(w),q.align&&y.formatter.apply("align"+q.align,{},w),y.focus(),y.addVisual()})}function v(L,M){function E(J,K){for(var P=0;P<K.length;P++){var Q=p.getStyle(K[P],M);if("undefined"==typeof J&&(J=Q),J!=Q){return""}}return J}var F,G=y.dom.select("td,th",L);return F=E(F,G)}var w,t,u,x,H,I,p=y.dom,q={};r===!0?(w=p.getParent(y.selection.getStart(),"table"),w&&(q={width:B(p.getStyle(w,"width")||p.getAttrib(w,"width")),height:B(p.getStyle(w,"height")||p.getAttrib(w,"height")),cellspacing:B(p.getStyle(w,"border-spacing")||p.getAttrib(w,"cellspacing")),cellpadding:p.getAttrib(w,"data-mce-cell-padding")||p.getAttrib(w,"cellpadding")||v(w,"padding"),border:p.getAttrib(w,"data-mce-border")||p.getAttrib(w,"border")||v(w,"border"),borderColor:p.getAttrib(w,"data-mce-border-color"),caption:!!p.select("caption",w)[0],"class":p.getAttrib(w,"class")},g("left center right".split(" "),function(E){y.formatter.matchNode(w,"align"+E)&&(q.align=E)}))):(t={label:"Cols",name:"cols"},u={label:"Rows",name:"rows"}),y.settings.table_class_list&&(q["class"]&&(q["class"]=q["class"].replace(/\s*mce\-item\-table\s*/g,"")),x={name:"class",type:"listbox",label:"Class",values:k(y.settings.table_class_list,function(E){E.value&&(E.textStyle=function(){return y.formatter.getCssText({block:"table",classes:[E.value]})})})}),H={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:y.settings.table_appearance_options!==!1?[t,u,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[t,u,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},x]},y.settings.table_advtab!==!1?(m(p,q,w),y.windowManager.open({title:"Table properties",data:q,bodyType:"tabpanel",body:[{title:"General",type:"form",items:H},A(p)],onsubmit:s})):y.windowManager.open({title:"Table properties",data:q,body:H,onsubmit:s})},o.merge=function(q,p){y.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var r=this.toJSON();y.undoManager.transact(function(){q.merge(p,r.cols,r.rows)})}})},o.cell=function(){function q(){l(p,this),r=h.extend(r,this.toJSON()),y.undoManager.transact(function(){g(s,function(w){y.dom.setAttribs(w,{scope:r.scope,style:r.style,"class":r["class"]}),y.dom.setStyles(w,{width:C(r.width),height:C(r.height)}),r.type&&w.nodeName.toLowerCase()!=r.type&&(w=p.rename(w,r.type)),D(w),r.align&&y.formatter.apply("align"+r.align,{},w),j(w),r.valign&&y.formatter.apply("valign"+r.valign,{},w)}),y.focus()})}var v,r,t,p=y.dom,s=[];if(s=y.dom.select("td[data-mce-selected],th[data-mce-selected]"),v=y.dom.getParent(y.selection.getStart(),"td,th"),!s.length&&v&&s.push(v),v=v||s[0]){r={width:B(p.getStyle(v,"width")||p.getAttrib(v,"width")),height:B(p.getStyle(v,"height")||p.getAttrib(v,"height")),scope:p.getAttrib(v,"scope"),"class":p.getAttrib(v,"class")},r.type=v.nodeName.toLowerCase(),g("left center right".split(" "),function(w){y.formatter.matchNode(v,"align"+w)&&(r.align=w)}),g("top middle bottom".split(" "),function(w){y.formatter.matchNode(v,"valign"+w)&&(r.valign=w)}),y.settings.table_cell_class_list&&(t={name:"class",type:"listbox",label:"Class",values:k(y.settings.table_cell_class_list,function(w){w.value&&(w.textStyle=function(){return y.formatter.getCssText({block:"td",classes:[w.value]})})})});var u={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},t]};y.settings.table_cell_advtab!==!1?(m(p,r,v),y.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:r,body:[{title:"General",type:"form",items:u},A(p)],onsubmit:q})):y.windowManager.open({title:"Cell properties",data:r,body:u,onsubmit:q})}},o.row=function(){function x(){var H,E,F;l(t,this),u=h.extend(u,this.toJSON()),y.undoManager.transact(function(){var G=u.type;g(w,function(J){y.dom.setAttribs(J,{scope:u.scope,style:u.style,"class":u["class"]}),y.dom.setStyles(J,{height:C(u.height)}),G!=J.parentNode.nodeName.toLowerCase()&&(H=t.getParent(J,"table"),E=J.parentNode,F=t.select(G,H)[0],F||(F=t.create(G),H.firstChild?H.insertBefore(F,H.firstChild):H.appendChild(F)),F.appendChild(J),E.hasChildNodes()||t.remove(E)),D(J),u.align&&y.formatter.apply("align"+u.align,{},J)}),y.focus()})}var p,q,r,s,u,v,t=y.dom,w=[];p=y.dom.getParent(y.selection.getStart(),"table"),q=y.dom.getParent(y.selection.getStart(),"td,th"),g(p.rows,function(E){g(E.cells,function(F){return t.getAttrib(F,"data-mce-selected")||F==q?(w.push(E),!1):void 0})}),r=w[0],r&&(u={height:B(t.getStyle(r,"height")||t.getAttrib(r,"height")),scope:t.getAttrib(r,"scope"),"class":t.getAttrib(r,"class")},u.type=r.parentNode.nodeName.toLowerCase(),g("left center right".split(" "),function(E){y.formatter.matchNode(r,"align"+E)&&(u.align=E)}),y.settings.table_row_class_list&&(s={name:"class",type:"listbox",label:"Class",values:k(y.settings.table_row_class_list,function(E){E.value&&(E.textStyle=function(){return y.formatter.getCssText({block:"tr",classes:[E.value]})})})}),v={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"None",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},s]},y.settings.table_row_advtab!==!1?(m(t,u,r),y.windowManager.open({title:"Row properties",data:u,bodyType:"tabpanel",body:[{title:"General",type:"form",items:v},A(t)],onsubmit:x})):y.windowManager.open({title:"Row properties",data:u,body:v,onsubmit:x}))}}}),b("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],function(g,h){var i;return function(au){function av(aB,aA){return{index:aB,y:au.dom.getPos(aA).y}}function aw(aB,aA){return{index:aB,y:au.dom.getPos(aA).y+aA.offsetHeight}}function ax(aB,aA){return{index:aB,x:au.dom.getPos(aA).x}}function az(aB,aA){return{index:aB,x:au.dom.getPos(aA).x+aA.offsetWidth}}function B(){var aA=au.getBody().dir;return"rtl"===aA}function C(){return au.inline}function D(){return C?au.getBody().ownerDocument.body:au.getBody()}function E(aB,aA){return B()?az(aB,aA):ax(aB,aA)}function G(aB,aA){return B()?ax(aB,aA):az(aB,aA)}function H(aB,aA){return I(aB,"width")/I(aA,"width")*100}function I(aD,aA){var aB=au.dom.getStyle(aD,aA,!0),aC=parseInt(aB,10);return aC}function J(aC){var aA=I(aC,"width"),aB=I(aC.parentElement,"width");return aA/aB*100}function K(aC,aA){var aB=I(aC,"width");return aA/aB*100}function L(aC,aA){var aB=I(aC.parentElement,"width");return aA/aB*100}function M(aG,aA,aB){for(var aC=[],aD=1;aD<aB.length;aD++){var aE=aB[aD].element;aC.push(aG(aD-1,aE))}var aF=aB[aB.length-1];return aC.push(aA(aB.length-1,aF.element)),aC}function N(){var aA=au.dom.select("."+u,D());g.each(aA,function(aB){au.dom.remove(aB)})}function O(aA){N(),bc(aA)}function P(aG,aH,aI,aA,aB,aC,aD,aE){var aF={"data-mce-bogus":"all","class":u+" "+aG,unselectable:"on","data-mce-resize":!1,style:"cursor: "+aH+"; margin: 0; padding: 0; position: absolute; left: "+aI+"px; top: "+aA+"px; height: "+aB+"px; width: "+aC+"px; "};return aF[aD]=aE,aF}function Q(aA,aB,aC){g.each(aA,function(aG){var aH=aC.x,aD=aG.y-T/2,aE=T,aF=aB;au.dom.add(D(),"div",P(ba,at,aH,aD,aE,aF,U,aG.index))})}function R(aA,aB,aC){g.each(aA,function(aG){var aH=aG.x-T/2,aD=aC.y,aE=aB,aF=T;au.dom.add(D(),"div",P(n,s,aH,aD,aE,aF,y,aG.index))})}function S(aA){return g.map(aA.rows,function(aC){var aB=g.map(aC.cells,function(aE){var aF=aE.hasAttribute("rowspan")?parseInt(aE.getAttribute("rowspan"),10):1,aD=aE.hasAttribute("colspan")?parseInt(aE.getAttribute("colspan"),10):1;return{element:aE,rowspan:aF,colspan:aD}});return{element:aC,cells:aB}})}function z(aG){function aH(aJ,aK){return aJ+","+aK}function aI(aJ,aK){return aC[aH(aJ,aK)]}function aA(){var aJ=[];return g.each(aD,function(aK){aJ=aJ.concat(aK.cells)}),aJ}function aB(){return aD}var aC={},aD=[],aE=0,aF=0;return g.each(aG,function(aJ,aK){var aL=[];g.each(aJ.cells,function(aM){for(var aN=0;aC[aH(aK,aN)]!==f;){aN++}for(var aQ={element:aM.element,colspan:aM.colspan,rowspan:aM.rowspan,rowIndex:aK,colIndex:aN},aS=0;aS<aM.colspan;aS++){for(var aP=0;aP<aM.rowspan;aP++){var aR=aK+aP,aO=aN+aS;aC[aH(aR,aO)]=aQ,aE=Math.max(aE,aR+1),aF=Math.max(aF,aO+1)}}aL.push(aQ)}),aD.push({element:aJ.element,cells:aL})}),{grid:{maxRows:aE,maxCols:aF},getAt:aI,getAllCells:aA,getAllRows:aB}}function A(aD,aA){for(var aB=[],aC=aD;aA>aC;aC++){aB.push(aC)}return aB}function aZ(aF,aA,aB){for(var aC,aD=aF(),aE=0;aE<aD.length;aE++){aA(aD[aE])&&(aC=aD[aE])}return aC?aC:aB()}function a0(aA){var aB=A(0,aA.grid.maxCols),aC=A(0,aA.grid.maxRows);return g.map(aB,function(aG){function aD(){for(var aH=[],aI=0;aI<aC.length;aI++){var aJ=aA.getAt(aI,aG);aJ&&aJ.colIndex===aG&&aH.push(aJ)}return aH}function aE(aH){return 1===aH.colspan}function aF(){for(var aH,aI=0;aI<aC.length;aI++){if(aH=aA.getAt(aI,aG)){return aH}}return null}return aZ(aD,aE,aF)})}function bb(aA){var aB=A(0,aA.grid.maxCols),aC=A(0,aA.grid.maxRows);return g.map(aC,function(aG){function aD(){for(var aH=[],aI=0;aI<aB.length;aI++){var aJ=aA.getAt(aG,aI);aJ&&aJ.rowIndex===aG&&aH.push(aJ)}return aH}function aE(aH){return 1===aH.rowspan}function aF(){return aA.getAt(aG,0)}return aZ(aD,aE,aF)})}function bc(aH){var aA=S(aH),aB=z(aA),aC=bb(aB),aD=a0(aB),aE=au.dom.getPos(aH),aF=aC.length>0?M(av,aw,aC):[],aG=aD.length>0?M(E,G,aD):[];Q(aF,aH.offsetWidth,aE),R(aG,aH.offsetHeight,aE)}function bd(aG,aH,aI,aJ){if(0>aH||aH>=aG.length-1){return""}var aK=aG[aH];if(aK){aK={value:aK,delta:0}}else{for(var aL=aG.slice(0,aH).reverse(),aA=0;aA<aL.length;aA++){aL[aA]&&(aK={value:aL[aA],delta:aA+1})}}var aB=aG[aH+1];if(aB){aB={value:aB,delta:1}}else{for(var aC=aG.slice(aH+1),aD=0;aD<aC.length;aD++){aC[aD]&&(aB={value:aC[aD],delta:aD+1})}}var aE=aB.delta-aK.delta,aF=Math.abs(aB.value-aK.value)/aE;return aI?aF/I(aJ,"width")*100:aF}function be(aC,aA){var aB=au.dom.getStyle(aC,aA);return aB||(aB=au.dom.getAttrib(aC,aA)),aB||(aB=au.dom.getStyle(aC,aA,!0)),aB}function bf(aF,aA,aB){var aC=be(aF,"width"),aD=parseInt(aC,10),aE=aA?H(aF,aB):I(aF,"width");return(aA&&!ah(aC)||!aA&&!ai(aC))&&(aD=0),!isNaN(aD)&&aD>0?aD:aE}function j(aG,aH,aI){for(var aA=a0(aG),aB=g.map(aA,function(aJ){return E(aJ.colIndex,aJ.element).x}),aC=[],aD=0;aD<aA.length;aD++){var aE=aA[aD].element.hasAttribute("colspan")?parseInt(aA[aD].element.getAttribute("colspan"),10):1,aF=aE>1?bd(aB,aD):bf(aA[aD].element,aH,aI);aF=aF?aF:X,aC.push(aF)}return aC}function Z(aC){var aA=be(aC,"height"),aB=parseInt(aA,10);return ah(aA)&&(aB=0),!isNaN(aB)&&aB>0?aB:I(aC,"height")}function aa(aA){for(var aB=bb(aA),aC=g.map(aB,function(aH){return av(aH.rowIndex,aH.element).y}),aD=[],aE=0;aE<aB.length;aE++){var aF=aB[aE].element.hasAttribute("rowspan")?parseInt(aB[aE].element.getAttribute("rowspan"),10):1,aG=aF>1?bd(aC,aE):Z(aB[aE].element);aG=aG?aG:m,aD.push(aG)}return aD}function ab(aG,aH,aI,aJ,aK){function aA(aL){return g.map(aL,function(){return 0})}function aB(){var aM;if(aK){aM=[100-aF[0]]}else{var aL=Math.max(aJ,aF[0]+aI);aM=[aL-aF[0]]}return aM}function aC(aS,aM){var aN,aO=aA(aF.slice(0,aS)),aQ=aA(aF.slice(aM+1));if(aI>=0){var aR=Math.max(aJ,aF[aM]-aI);aN=aO.concat([aI,aR-aF[aM]]).concat(aQ)}else{var aL=Math.max(aJ,aF[aS]+aI),aP=aF[aS]-aL;aN=aO.concat([aL-aF[aS],aP]).concat(aQ)}return aN}function aD(aP,aM){var aO,aL=aA(aF.slice(0,aM));if(aI>=0){aO=aL.concat([aI])}else{var aN=Math.max(aJ,aF[aM]+aI);aO=aL.concat([aN-aF[aM]])}return aO}var aE,aF=aG.slice(0);return aE=0===aG.length?[]:1===aG.length?aB():0===aH?aC(0,1):aH>0&&aH<aG.length-1?aC(aH,aH+1):aH===aG.length-1?aD(aH-1,aH):[]}function ac(aE,aA,aB){for(var aC=0,aD=aE;aA>aD;aD++){aC+=aB[aD]}return aC}function ad(aA,aB){var aC=aA.getAllCells();return g.map(aC,function(aD){var aE=ac(aD.colIndex,aD.colIndex+aD.colspan,aB);return{element:aD.element,width:aE,colspan:aD.colspan}})}function af(aA,aB){var aC=aA.getAllCells();return g.map(aC,function(aD){var aE=ac(aD.rowIndex,aD.rowIndex+aD.rowspan,aB);return{element:aD.element,height:aE,rowspan:aD.rowspan}})}function ag(aA,aB){var aC=aA.getAllRows();return g.map(aC,function(aD,aE){return{element:aD.element,height:aB[aE]}})}function ah(aA){return x.test(aA)}function ai(aA){return p.test(aA)}function aj(aA,aB,aD){function aF(aS,aT){g.each(aS,function(aU){au.dom.setStyle(aU.element,"width",aU.width+aT),au.dom.setAttrib(aU.element,"width",null)})}function aG(){return aD<aL.grid.maxCols-1?J(aA):J(aA)+L(aA,aB)}function aH(){return aD<aL.grid.maxCols-1?I(aA,"width"):I(aA,"width")+aB}function aI(aS,aT,aU){aD!=aL.grid.maxCols-1&&aU||(au.dom.setStyle(aA,"width",aS+aT),au.dom.setAttrib(aA,"width",null))}for(var aJ=S(aA),aL=z(aJ),aM=ah(aA.width)||ah(aA.style.width),aO=j(aL,aM,aA),aR=aM?K(aA,aB):aB,aC=ab(aO,aD,aR,X,aM,aA),aE=[],aK=0;aK<aC.length;aK++){aE.push(aC[aK]+aO[aK])}var aN=ad(aL,aE),aP=aM?"%":"px",aQ=aM?aG():aH();au.undoManager.transact(function(){aF(aN,aP),aI(aQ,aP,aM)})}function ak(aF,aG,aH){for(var aI=S(aF),aJ=z(aI),aK=aa(aJ),aA=[],aB=0,aC=0;aC<aK.length;aC++){aA.push(aC===aH?aG+aK[aC]:aK[aC]),aB+=aB[aC]}var aD=af(aJ,aA),aE=ag(aJ,aA);au.undoManager.transact(function(){g.each(aE,function(aL){au.dom.setStyle(aL.element,"height",aL.height+"px"),au.dom.setAttrib(aL.element,"height",null)}),g.each(aD,function(aL){au.dom.setStyle(aL.element,"height",aL.height+"px"),au.dom.setAttrib(aL.element,"height",null)}),au.dom.setStyle(aF,"height",aB+"px"),au.dom.setAttrib(aF,"height",null)})}function al(){v=setTimeout(function(){ap()},200)}function am(){clearTimeout(v)}function an(){var aA=document.createElement("div");return aA.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),aA.setAttribute("data-mce-bogus","all"),aA}function ao(aB,aA){au.dom.bind(aB,"mouseup",function(){ap()}),au.dom.bind(aB,"mousemove",function(aC){am(),bg&&aA(aC)}),au.dom.bind(aB,"mouseout",function(){al()})}function ap(){if(au.dom.remove(ay),bg){au.dom.removeClass(V,r),bg=!1;var aF,aA;if(ar(V)){var aB=parseInt(au.dom.getAttrib(V,aq),10),aC=au.dom.getPos(V).x;aF=parseInt(au.dom.getAttrib(V,y),10),aA=B()?aB-aC:aC-aB,aj(i,aA,aF)}else{if(w(V)){var aD=parseInt(au.dom.getAttrib(V,Y),10),aE=au.dom.getPos(V).y;aF=parseInt(au.dom.getAttrib(V,U),10),aA=aE-aD,ak(i,aA,aF)}}O(i),au.nodeChanged()}}function t(aB,aA){ay=ay?ay:an(),bg=!0,au.dom.addClass(aB,r),V=aB,ao(ay,aA),au.dom.add(D(),ay)}function ar(aA){return au.dom.hasClass(aA,n)}function w(aA){return au.dom.hasClass(aA,ba)}function ae(aA){k=k!==f?k:aA.clientX;var aB=aA.clientX-k;k=aA.clientX;var aC=au.dom.getPos(V).x;au.dom.setStyle(V,"left",aC+aB+"px")}function F(aA){o=o!==f?o:aA.clientY;var aB=aA.clientY-o;o=aA.clientY;var aC=au.dom.getPos(V).y;au.dom.setStyle(V,"top",aC+aB+"px")}function W(aA){k=f,t(aA,ae)}function l(aA){o=f,t(aA,F)}function q(aE){var aA=aE.target,aB=au.getBody();if(au.$.contains(aB,i)||i===aB){if(ar(aA)){aE.preventDefault();var aC=au.dom.getPos(aA).x;au.dom.setAttrib(aA,aq,aC),W(aA)}else{if(w(aA)){aE.preventDefault();var aD=au.dom.getPos(aA).y;au.dom.setAttrib(aA,Y,aD),l(aA)}else{N()}}}}var v,bg,ay,V,k,o,u="mce-resize-bar",ba="mce-resize-bar-row",at="row-resize",U="data-row",Y="data-initial-top",n="mce-resize-bar-col",s="col-resize",y="data-col",aq="data-initial-left",T=4,X=10,m=10,r="mce-resize-bar-dragging",x=new RegExp(/(\d+(\.\d+)?%)/),p=new RegExp(/px|em/);return au.on("init",function(){au.dom.bind(D(),"mousedown",q)}),au.on("ObjectResized",function(aA){var aB=aA.target;if("TABLE"===aB.nodeName){var aC=[];g.each(aB.rows,function(aD){g.each(aD.cells,function(aE){var aF=au.dom.getStyle(aE,"width",!0);aC.push({cell:aE,width:aF})})}),g.each(aC,function(aD){au.dom.setStyle(aD.cell,"width",aD.width),au.dom.setAttrib(aD.cell,"width",null)})}}),au.on("mouseover",function(aB){if(!bg){var aA=au.dom.getParent(aB.target,"table");("TABLE"===aB.target.nodeName||aA)&&(i=aA,O(aA))}}),au.on("keydown",function(aA){switch(aA.keyCode){case h.LEFT:case h.RIGHT:case h.UP:case h.DOWN:N()}}),au.on("remove",function(){N(),au.dom.unbind(D(),"mousedown",q)}),{adjustWidth:aj,adjustHeight:ak,clearBars:N,drawBars:bc,determineDeltas:ab,getTableGrid:z,getTableDetails:S,getWidths:j,getPixelHeights:aa,isPercentageBasedSize:ah,isPixelBasedSize:ai,recalculateWidths:ad,recalculateCellHeights:af,recalculateRowHeights:ag}}}),b("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(x,y,z,A,B,g,h,i,j){function k(m){function n(C){return function(){m.execCommand(C)}}function o(C,E){var D,F,G,H;for(G='<table id="__mce"><tbody>',D=0;E>D;D++){for(G+="<tr>",F=0;C>F;F++){G+="<td>"+(i.ie&&i.ie<10?"&nbsp;":"<br>")+"</td>"}G+="</tr>"}return G+="</tbody></table>",m.undoManager.transact(function(){m.insertContent(G),H=m.dom.get("__mce"),m.dom.setAttrib(H,"id",null),m.$("tr",H).each(function(I,J){m.fire("newrow",{node:J}),m.$("th,td",J).each(function(K,L){m.fire("newcell",{node:L})})}),m.dom.setAttribs(H,m.settings.table_default_attributes||{}),m.dom.setStyles(H,m.settings.table_default_styles||{})}),H}function p(C,D,E){function F(){var G,H,I,J={},K=0;H=m.dom.select("td[data-mce-selected],th[data-mce-selected]"),G=H[0],G||(G=m.selection.getStart()),E&&H.length>0?(l(H,function(L){return J[L.parentNode.parentNode.nodeName]=1}),l(J,function(L){K+=L}),I=1!==K):I=!m.dom.getParent(G,D),C.disabled(I),m.selection.selectorChanged(D,function(L){C.disabled(!L)})}m.initialized?F():m.on("init",F)}function q(){p(this,"table")}function r(){p(this,"td,th")}function s(){p(this,"td,th",!0)}function t(){var C="";C='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var D=0;10>D;D++){C+="<tr>";for(var E=0;10>E;E++){C+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*D+E)+'" href="#" data-mce-x="'+E+'" data-mce-y="'+D+'"></a></td>'}C+="</tr>"}return C+="</table>",C+='<div class="mce-text-center" role="presentation">1 x 1</div>'}function u(C,D,E){var F,G,I,J,K,L=E.getEl().getElementsByTagName("table")[0],H=E.isRtl()||"tl-tr"==E.parent().rel;for(L.nextSibling.innerHTML=C+1+" x "+(D+1),H&&(C=9-C),G=0;10>G;G++){for(F=0;10>F;F++){J=L.rows[G].childNodes[F].firstChild,K=(H?F>=C:C>=F)&&D>=G,m.dom.toggleClass(J,"mce-active",K),K&&(I=J)}}return I.parentNode}function v(){m.addButton("tableprops",{title:"Table properties",onclick:U.tableProps,icon:"table"}),m.addButton("tabledelete",{title:"Delete table",onclick:n("mceTableDelete")}),m.addButton("tablecellprops",{title:"Cell properties",onclick:n("mceTableCellProps")}),m.addButton("tablemergecells",{title:"Merge cells",onclick:n("mceTableMergeCells")}),m.addButton("tablesplitcells",{title:"Split cell",onclick:n("mceTableSplitCells")}),m.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:n("mceTableInsertRowBefore")}),m.addButton("tableinsertrowafter",{title:"Insert row after",onclick:n("mceTableInsertRowAfter")}),m.addButton("tabledeleterow",{title:"Delete row",onclick:n("mceTableDeleteRow")}),m.addButton("tablerowprops",{title:"Row properties",onclick:n("mceTableRowProps")}),m.addButton("tablecutrow",{title:"Cut row",onclick:n("mceTableCutRow")}),m.addButton("tablecopyrow",{title:"Copy row",onclick:n("mceTableCopyRow")}),m.addButton("tablepasterowbefore",{title:"Paste row before",onclick:n("mceTablePasteRowBefore")}),m.addButton("tablepasterowafter",{title:"Paste row after",onclick:n("mceTablePasteRowAfter")}),m.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:n("mceTableInsertColBefore")}),m.addButton("tableinsertcolafter",{title:"Insert column after",onclick:n("mceTableInsertColAfter")}),m.addButton("tabledeletecol",{title:"Delete column",onclick:n("mceTableDeleteCol")})}function w(C){var D=m.dom.is(C,"table")&&m.getBody().contains(C);return D}function O(){var C=m.settings.table_toolbar;""!==C&&C!==!1&&(C||(C="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),m.addContextToolbar(w,C))}function P(){return R}function Q(C){R=C}var R,S,T=this,U=new A(m);!m.settings.object_resizing||m.settings.table_resize_bars===!1||m.settings.object_resizing!==!0&&"table"!==m.settings.object_resizing||(S=B(m)),m.settings.table_grid===!1?m.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",onclick:U.table}):m.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(C){C.aria&&(this.parent().hideAll(),C.stopImmediatePropagation(),U.table())},onshow:function(){u(0,0,this.menu.items()[0])},onhide:function(){var C=this.menu.items()[0].getEl().getElementsByTagName("a");m.dom.removeClass(C,"mce-active"),m.dom.addClass(C[0],"mce-active")},menu:[{type:"container",html:t(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(C){var D,E,F=C.target;"A"==F.tagName.toUpperCase()&&(D=parseInt(F.getAttribute("data-mce-x"),10),E=parseInt(F.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(D=9-D),D===this.lastX&&E===this.lastY||(u(D,E,C.control),this.lastX=D,this.lastY=E))},onclick:function(C){var D=this;"A"==C.target.tagName.toUpperCase()&&(C.preventDefault(),C.stopPropagation(),D.parent().cancel(),m.undoManager.transact(function(){o(D.lastX+1,D.lastY+1)}),m.addVisual())}}]}),m.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:q,onclick:U.tableProps}),m.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:q,cmd:"mceTableDelete"}),m.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:n("mceTableCellProps"),onPostRender:r},{text:"Merge cells",onclick:n("mceTableMergeCells"),onPostRender:s},{text:"Split cell",onclick:n("mceTableSplitCells"),onPostRender:r}]}),m.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:n("mceTableInsertRowBefore"),onPostRender:r},{text:"Insert row after",onclick:n("mceTableInsertRowAfter"),onPostRender:r},{text:"Delete row",onclick:n("mceTableDeleteRow"),onPostRender:r},{text:"Row properties",onclick:n("mceTableRowProps"),onPostRender:r},{text:"-"},{text:"Cut row",onclick:n("mceTableCutRow"),onPostRender:r},{text:"Copy row",onclick:n("mceTableCopyRow"),onPostRender:r},{text:"Paste row before",onclick:n("mceTablePasteRowBefore"),onPostRender:r},{text:"Paste row after",onclick:n("mceTablePasteRowAfter"),onPostRender:r}]}),m.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:n("mceTableInsertColBefore"),onPostRender:r},{text:"Insert column after",onclick:n("mceTableInsertColAfter"),onPostRender:r},{text:"Delete column",onclick:n("mceTableDeleteCol"),onPostRender:r}]});var V=[];l("inserttable tableprops deletetable | cell row column".split(" "),function(C){"|"==C?V.push({text:"-"}):V.push(m.menuItems[C])}),m.addButton("table",{type:"menubutton",title:"Table",menu:V}),i.isIE||m.on("click",function(C){C=C.target,"TABLE"===C.nodeName&&(m.selection.select(C),m.nodeChanged())}),T.quirks=new y(m),m.on("Init",function(){T.cellSelection=new z(m,function(C){C&&S.clearBars()}),T.resizeBars=S}),m.on("PreInit",function(){m.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(C,D){for(var E=C.length;E--;){C[E].attr(D,null)}})}),l({mceTableSplitCells:function(C){C.split()},mceTableMergeCells:function(C){var D;D=m.dom.getParent(m.selection.getStart(),"th,td"),m.dom.select("td[data-mce-selected],th[data-mce-selected]").length?C.merge():U.merge(C,D)},mceTableInsertRowBefore:function(C){C.insertRow(!0)},mceTableInsertRowAfter:function(C){C.insertRow()},mceTableInsertColBefore:function(C){C.insertCol(!0)},mceTableInsertColAfter:function(C){C.insertCol()},mceTableDeleteCol:function(C){C.deleteCols()},mceTableDeleteRow:function(C){C.deleteRows()},mceTableCutRow:function(C){R=C.cutRows()},mceTableCopyRow:function(C){R=C.copyRows()},mceTablePasteRowBefore:function(C){C.pasteRows(R,!0)},mceTablePasteRowAfter:function(C){C.pasteRows(R)},mceTableDelete:function(C){S&&S.clearBars(),C.deleteTable()}},function(D,C){m.addCommand(C,function(){var E=new x(m);E&&(D(E),m.execCommand("mceRepaint"),T.cellSelection.clear())})}),l({mceInsertTable:U.table,mceTableProps:function(){U.table(!0)},mceTableRowProps:U.row,mceTableCellProps:U.cell},function(C,D){m.addCommand(D,function(F,E){C(E)})}),v(),O(),m.settings.table_tab_navigation!==!1&&m.on("keydown",function(D){var E,F,C;9==D.keyCode&&(E=m.dom.getParent(m.selection.getStart(),"th,td"),E&&(D.preventDefault(),F=new x(m),C=D.shiftKey?-1:1,m.undoManager.transact(function(){!F.moveRelIdx(E,C)&&C>0&&(F.insertRow(),F.refresh(),F.moveRelIdx(E,C))})))}),T.insertTable=o,T.setClipboardRows=Q,T.getClipboardRows=P}var l=g.each;j.add("table",k)})}(this);