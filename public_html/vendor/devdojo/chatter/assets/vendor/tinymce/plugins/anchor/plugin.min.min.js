tinymce.PluginManager.add("anchor",function(d){function c(){var a=d.selection.getNode(),f="",e="A"==a.tagName&&""===d.dom.getAttrib(a,"href");e&&(f=a.name||a.id||""),d.windowManager.open({title:"Anchor",body:{type:"textbox",name:"name",size:40,label:"Name",value:f},onsubmit:function(g){var b=g.data.name;e?a.id=b:(d.selection.collapse(!0),d.execCommand("mceInsertContent",!1,d.dom.createHTML("a",{id:b})))}})}d.addCommand("mceAnchor",c),d.addButton("anchor",{icon:"anchor",tooltip:"Anchor",onclick:c,stateSelector:"a:not([href])"}),d.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",onclick:c})});