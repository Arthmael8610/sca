asynctest("browser/core/SelectionMatcherTest",["ephox.mcagar.api.TinyLoader","ephox.mcagar.api.TinyApis","ephox.agar.api.Step","ephox.agar.api.Assertions","tinymce/inlite/core/SelectionMatcher","tinymce/inlite/core/PredicateId","ephox.agar.api.GeneralSteps","ephox.agar.api.Pipeline"],function(r,B,t,q,y,w,D,A){var p=arguments[arguments.length-2];var z=arguments[arguments.length-1];var x=function(a,b){q.assertEq("Should not be null",b!==null,a);if(a===true){q.assertEq("Should be matching a",b.id,"a");q.assertEq("Should be have width",b.rect.w>0,true)}};var u=function(b,a,d,e,g,c,i,h){var f=t.sync(function(){var j=y.textSelection("a")(a);x(h,j)});return D.sequence([b.sSetContent(d),b.sSetSelection(e,g,c,i),f])};var v=function(b,a){return D.sequence([u(b,a,"<p>a</p>",[0],0,[0],1,true),u(b,a,"<p>a</p>",[0],0,[0],0,false)])};var s=function(b,a,d,e,g,c,i,h){var f=t.sync(function(){var j=a.dom.getParents(a.selection.getStart());var k=y.emptyTextBlock(j,"a")(a);x(h,k)});return D.sequence([b.sSetContent(d),b.sSetSelection(e,g,c,i),f])};var C=function(b,a){return D.sequence([s(b,a,"<p>a</p>",[0],0,[0],0,false),s(b,a,"<p>a</p>",[0],0,[0],1,false),s(b,a,"<p><br></p>",[0],0,[0],0,true),s(b,a,"<p><em><br></em></p>",[0,0],0,[0,0],0,true)])};r.setup(function(b,a,c){var d=B(b);A.async({},[v(d,b),C(d,b)],a,c)},{inline:true},p,z)});