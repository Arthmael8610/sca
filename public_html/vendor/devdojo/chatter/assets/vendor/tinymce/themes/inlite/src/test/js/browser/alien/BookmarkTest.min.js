asynctest("browser/alien/BookmarkTest",["ephox/tinymce","ephox.agar.api.Pipeline","ephox.agar.api.Chain","ephox.agar.api.Cursors","ephox.agar.api.Assertions","ephox.mcagar.api.TinyDom","tinymce/inlite/alien/Bookmark"],function(n,c,j,k,l,e,f){var m=arguments[arguments.length-2];var d=arguments[arguments.length-1];var h=function(p){var o=document.createRange();o.setStart(p.start().dom(),p.soffset());o.setEnd(p.finish().dom(),p.foffset());return o};var a=function(o){return function(p){return f.create(o,p)}};var b=function(o){return function(p){return f.resolve(o,p)}};var g=function(o){return j.op(function(p){l.assertEq("Not equal startContainer",o.start().dom(),p.startContainer);l.assertEq("Not equal startOffset",o.soffset(),p.startOffset);l.assertEq("Not equal endContainer",o.finish().dom(),p.endContainer);l.assertEq("Not equal endOffset",o.foffset(),p.endOffset)})};var i=function(o,p){var q=n.DOM;var r=e.fromDom(q.create("div",{},o));return j.asStep(r,[k.cFollowPath(k.pathFrom(p)),j.mapper(h),j.mapper(a(q)),j.mapper(b(q)),g(k.calculate(r,k.pathFrom(p)))])};c.async({},[i("abc",{element:[0],offset:0}),i("abc",{element:[0],offset:1}),i("abc",{start:{element:[0],offset:0},finish:{element:[0],offset:1}}),i("<b>a</b>",{element:[0,0],offset:0}),i("<b>a</b>",{element:[0,0],offset:0}),i("<b>a</b>",{start:{element:[0,0],offset:0},finish:{element:[0,0],offset:1}}),i("<b>a</b><b>b</b>",{start:{element:[0,0],offset:0},finish:{element:[1,0],offset:1}})],function(){m()},d)});