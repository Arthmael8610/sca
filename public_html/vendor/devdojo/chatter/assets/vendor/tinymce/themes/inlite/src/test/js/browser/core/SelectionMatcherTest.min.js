asynctest("browser/core/SelectionMatcherTest",["ephox.mcagar.api.TinyLoader","ephox.mcagar.api.TinyApis","ephox.agar.api.Step","ephox.agar.api.Assertions","tinymce/inlite/core/SelectionMatcher","tinymce/inlite/core/PredicateId","ephox.agar.api.GeneralSteps","ephox.agar.api.Pipeline"],function(m,c,k,n,f,h,a,d){var o=arguments[arguments.length-2];var e=arguments[arguments.length-1];var g=function(q,p){n.assertEq("Should not be null",p!==null,q);if(q===true){n.assertEq("Should be matching a",p.id,"a");n.assertEq("Should be have width",p.rect.w>0,true)}};var j=function(q,r,x,w,u,p,s,t){var v=k.sync(function(){var y=f.textSelection("a")(r);g(t,y)});return a.sequence([q.sSetContent(x),q.sSetSelection(w,u,p,s),v])};var i=function(p,q){return a.sequence([j(p,q,"<p>a</p>",[0],0,[0],1,true),j(p,q,"<p>a</p>",[0],0,[0],0,false)])};var l=function(q,r,x,w,u,p,s,t){var v=k.sync(function(){var z=r.dom.getParents(r.selection.getStart());var y=f.emptyTextBlock(z,"a")(r);g(t,y)});return a.sequence([q.sSetContent(x),q.sSetSelection(w,u,p,s),v])};var b=function(p,q){return a.sequence([l(p,q,"<p>a</p>",[0],0,[0],0,false),l(p,q,"<p>a</p>",[0],0,[0],1,false),l(p,q,"<p><br></p>",[0],0,[0],0,true),l(p,q,"<p><em><br></em></p>",[0,0],0,[0,0],0,true)])};m.setup(function(r,s,q){var p=c(r);d.async({},[i(p,r),b(p,r)],s,q)},{inline:true},o,e)});