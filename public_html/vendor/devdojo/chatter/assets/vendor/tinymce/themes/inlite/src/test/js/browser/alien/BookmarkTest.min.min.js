asynctest("browser/alien/BookmarkTest",["ephox/tinymce","ephox.agar.api.Pipeline","ephox.agar.api.Chain","ephox.agar.api.Cursors","ephox.agar.api.Assertions","ephox.mcagar.api.TinyDom","tinymce/inlite/alien/Bookmark"],function(o,z,s,r,q,x,w){var p=arguments[arguments.length-2];var y=arguments[arguments.length-1];var u=function(a){var b=document.createRange();b.setStart(a.start().dom(),a.soffset());b.setEnd(a.finish().dom(),a.foffset());return b};var B=function(a){return function(b){return w.create(a,b)}};var A=function(a){return function(b){return w.resolve(a,b)}};var v=function(a){return s.op(function(b){q.assertEq("Not equal startContainer",a.start().dom(),b.startContainer);q.assertEq("Not equal startOffset",a.soffset(),b.startOffset);q.assertEq("Not equal endContainer",a.finish().dom(),b.endContainer);q.assertEq("Not equal endOffset",a.foffset(),b.endOffset)})};var t=function(d,c){var b=o.DOM;var a=x.fromDom(b.create("div",{},d));return s.asStep(a,[r.cFollowPath(r.pathFrom(c)),s.mapper(u),s.mapper(B(b)),s.mapper(A(b)),v(r.calculate(a,r.pathFrom(c)))])};z.async({},[t("abc",{element:[0],offset:0}),t("abc",{element:[0],offset:1}),t("abc",{start:{element:[0],offset:0},finish:{element:[0],offset:1}}),t("<b>a</b>",{element:[0,0],offset:0}),t("<b>a</b>",{element:[0,0],offset:0}),t("<b>a</b>",{start:{element:[0,0],offset:0},finish:{element:[0,0],offset:1}}),t("<b>a</b><b>b</b>",{start:{element:[0,0],offset:0},finish:{element:[1,0],offset:1}})],function(){p()},y)});