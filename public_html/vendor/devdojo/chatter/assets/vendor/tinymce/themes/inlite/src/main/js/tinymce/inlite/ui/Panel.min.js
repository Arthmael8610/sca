define("tinymce/inlite/ui/Panel",["global!tinymce.util.Tools","global!tinymce.ui.Factory","global!tinymce.DOM","tinymce/inlite/ui/Toolbar","tinymce/inlite/ui/Forms","tinymce/inlite/core/Measure","tinymce/inlite/core/Layout"],function(c,a,f,d,g,b,e){return function(){var m="bold italic | quicklink h2 h3 blockquote";var s="quickimage quicktable";var r,t;var j=function(B,C){return c.map(C,function(D){return d.create(B,D.id,D.items)})};var k=function(B){var C=B.selection_toolbar;return C?C:m};var w=function(B){var C=B.insert_toolbar;return C?C:s};var q=function(D,E){var B,C=D.settings;B=j(D,E);B=B.concat([d.create(D,"text",k(C)),d.create(D,"insert",w(C)),g.createQuickLinkForm(D,p)]);return a.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:false,autofix:true,fixed:true,border:1,items:B,oncancel:function(){D.focus()}})};var z=function(B){if(B){B.show()}};var i=function(B,C){B.moveTo(C.x,C.y)};var l=function(C,B){B=B?B.substr(0,2):"";c.each({t:"down",b:"up",c:"center"},function(D,E){C.classes.toggle("arrow-"+D,E===B.substr(0,1))});if(B==="cr"){C.classes.toggle("arrow-left",true);C.classes.toggle("arrow-right",false)}else{if(B==="cl"){C.classes.toggle("arrow-left",true);C.classes.toggle("arrow-right",true)}else{c.each({l:"left",r:"right"},function(D,E){C.classes.toggle("arrow-"+D,E===B.substr(1,1))})}}};var o=function(B,D){var C=B.items().filter("#"+D);if(C.length>0){C[0].show();B.reflow()}};var x=function(D,I,G,H){var F,E,C,B;z(D);D.items().hide();o(D,I);B=G.settings.inline_toolbar_position_handler;F=b.getContentAreaRect(G);E=f.getRect(D.getEl());if(I==="insert"){C=e.calcInsert(H,F,E)}else{C=e.calc(H,F,E)}if(C){E=C.rect;t=H;i(D,e.userConstrain(B,H,F,E));l(D,C.position)}else{p(D)}};var n=function(){return r.items().filter("form:visible").length>0};var u=function(F,G){if(r){r.items().hide();o(r,G);var E,D,C,B;z(r);r.items().hide();o(r,G);B=F.settings.inline_toolbar_position_handler;E=b.getContentAreaRect(F);D=f.getRect(r.getEl());C=e.calc(t,E,D);if(C){D=C.rect;i(r,e.userConstrain(B,t,E,D));l(r,C.position)}}};var y=function(B,E,D,C){if(!r){r=q(B,C);r.renderTo(document.body).reflow().moveTo(D.x,D.y);B.nodeChanged()}x(r,E,B,D)};var p=function(){if(r){r.hide()}};var v=function(){if(r){r.find("toolbar:visible").eq(0).each(function(B){B.focus(true)})}};var A=function(){if(r){r.remove();r=null}};var h=function(){return r&&r.visible()&&n()};return{show:y,showForm:u,inForm:h,hide:p,focus:v,remove:A}}});