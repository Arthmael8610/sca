asynctest("browser/core/ActionsTest",["ephox.mcagar.api.TinyLoader","ephox.mcagar.api.TinyApis","tinymce/inlite/core/Actions","ephox.agar.api.Pipeline","ephox.agar.api.Step","ephox.agar.api.GeneralSteps"],function(m,c,b,d,i,a){var n=arguments[arguments.length-2];var g=arguments[arguments.length-1];var e=function(q,p){return function(){var r=Array.prototype.slice.call(arguments);return i.sync(function(){q.apply(null,[].concat(p).concat(r))})}};var l=function(r,q){var p=function(w,u,s,t){var v=e(b.insertTable,r);return a.sequence([q.sSetContent(""),v(w,u),q.sAssertContent(s,t)])};return a.sequence([p(2,3,['<table style="width: 100%;">',"<tbody>","<tr>","<td>&nbsp;</td>","<td>&nbsp;</td>","</tr>","<tr>","<td>&nbsp;</td>","<td>&nbsp;</td>","</tr>","<tr>","<td>&nbsp;</td>","<td>&nbsp;</td>","</tr>","</tbody>","</table>"].join("\n"),"Should be a 2x3 table"),p(3,2,['<table style="width: 100%;">',"<tbody>","<tr>","<td>&nbsp;</td>","<td>&nbsp;</td>","<td>&nbsp;</td>","</tr>","<tr>","<td>&nbsp;</td>","<td>&nbsp;</td>","<td>&nbsp;</td>","</tr>","</tbody>","</table>"].join("\n"),"Should be a 3x2 table")])};var k=function(r,q){var p=function(s){var t=e(b.formatBlock,r);return a.sequence([q.sSetContent("<p>a</p>"),q.sSetCursor([0],0),t(s),q.sAssertContent("<"+s+">a</"+s+">","Should be a "+s+" block")])};return a.sequence([p("h1"),p("h2"),p("pre")])};var f=function(r,q){var p=function(y,x,v,u,s,z,w){var t=e(b.createLink,r);return a.sequence([q.sSetContent(y),q.sSetSelection(v,u,s,z),t(x),q.sAssertContent(w,"Should have a link")])};return a.sequence([p("<p>a</p>","#1",[0,0],0,[0,0],1,'<p><a href="#1">a</a></p>'),p('<p><a href="#1">a</a></p>',"#2",[0,0],0,[0,0],1,'<p><a href="#2">a</a></p>'),p('<p><a href="#1"><em>a</em></a></p>',"#2",[0,0,0],0,[0,0,0],1,'<p><a href="#2"><em>a</em></a></p>')])};var o=function(q,p){var r=function(w,u,t,s,y,v){var x=e(b.unlink,q);return a.sequence([p.sSetContent(w),p.sSetSelection(u,t,s,y),x(),p.sAssertContent(v,"Should not have a link")])};return a.sequence([r("<p>a</p>",[0,0],0,[0,0],1,"<p>a</p>"),r('<p><a href="#">a</a></p>',[0,0,0],0,[0,0,0],1,"<p>a</p>"),r('<p><a href="#"><em>a</em></a></p>',[0,0,0],0,[0,0,0],1,"<p><em>a</em></p>"),r('<p><a href="#">a</a>b</p>',[0,0,0],0,[0,1],1,"<p>ab</p>")])};var h=function(q,s){var t=atob(q);var p=new Uint8Array(t.length);for(var r=0;r<p.length;r++){p[r]=t.charCodeAt(r)}return new Blob([p],{type:s})};var j=function(t,s){var q=function(x,z,A,v,u,w){var y=e(b.insertBlob,t);return a.sequence([s.sSetContent(x),s.sSetCursor(z,A),y(v,u),s.sAssertContent(w,"Should have a image")])};var p="R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";var r=h(p,"image/gif");return a.sequence([q("<p>a</p>",[0,0],0,p,r,'<p><img src="data:image/gif;base64,'+p+'" />a</p>')])};m.setup(function(r,s,q){var p=c(r);d.async({},[l(r,p),k(r,p),j(r,p),f(r,p),o(r,p)],s,q)},{inline:true},n,g)});