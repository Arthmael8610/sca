define("tinymce/inlite/ui/Forms",["global!tinymce.util.Tools","global!tinymce.ui.Factory","global!tinymce.util.Promise","tinymce/inlite/core/Actions","tinymce/inlite/core/UrlType"],function(d,b,i,a,h){var c=function(l){l.find("textbox").eq(0).each(function(m){m.focus()})};var j=function(m,l){var n=b.create(d.extend({type:"form",layout:"flex",direction:"row",padding:5,name:m,spacing:3},l));n.on("show",function(){c(n)});return n};var g=function(m,l){return l?m.show():m.hide()};var f=function(m,l){return new i(function(n){m.windowManager.confirm("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(o){var p=o===true?"http://"+l:l;n(p)})})};var k=function(m,l){return !h.isAbsolute(l)&&h.isDomainLike(l)?f(m,l):i.resolve(l)};var e=function(n,m){var l=function(){n.focus();a.unlink(n);m()};return j("quicklink",{items:[{type:"button",name:"unlink",icon:"unlink",onclick:l,tooltip:"Remove link"},{type:"textbox",name:"linkurl",placeholder:"Paste or type a link"},{type:"button",icon:"checkmark",subtype:"primary",tooltip:"Ok",onclick:"submit"}],onshow:function(){var p,o="";p=n.dom.getParent(n.selection.getStart(),"a[href]");if(p){o=n.dom.getAttrib(p,"href")}this.fromJSON({linkurl:o});g(this.find("#unlink"),p)},onsubmit:function(o){k(n,o.data.linkurl).then(function(p){a.createLink(n,p);m()})}})};return{createQuickLinkForm:e}});