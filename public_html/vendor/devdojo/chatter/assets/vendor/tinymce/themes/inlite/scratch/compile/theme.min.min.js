defineGlobal("global!tinymce.ThemeManager",tinymce.ThemeManager);defineGlobal("global!tinymce.util.Delay",tinymce.util.Delay);defineGlobal("global!tinymce.util.Tools",tinymce.util.Tools);defineGlobal("global!tinymce.ui.Factory",tinymce.ui.Factory);defineGlobal("global!tinymce.DOM",tinymce.DOM);define("tinymce/inlite/ui/Toolbar",["global!tinymce.util.Tools","global!tinymce.ui.Factory"],function(l,g){var i=function(a,b){return function(d,f){var c,e=f.parents.length;while(e--){c=f.parents[e].nodeName;if(c=="OL"||c=="UL"){break}}a.active(d&&c==b)}};var j=function(a,c){var e=function(n,f){return{selector:n,handler:f}};var b=function(f){c.active(f)};var d=function(f){c.disabled(f)};if(a=="bullist"){return e("ul > li",i(c,"UL"))}if(a=="numlist"){return e("ol > li",i(c,"OL"))}if(c.settings.stateSelector){return e(c.settings.stateSelector,b)}if(c.settings.disabledStateSelector){return e(c.settings.disabledStateSelector,d)}return null};var h=function(c,a,b){return function(){var d=j(a,b);if(d!==null){c.selection.selectorChanged(d.selector,d.handler)}}};var k=function(b,c,d){var a=[],e;if(!d){return}l.each(d.split(/[ ,]/),function(n){var f;if(n=="|"){e=null}else{if(g.has(n)){n={type:n};a.push(n);e=null}else{if(!e){e={type:"buttongroup",items:[]};a.push(e)}if(b.buttons[n]){f=n;n=b.buttons[f];if(typeof n=="function"){n=n()}n.type=n.type||"button";n=g.create(n);n.on("postRender",h(b,f,n));e.items.push(n)}}}});return g.create({type:"toolbar",layout:"flow",name:c,items:a})};return{create:k}});defineGlobal("global!tinymce.util.Promise",tinymce.util.Promise);define("tinymce/inlite/alien/Uuid",[],function(){var f=0;var e=function(){var a=function(){return Math.round(Math.random()*4294967295).toString(36)};return"s"+Date.now().toString(36)+a()+a()+a()};var d=function(a){return a+(f++)+e()};return{uuid:d}});define("tinymce/inlite/alien/Bookmark",[],function(){var d=function(a,h){var g={};function b(e){var k,l,f;l=h[e?"startContainer":"endContainer"];f=h[e?"startOffset":"endOffset"];if(l.nodeType==1){k=a.create("span",{"data-mce-type":"bookmark"});if(l.hasChildNodes()){f=Math.min(f,l.childNodes.length-1);if(e){l.insertBefore(k,l.childNodes[f])}else{a.insertAfter(k,l.childNodes[f])}}else{l.appendChild(k)}l=k;f=0}g[e?"startContainer":"endContainer"]=l;g[e?"startOffset":"endOffset"]=f}b(true);if(!h.collapsed){b()}return g};var c=function(a,g){function b(e){var n,l,m;function f(i){var k=i.parentNode.firstChild,j=0;while(k){if(k==i){return j}if(k.nodeType!=1||k.getAttribute("data-mce-type")!="bookmark"){j++}k=k.nextSibling}return -1}n=m=g[e?"startContainer":"endContainer"];l=g[e?"startOffset":"endOffset"];if(!n){return}if(n.nodeType==1){l=f(n);n=n.parentNode;a.remove(m)}g[e?"startContainer":"endContainer"]=n;g[e?"startOffset":"endOffset"]=l}b(true);b();var h=a.createRng();h.setStart(g.startContainer,g.startOffset);if(g.endContainer){h.setEnd(g.endContainer,g.endOffset)}return h};return{create:d,resolve:c}});defineGlobal("global!tinymce.dom.TreeWalker",tinymce.dom.TreeWalker);defineGlobal("global!tinymce.dom.RangeUtils",tinymce.dom.RangeUtils);define("tinymce/inlite/alien/Unlink",["tinymce/inlite/alien/Bookmark","global!tinymce.util.Tools","global!tinymce.dom.TreeWalker","global!tinymce.dom.RangeUtils"],function(o,p,l,n){var m=function(d,b,c){var e,f,a=[];e=new l(b,d);for(f=b;f;f=e.next()){if(f.nodeType===1){a.push(f)}if(f===c){break}}return a};var k=function(e,a){var b,d,c;d=e.dom;c=e.selection;b=o.create(d,c.getRng());p.each(a,function(f){e.dom.remove(f,true)});c.setRng(o.resolve(d,b))};var q=function(a){return a.nodeName==="A"&&a.hasAttribute("href")};var r=function(b,a){var c=b.getParent(a,q);return c?c:a};var s=function(f){var h,a,d,b,g,e,c;g=f.selection;e=f.dom;c=g.getRng();h=r(e,n.getNode(c.startContainer,c.startOffset));a=n.getNode(c.endContainer,c.endOffset);d=f.getBody();b=p.grep(m(d,h,a),q);return b};var t=function(a){k(a,s(a))};return{unlinkSelection:t}});define("tinymce/inlite/core/Actions",["tinymce/inlite/alien/Uuid","tinymce/inlite/alien/Unlink"],function(s,v){var r=function(b,c){var e,a,d;d='<table data-mce-id="mce" style="width: 100%">';d+="<tbody>";for(a=0;a<c;a++){d+="<tr>";for(e=0;e<b;e++){d+="<td><br></td>"}d+="</tr>"}d+="</tbody>";d+="</table>";return d};var q=function(a){var b=a.dom.select("*[data-mce-id]");return b[0]};var t=function(c,a,b){c.undoManager.transact(function(){var e,d;c.insertContent(r(a,b));e=q(c);e.removeAttribute("data-mce-id");d=c.dom.select("td,th",e);c.selection.setCursorLocation(d[0],0)})};var n=function(a,b){a.execCommand("FormatBlock",false,b)};var x=function(b,e,d){var a,c;a=b.editorUpload.blobCache;c=a.create(s.uuid("mceu"),d,e);a.add(c);b.insertContent(b.dom.createHTML("img",{src:c.blobUri()}))};var y=function(a){a.selection.collapse(false)};var z=function(a){a.focus();v.unlinkSelection(a);y(a)};var w=function(b,a,c){b.focus();b.dom.setAttrib(a,"href",c);y(b)};var o=function(a,b){a.execCommand("mceInsertLink",false,{href:b});y(a)};var p=function(b,c){var a=b.dom.getParent(b.selection.getStart(),"a[href]");a?w(b,a,c):o(b,c)};var u=function(a,b){b.trim().length===0?z(a):p(a,b)};return{insertTable:t,formatBlock:n,insertBlob:x,createLink:u,unlink:z}});define("tinymce/inlite/core/UrlType",[],function(){var d=function(a){return/^www\.|\.(com|org|edu|gov|uk|net|ca|de|jp|fr|au|us|ru|ch|it|nl|se|no|es|mil)$/i.test(a.trim())};var c=function(a){return/^https?:\/\//.test(a.trim())};return{isDomainLike:d,isAbsolute:c}});define("tinymce/inlite/ui/Forms",["global!tinymce.util.Tools","global!tinymce.ui.Factory","global!tinymce.util.Promise","tinymce/inlite/core/Actions","tinymce/inlite/core/UrlType"],function(s,u,n,v,o){var t=function(a){a.find("textbox").eq(0).each(function(b){b.focus()})};var m=function(a,b){var c=u.create(s.extend({type:"form",layout:"flex",direction:"row",padding:5,name:a,spacing:3},b));c.on("show",function(){t(c)});return c};var p=function(a,b){return b?a.show():a.hide()};var q=function(a,b){return new n(function(c){a.windowManager.confirm("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){var d=e===true?"http://"+b:b;c(d)})})};var l=function(a,b){return !o.isAbsolute(b)&&o.isDomainLike(b)?q(a,b):n.resolve(b)};var r=function(c,a){var b=function(){c.focus();v.unlink(c);a()};return m("quicklink",{items:[{type:"button",name:"unlink",icon:"unlink",onclick:b,tooltip:"Remove link"},{type:"textbox",name:"linkurl",placeholder:"Paste or type a link"},{type:"button",icon:"checkmark",subtype:"primary",tooltip:"Ok",onclick:"submit"}],onshow:function(){var d,e="";d=c.dom.getParent(c.selection.getStart(),"a[href]");if(d){e=c.dom.getAttrib(d,"href")}this.fromJSON({linkurl:e});p(this.find("#unlink"),d)},onsubmit:function(d){l(c,d.data.linkurl).then(function(e){v.createLink(c,e);a()})}})};return{createQuickLinkForm:r}});defineGlobal("global!tinymce.geom.Rect",tinymce.geom.Rect);define("tinymce/inlite/core/Convert",[],function(){var d=function(a){return{x:a.left,y:a.top,w:a.width,h:a.height}};var c=function(a){return{left:a.x,top:a.y,width:a.w,height:a.h,right:a.x+a.w,bottom:a.y+a.h}};return{fromClientRect:d,toClientRect:c}});define("tinymce/inlite/core/Measure",["global!tinymce.DOM","global!tinymce.geom.Rect","tinymce/inlite/core/Convert"],function(j,r,n){var q=function(a){var b=j.getViewPort();return{x:a.x+b.x,y:a.y+b.y,w:a.w,h:a.h}};var o=function(a){var b=a.getBoundingClientRect();return q({x:b.left,y:b.top,w:Math.max(a.clientWidth,a.offsetWidth),h:Math.max(a.clientHeight,a.offsetHeight)})};var k=function(b,a){return o(a)};var p=function(a){return o(a.getElement().ownerDocument.body)};var m=function(a){return o(a.getContentAreaContainer()||a.getBody())};var l=function(b){var a=b.selection.getBoundingClientRect();return a?q(n.fromClientRect(a)):null};return{getElementRect:k,getPageAreaRect:p,getContentAreaRect:m,getSelectionRect:l}});define("tinymce/inlite/core/Layout",["global!tinymce.geom.Rect","tinymce/inlite/core/Convert"],function(o,l){var i=function(a,b){return{rect:a,position:b}};var j=function(a,b){return{x:b.x,y:b.y,w:a.w,h:a.h}};var k=function(c,d,f,a,b){var e,h,g;e=o.findBestRelativePosition(b,f,a,c);f=o.clamp(f,a);if(e){h=o.relativePosition(b,f,e);g=j(b,h);return i(g,e)}f=o.intersect(a,f);if(f){e=o.findBestRelativePosition(b,f,a,d);if(e){h=o.relativePosition(b,f,e);g=j(b,h);return i(g,e)}g=j(b,f);return i(g,e)}return null};var n=function(a,b,c){return k(["cr-cl","cl-cr"],["bc-tc","bl-tl","br-tr"],a,b,c)};var p=function(a,b,c){return k(["tc-bc","bc-tc","tl-bl","bl-tl","tr-br","br-tr"],["bc-tc","bl-tl","br-tr"],a,b,c)};var m=function(b,a,c,d){var e;if(typeof b==="function"){e=b({elementRect:l.toClientRect(a),contentAreaRect:l.toClientRect(c),panelRect:l.toClientRect(d)});return l.fromClientRect(e)}return d};return{calcInsert:n,calc:p,userConstrain:m}});define("tinymce/inlite/ui/Panel",["global!tinymce.util.Tools","global!tinymce.ui.Factory","global!tinymce.DOM","tinymce/inlite/ui/Toolbar","tinymce/inlite/ui/Forms","tinymce/inlite/core/Measure","tinymce/inlite/core/Layout"],function(n,i,k,m,j,h,l){return function(){var I="bold italic | quicklink h2 h3 blockquote";var B="quickimage quicktable";var C,g;var L=function(p,o){return n.map(o,function(q){return m.create(p,q.id,q.items)})};var K=function(p){var o=p.selection_toolbar;return o?o:I};var d=function(p){var o=p.insert_toolbar;return o?o:B};var D=function(p,o){var r,q=p.settings;r=L(p,o);r=r.concat([m.create(p,"text",K(q)),m.create(p,"insert",d(q)),j.createQuickLinkForm(p,F)]);return i.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:false,autofix:true,fixed:true,border:1,items:r,oncancel:function(){p.focus()}})};var a=function(o){if(o){o.show()}};var M=function(p,o){p.moveTo(o.x,o.y)};var J=function(o,p){p=p?p.substr(0,2):"";n.each({t:"down",b:"up",c:"center"},function(r,q){o.classes.toggle("arrow-"+r,q===p.substr(0,1))});if(p==="cr"){o.classes.toggle("arrow-left",true);o.classes.toggle("arrow-right",false)}else{if(p==="cl"){o.classes.toggle("arrow-left",true);o.classes.toggle("arrow-right",true)}else{n.each({l:"left",r:"right"},function(r,q){o.classes.toggle("arrow-"+r,q===p.substr(1,1))})}}};var G=function(q,o){var p=q.items().filter("#"+o);if(p.length>0){p[0].show();q.reflow()}};var c=function(t,o,q,p){var r,s,u,v;a(t);t.items().hide();G(t,o);v=q.settings.inline_toolbar_position_handler;r=h.getContentAreaRect(q);s=k.getRect(t.getEl());if(o==="insert"){u=l.calcInsert(p,r,s)}else{u=l.calc(p,r,s)}if(u){s=u.rect;g=p;M(t,l.userConstrain(v,p,r,s));J(t,u.position)}else{F(t)}};var H=function(){return C.items().filter("form:visible").length>0};var f=function(p,o){if(C){C.items().hide();G(C,o);var q,r,s,t;a(C);C.items().hide();G(C,o);t=p.settings.inline_toolbar_position_handler;q=h.getContentAreaRect(p);r=k.getRect(C.getEl());s=l.calc(g,q,r);if(s){r=s.rect;M(C,l.userConstrain(t,g,q,r));J(C,s.position)}}};var b=function(r,o,p,q){if(!C){C=D(r,q);C.renderTo(document.body).reflow().moveTo(p.x,p.y);r.nodeChanged()}c(C,o,r,p)};var F=function(){if(C){C.hide()}};var e=function(){if(C){C.find("toolbar:visible").eq(0).each(function(o){o.focus(true)})}};var E=function(){if(C){C.remove();C=null}};var N=function(){return C&&C.visible()&&H()};return{show:b,showForm:f,inForm:N,hide:F,focus:e,remove:E}}});define("tinymce/inlite/file/Conversions",["global!tinymce.util.Promise"],function(c){var d=function(a){return new c(function(b){var f=new FileReader();f.onloadend=function(){b(f.result.split(",")[1])};f.readAsDataURL(a)})};return{blobToBase64:d}});define("tinymce/inlite/file/Picker",["global!tinymce.util.Promise"],function(d){var c=function(){return new d(function(a){var b;b=document.createElement("input");b.type="file";b.style.position="fixed";b.style.left=0;b.style.top=0;b.style.opacity=0.001;document.body.appendChild(b);b.onchange=function(e){a(Array.prototype.slice.call(e.target.files))};b.click();b.parentNode.removeChild(b)})};return{pickFile:c}});define("tinymce/inlite/ui/Buttons",["tinymce/inlite/ui/Panel","tinymce/inlite/file/Conversions","tinymce/inlite/file/Picker","tinymce/inlite/core/Actions"],function(i,j,h,k){var l=function(a){var d=function(e){return function(){k.formatBlock(a,e)}};for(var b=1;b<6;b++){var c="h"+b;a.addButton(c,{text:c.toUpperCase(),tooltip:"Heading "+b,stateSelector:c,onclick:d(c),onPostRender:function(){var e=this.getEl().firstChild.firstChild;e.style.fontWeight="bold"}})}};var g=function(a,b){a.addButton("quicklink",{icon:"link",tooltip:"Insert/Edit link",stateSelector:"a[href]",onclick:function(){b.showForm(a,"quicklink")}});a.addButton("quickimage",{icon:"image",tooltip:"Insert image",onclick:function(){h.pickFile().then(function(c){var d=c[0];j.blobToBase64(d).then(function(e){k.insertBlob(a,e,d)})})}});a.addButton("quicktable",{icon:"table",tooltip:"Insert table",onclick:function(){b.hide();k.insertTable(a,2,2)}});l(a)};return{addToEditor:g}});defineGlobal("global!tinymce.EditorManager",tinymce.EditorManager);define("tinymce/inlite/core/SkinLoader",["global!tinymce.EditorManager","global!tinymce.DOM"],function(f,h){var e=function(b,a){var c=function(){b.fire("SkinLoaded");a()};if(b.initialized){c()}else{b.on("init",c)}};var g=function(d,b,a){var c=f.baseURL;var k=c+"/skins/"+b;var l=function(){e(d,a)};h.styleSheetLoader.load(k+"/skin.min.css",l);d.contentCSS.push(k+"/content.inline.min.css")};return{load:g}});define("tinymce/inlite/core/Matcher",[],function(){var d=function(a,b){return{id:a,rect:b}};var c=function(b,i){for(var f=0;f<i.length;f++){var a=i[f];var j=a(b);if(j){return j}}return null};return{match:c,result:d}});define("tinymce/inlite/core/SelectionMatcher",["tinymce/inlite/core/Matcher","tinymce/inlite/core/Measure"],function(g,e){var f=function(a){return function(b){if(!b.selection.isCollapsed()){return g.result(a,e.getSelectionRect(b))}return null}};var h=function(b,a){return function(c){var d,i=c.schema.getTextBlockElements();for(d=0;d<b.length;d++){if(b[d].nodeName==="TABLE"){return null}}for(d=0;d<b.length;d++){if(b[d].nodeName in i){if(c.dom.isEmpty(b[d])){return g.result(a,e.getSelectionRect(c))}return null}}return null}};return{textSelection:f,emptyTextBlock:h}});define("tinymce/inlite/core/ElementMatcher",["tinymce/inlite/core/Matcher","tinymce/inlite/core/Measure"],function(g,f){var e=function(b,a){return function(c){for(var d=0;d<a.length;d++){if(a[d].predicate(b)){return g.result(a[d].id,f.getElementRect(c,b))}}return null}};var h=function(b,a){return function(c){for(var d=0;d<b.length;d++){for(var i=0;i<a.length;i++){if(a[i].predicate(b[d])){return g.result(a[i].id,f.getElementRect(c,b[d]))}}}return null}};return{element:e,parent:h}});define("tinymce/inlite/alien/Arr",[],function(){var b=function(a){return a.reduce(function(f,e){return Array.isArray(e)?f.concat(b(e)):f.concat(e)},[])};return{flatten:b}});define("tinymce/inlite/core/PredicateId",["global!tinymce.util.Tools"],function(d){var f=function(a,b){return{id:a,predicate:b}};var e=function(a){return d.map(a,function(b){return f(b.id,b.predicate)})};return{create:f,fromContextToolbars:e}});define("tinymce/inlite/Theme",["global!tinymce.ThemeManager","global!tinymce.util.Delay","tinymce/inlite/ui/Panel","tinymce/inlite/ui/Buttons","tinymce/inlite/core/SkinLoader","tinymce/inlite/core/SelectionMatcher","tinymce/inlite/core/ElementMatcher","tinymce/inlite/core/Matcher","tinymce/inlite/alien/Arr","tinymce/inlite/core/PredicateId"],function(y,L,z,x,E,u,w,C,I,J){var v=function(b){var a=b.selection.getNode();var c=b.dom.getParents(a);return c};var M=function(b,d,e,c){var a=function(f){return b.dom.is(f,d)};return{predicate:a,id:e,items:c}};var F=function(b){var a=b.contextToolbars;return I.flatten([a?a:[],M(b,"img","image","alignleft aligncenter alignright")])};var G=function(b,e){var d,a,c;a=v(b);c=J.fromContextToolbars(e);d=C.match(b,[w.element(a[0],c),u.textSelection("text"),u.emptyTextBlock(a,"insert"),w.parent(a,c)]);return d&&d.rect?d:null};var B=function(a,b){var c=function(){var e=F(a);var d=G(a,e);if(d){b.show(a,d.id,d.rect,e)}else{b.hide()}};return function(){if(!a.removed){c()}}};var D=function(b,a){return function(){if(!b.inForm()){a()}}};var A=function(b,c){var a=L.throttle(B(b,c),0);var d=L.throttle(D(c,B(b,c)),0);b.on("blur hide ObjectResizeStart",c.hide);b.on("click",a);b.on("nodeChange mouseup",d);b.on("ResizeEditor ResizeWindow keyup",a);b.on("remove",c.remove);b.shortcuts.add("Alt+F10","",c.focus)};var N=function(a,b){a.shortcuts.remove("meta+k");a.shortcuts.add("meta+k","",function(){var c=F(a);var d=d=C.match(a,[u.textSelection("quicklink")]);if(d){b.show(a,d.id,d.rect,c)}})};var H=function(a,b){var c=a.settings.skin||"lightgray";E.load(a,c,function(){A(a,b);N(a,b)});return{}};var K=function(a){throw new Error(a)};y.add("inlite",function(a){var c=new z();x.addToEditor(a,c);var b=function(){return a.inline?H(a,c):K("inlite theme only supports inline mode.")};return{renderUI:b}});return function(){}});