define("tinymce/inlite/ui/Panel",["global!tinymce.util.Tools","global!tinymce.ui.Factory","global!tinymce.DOM","tinymce/inlite/ui/Toolbar","tinymce/inlite/ui/Forms","tinymce/inlite/core/Measure","tinymce/inlite/core/Layout"],function(n,i,k,m,j,h,l){return function(){var I="bold italic | quicklink h2 h3 blockquote";var B="quickimage quicktable";var C,g;var L=function(p,o){return n.map(o,function(q){return m.create(p,q.id,q.items)})};var K=function(p){var o=p.selection_toolbar;return o?o:I};var d=function(p){var o=p.insert_toolbar;return o?o:B};var D=function(p,o){var r,q=p.settings;r=L(p,o);r=r.concat([m.create(p,"text",K(q)),m.create(p,"insert",d(q)),j.createQuickLinkForm(p,F)]);return i.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:false,autofix:true,fixed:true,border:1,items:r,oncancel:function(){p.focus()}})};var a=function(o){if(o){o.show()}};var M=function(p,o){p.moveTo(o.x,o.y)};var J=function(o,p){p=p?p.substr(0,2):"";n.each({t:"down",b:"up",c:"center"},function(r,q){o.classes.toggle("arrow-"+r,q===p.substr(0,1))});if(p==="cr"){o.classes.toggle("arrow-left",true);o.classes.toggle("arrow-right",false)}else{if(p==="cl"){o.classes.toggle("arrow-left",true);o.classes.toggle("arrow-right",true)}else{n.each({l:"left",r:"right"},function(r,q){o.classes.toggle("arrow-"+r,q===p.substr(1,1))})}}};var G=function(q,o){var p=q.items().filter("#"+o);if(p.length>0){p[0].show();q.reflow()}};var c=function(t,o,q,p){var r,s,u,v;a(t);t.items().hide();G(t,o);v=q.settings.inline_toolbar_position_handler;r=h.getContentAreaRect(q);s=k.getRect(t.getEl());if(o==="insert"){u=l.calcInsert(p,r,s)}else{u=l.calc(p,r,s)}if(u){s=u.rect;g=p;M(t,l.userConstrain(v,p,r,s));J(t,u.position)}else{F(t)}};var H=function(){return C.items().filter("form:visible").length>0};var f=function(p,o){if(C){C.items().hide();G(C,o);var q,r,s,t;a(C);C.items().hide();G(C,o);t=p.settings.inline_toolbar_position_handler;q=h.getContentAreaRect(p);r=k.getRect(C.getEl());s=l.calc(g,q,r);if(s){r=s.rect;M(C,l.userConstrain(t,g,q,r));J(C,s.position)}}};var b=function(r,o,p,q){if(!C){C=D(r,q);C.renderTo(document.body).reflow().moveTo(p.x,p.y);r.nodeChanged()}c(C,o,r,p)};var F=function(){if(C){C.hide()}};var e=function(){if(C){C.find("toolbar:visible").eq(0).each(function(o){o.focus(true)})}};var E=function(){if(C){C.remove();C=null}};var N=function(){return C&&C.visible()&&H()};return{show:b,showForm:f,inForm:N,hide:F,focus:e,remove:E}}});