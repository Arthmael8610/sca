define("tinymce/inlite/ui/Forms",["global!tinymce.util.Tools","global!tinymce.ui.Factory","global!tinymce.util.Promise","tinymce/inlite/core/Actions","tinymce/inlite/core/UrlType"],function(s,u,n,v,o){var t=function(a){a.find("textbox").eq(0).each(function(b){b.focus()})};var m=function(a,b){var c=u.create(s.extend({type:"form",layout:"flex",direction:"row",padding:5,name:a,spacing:3},b));c.on("show",function(){t(c)});return c};var p=function(a,b){return b?a.show():a.hide()};var q=function(a,b){return new n(function(c){a.windowManager.confirm("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){var d=e===true?"http://"+b:b;c(d)})})};var l=function(a,b){return !o.isAbsolute(b)&&o.isDomainLike(b)?q(a,b):n.resolve(b)};var r=function(c,a){var b=function(){c.focus();v.unlink(c);a()};return m("quicklink",{items:[{type:"button",name:"unlink",icon:"unlink",onclick:b,tooltip:"Remove link"},{type:"textbox",name:"linkurl",placeholder:"Paste or type a link"},{type:"button",icon:"checkmark",subtype:"primary",tooltip:"Ok",onclick:"submit"}],onshow:function(){var d,e="";d=c.dom.getParent(c.selection.getStart(),"a[href]");if(d){e=c.dom.getAttrib(d,"href")}this.fromJSON({linkurl:e});p(this.find("#unlink"),d)},onsubmit:function(d){l(c,d.data.linkurl).then(function(e){v.createLink(c,e);a()})}})};return{createQuickLinkForm:r}});