!function(){var j={},i=function(a){for(var v=j[a],u=v.deps,t=v.defn,s=u.length,r=new Array(s),q=0;s>q;++q){r[q]=o(u[q])}var d=t.apply(null,r);if(void 0===d){throw"module ["+a+"] returned undefined"}v.instance=d},p=function(a,f,e){if("string"!=typeof a){throw"module id must be a string"}if(void 0===f){throw"no dependencies for "+a}if(void 0===e){throw"no definition function for "+a}j[a]={deps:f,defn:e,instance:void 0}},o=function(b){var a=j[b];if(void 0===a){throw"module ["+b+"] was undefined"}return void 0===a.instance&&i(b),a.instance},n=function(g,d){for(var r=g.length,q=new Array(r),h=0;r>h;++h){q.push(o(g[h]))}d.apply(null,d)},m={};m.bolt={module:{api:{define:p,require:n,demand:o}}};var l=p,k=function(d,c){l(d,[],function(){return c})};k("1",tinymce.ThemeManager),k("2",tinymce.util.Delay),k("b",tinymce.util.Tools),k("c",tinymce.ui.Factory),k("d",tinymce.DOM),l("e",["b","c"],function(h,g){var t=function(d,c){return function(v,u){for(var b,a=u.parents.length;a--&&(b=u.parents[a].nodeName,"OL"!=b&&"UL"!=b);){}d.active(v&&b==c)}},s=function(u,c){var x=function(e,d){return{selector:e,handler:d}},w=function(b){c.active(b)},v=function(b){c.disabled(b)};return"bullist"==u?x("ul > li",t(c,"UL")):"numlist"==u?x("ol > li",t(c,"OL")):c.settings.stateSelector?x(c.settings.stateSelector,w):c.settings.disabledStateSelector?x(c.settings.disabledStateSelector,v):null},r=function(e,d,f){return function(){var a=s(d,f);null!==a&&e.selection.selectorChanged(a.selector,a.handler)}},q=function(v,u,e){var b,a=[];if(e){return h.each(e.split(/[ ,]/),function(c){var f;"|"==c?b=null:g.has(c)?(c={type:c},a.push(c),b=null):(b||(b={type:"buttongroup",items:[]},a.push(b)),v.buttons[c]&&(f=c,c=v.buttons[f],"function"==typeof c&&(c=c()),c.type=c.type||"button",c=g.create(c),c.on("postRender",r(v,f,c)),b.items.push(c)))}),g.create({type:"toolbar",layout:"flow",name:u,items:a})}};return{create:q}}),k("m",tinymce.util.Promise),l("n",[],function(){var e=0,d=function(){var b=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+Date.now().toString(36)+b()+b()+b()},f=function(a){return a+e+++d()};return{uuid:f}}),l("s",[],function(){var d=function(f,e){function h(r){var q,b,a;b=e[r?"startContainer":"endContainer"],a=e[r?"startOffset":"endOffset"],1==b.nodeType&&(q=f.create("span",{"data-mce-type":"bookmark"}),b.hasChildNodes()?(a=Math.min(a,b.childNodes.length-1),r?b.insertBefore(q,b.childNodes[a]):f.insertAfter(q,b.childNodes[a])):b.appendChild(q),b=q,a=0),g[r?"startContainer":"endContainer"]=b,g[r?"startOffset":"endOffset"]=a}var g={};return h(!0),e.collapsed||h(),g},c=function(f,e){function h(s){function r(u){for(var t=u.parentNode.firstChild,v=0;t;){if(t==u){return v}1==t.nodeType&&"bookmark"==t.getAttribute("data-mce-type")||v++,t=t.nextSibling}return -1}var q,b,a;q=a=e[s?"startContainer":"endContainer"],b=e[s?"startOffset":"endOffset"],q&&(1==q.nodeType&&(b=r(q),q=q.parentNode,f.remove(a)),e[s?"startContainer":"endContainer"]=q,e[s?"startOffset":"endOffset"]=b)}h(!0),h();var g=f.createRng();return g.setStart(e.startContainer,e.startOffset),e.endContainer&&g.setEnd(e.endContainer,e.endOffset),g};return{create:d,resolve:c}}),k("t",tinymce.dom.TreeWalker),k("u",tinymce.dom.RangeUtils),l("o",["s","b","t","u"],function(z,y,x,w){var v=function(h,c,D){var C,B,A=[];for(C=new x(c,h),B=c;B&&(1===B.nodeType&&A.push(B),B!==D);B=C.next()){}return A},u=function(B,A){var h,b,a;b=B.dom,a=B.selection,h=z.create(b,a.getRng()),y.each(A,function(c){B.dom.remove(c,!0)}),a.setRng(z.resolve(b,h))},t=function(b){return"A"===b.nodeName&&b.hasAttribute("href")},s=function(e,d){var f=e.getParent(d,t);return f?f:d},r=function(e){var C,B,A,h,g,d,b;return g=e.selection,d=e.dom,b=g.getRng(),C=s(d,w.getNode(b.startContainer,b.startOffset)),B=w.getNode(b.endContainer,b.endOffset),A=e.getBody(),h=y.grep(v(A,C,B),t)},q=function(b){u(b,r(b))};return{unlinkSelection:q}}),l("k",["n","o"],function(C,B){var A=function(g,f){var E,D,h;for(h='<table data-mce-id="mce" style="width: 100%">',h+="<tbody>",D=0;f>D;D++){for(h+="<tr>",E=0;g>E;E++){h+="<td><br></td>"}h+="</tr>"}return h+="</tbody>",h+="</table>"},z=function(d){var c=d.dom.select("*[data-mce-id]");return c[0]},y=function(d,c,f){d.undoManager.transact(function(){var b,a;d.insertContent(A(c,f)),b=z(d),b.removeAttribute("data-mce-id"),a=d.dom.select("td,th",b),d.selection.setCursorLocation(a[0],0)})},x=function(d,c){d.execCommand("FormatBlock",!1,c)},w=function(a,E,D){var h,g;h=a.editorUpload.blobCache,g=h.create(C.uuid("mceu"),D,E),h.add(g),a.insertContent(a.dom.createHTML("img",{src:g.blobUri()}))},v=function(b){b.selection.collapse(!1)},u=function(b){b.focus(),B.unlinkSelection(b),v(b)},t=function(e,d,f){e.focus(),e.dom.setAttrib(d,"href",f),v(e)},s=function(d,c){d.execCommand("mceInsertLink",!1,{href:c}),v(d)},r=function(e,d){var f=e.dom.getParent(e.selection.getStart(),"a[href]");f?t(e,f,d):s(e,d)},q=function(d,c){0===c.trim().length?u(d):r(d,c)};return{insertTable:y,formatBlock:x,insertBlob:w,createLink:q,unlink:u}}),l("p",[],function(){var d=function(b){return/^www\.|\.(com|org|edu|gov|uk|net|ca|de|jp|fr|au|us|ru|ch|it|nl|se|no|es|mil)$/i.test(b.trim())},c=function(b){return/^https?:\/\//.test(b.trim())};return{isDomainLike:d,isAbsolute:c}}),l("f",["b","c","m","k","p"],function(A,z,y,x,w){var v=function(b){b.find("textbox").eq(0).each(function(c){c.focus()})},u=function(f,b){var a=z.create(A.extend({type:"form",layout:"flex",direction:"row",padding:5,name:f,spacing:3},b));return a.on("show",function(){v(a)}),a},t=function(d,c){return c?d.show():d.hide()},s=function(d,c){return new y(function(a){d.windowManager.confirm("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(b){var e=b===!0?"http://"+c:c;a(e)})})},r=function(d,c){return !w.isAbsolute(c)&&w.isDomainLike(c)?s(d,c):y.resolve(c)},q=function(e,d){var f=function(){e.focus(),x.unlink(e),d()};return u("quicklink",{items:[{type:"button",name:"unlink",icon:"unlink",onclick:f,tooltip:"Remove link"},{type:"textbox",name:"linkurl",placeholder:"Paste or type a link"},{type:"button",icon:"checkmark",subtype:"primary",tooltip:"Ok",onclick:"submit"}],onshow:function(){var a,g="";a=e.dom.getParent(e.selection.getStart(),"a[href]"),a&&(g=e.dom.getAttrib(a,"href")),this.fromJSON({linkurl:g}),t(this.find("#unlink"),a)},onsubmit:function(a){r(e,a.data.linkurl).then(function(b){x.createLink(e,b),d()})}})};return{createQuickLinkForm:q}}),k("q",tinymce.geom.Rect),l("r",[],function(){var d=function(b){return{x:b.left,y:b.top,w:b.width,h:b.height}},c=function(b){return{left:b.x,top:b.y,width:b.w,height:b.h,right:b.x+b.w,bottom:b.y+b.h}};return{fromClientRect:d,toClientRect:c}}),l("g",["d","q","r"],function(y,x,w){var v=function(a){var d=y.getViewPort();return{x:a.x+d.x,y:a.y+d.y,w:a.w,h:a.h}},u=function(d){var c=d.getBoundingClientRect();return v({x:c.left,y:c.top,w:Math.max(d.clientWidth,d.offsetWidth),h:Math.max(d.clientHeight,d.offsetHeight)})},t=function(d,c){return u(c)},s=function(b){return u(b.getElement().ownerDocument.body)},r=function(b){return u(b.getContentAreaContainer()||b.getBody())},q=function(d){var c=d.selection.getBoundingClientRect();return c?v(w.fromClientRect(c)):null};return{getElementRect:t,getPageAreaRect:s,getContentAreaRect:r,getSelectionRect:q}}),l("h",["q","r"],function(r,q){var x=function(d,c){return{rect:d,position:c}},w=function(d,c){return{x:c.x,y:c.y,w:d.w,h:d.h}},v=function(a,C,B,A,z){var y,d,c;return y=r.findBestRelativePosition(z,B,A,a),B=r.clamp(B,A),y?(d=r.relativePosition(z,B,y),c=w(z,d),x(c,y)):(B=r.intersect(A,B),B?(y=r.findBestRelativePosition(z,B,A,C))?(d=r.relativePosition(z,B,y),c=w(z,d),x(c,y)):(c=w(z,B),x(c,y)):null)},u=function(e,d,f){return v(["cr-cl","cl-cr"],["bc-tc","bl-tl","br-tr"],e,d,f)},t=function(e,d,f){return v(["tc-bc","bc-tc","tl-bl","bl-tl","tr-br","br-tr"],["bc-tc","bl-tl","br-tr"],e,d,f)},s=function(b,z,y,h){var g;return"function"==typeof b?(g=b({elementRect:q.toClientRect(z),contentAreaRect:q.toClientRect(y),panelRect:q.toClientRect(h)}),q.fromClientRect(g)):h};return{calcInsert:u,calc:t,userConstrain:s}}),l("3",["b","c","d","e","f","g","h"],function(q,h,v,u,t,s,r){return function(){var N,M,L="bold italic | quicklink h2 h3 blockquote",K="quickimage quicktable",J=function(w,x){return q.map(x,function(y){return u.create(w,y.id,y.items)})},I=function(x){var w=x.selection_toolbar;return w?w:L},H=function(x){var w=x.insert_toolbar;return w?w:K},G=function(w,z){var y,x=w.settings;return y=J(w,z),y=y.concat([u.create(w,"text",I(x)),u.create(w,"insert",H(x)),t.createQuickLinkForm(w,c)]),h.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:y,oncancel:function(){w.focus()}})},F=function(w){w&&w.show()},D=function(x,w){x.moveTo(w.x,w.y)},C=function(w,x){x=x?x.substr(0,2):"",q.each({t:"down",b:"up",c:"center"},function(y,z){w.classes.toggle("arrow-"+y,z===x.substr(0,1))}),"cr"===x?(w.classes.toggle("arrow-left",!0),w.classes.toggle("arrow-right",!1)):"cl"===x?(w.classes.toggle("arrow-left",!0),w.classes.toggle("arrow-right",!0)):q.each({l:"left",r:"right"},function(y,z){w.classes.toggle("arrow-"+y,z===x.substr(1,1))})},B=function(x,w){var y=x.items().filter("#"+w);y.length>0&&(y[0].show(),x.reflow())},g=function(y,w,Q,P){var O,A,z,x;F(y),y.items().hide(),B(y,w),x=Q.settings.inline_toolbar_position_handler,O=s.getContentAreaRect(Q),A=v.getRect(y.getEl()),z="insert"===w?r.calcInsert(P,O,A):r.calc(P,O,A),z?(A=z.rect,M=P,D(y,r.userConstrain(x,P,O,A)),C(y,z.position)):c(y)},f=function(){return N.items().filter("form:visible").length>0},e=function(x,w){if(N){N.items().hide(),B(N,w);var O,A,z,y;F(N),N.items().hide(),B(N,w),y=x.settings.inline_toolbar_position_handler,O=s.getContentAreaRect(x),A=v.getRect(N.getEl()),z=r.calc(M,O,A),z&&(A=z.rect,D(N,r.userConstrain(y,M,O,A)),C(N,z.position))}},d=function(x,w,z,y){N||(N=G(x,y),N.renderTo(document.body).reflow().moveTo(z.x,z.y),x.nodeChanged()),g(N,w,x,z)},c=function(){N&&N.hide()},b=function(){N&&N.find("toolbar:visible").eq(0).each(function(w){w.focus(!0)})},a=function(){N&&(N.remove(),N=null)},E=function(){return N&&N.visible()&&f()};return{show:d,showForm:e,inForm:E,hide:c,focus:b,remove:a}}}),l("i",["m"],function(d){var c=function(a){return new d(function(b){var e=new FileReader;e.onloadend=function(){b(e.result.split(",")[1])},e.readAsDataURL(a)})};return{blobToBase64:c}}),l("j",["m"],function(d){var c=function(){return new d(function(f){var e;e=document.createElement("input"),e.type="file",e.style.position="fixed",e.style.left=0,e.style.top=0,e.style.opacity=0.001,document.body.appendChild(e),e.onchange=function(a){f(Array.prototype.slice.call(a.target.files))},e.click(),e.parentNode.removeChild(e)})};return{pickFile:c}}),l("4",["3","i","j","k"],function(h,g,t,s){var r=function(f){for(var d=function(a){return function(){s.formatBlock(f,a)}},v=1;6>v;v++){var u="h"+v;f.addButton(u,{text:u.toUpperCase(),tooltip:"Heading "+v,stateSelector:u,onclick:d(u),onPostRender:function(){var b=this.getEl().firstChild.firstChild;b.style.fontWeight="bold"}})}},q=function(b,c){b.addButton("quicklink",{icon:"link",tooltip:"Insert/Edit link",stateSelector:"a[href]",onclick:function(){c.showForm(b,"quicklink")}}),b.addButton("quickimage",{icon:"image",tooltip:"Insert image",onclick:function(){t.pickFile().then(function(d){var a=d[0];g.blobToBase64(a).then(function(e){s.insertBlob(b,e,a)})})}}),b.addButton("quicktable",{icon:"table",tooltip:"Insert table",onclick:function(){c.hide(),s.insertTable(b,2,2)}}),r(b)};return{addToEditor:q}}),k("l",tinymce.EditorManager),l("5",["l","d"],function(f,e){var h=function(q,d){var r=function(){q.fire("SkinLoaded"),d()};q.initialized?r():q.on("init",r)},g=function(s,r,q){var c=f.baseURL,b=c+"/skins/"+r,a=function(){h(s,q)};e.styleSheetLoader.load(b+"/skin.min.css",a),s.contentCSS.push(b+"/content.inline.min.css")};return{load:g}}),l("8",[],function(){var d=function(f,e){return{id:f,rect:e}},c=function(g,f){for(var r=0;r<f.length;r++){var q=f[r],h=q(g);if(h){return h}}return null};return{match:c,result:d}}),l("6",["8","g"],function(f,e){var h=function(a){return function(b){return b.selection.isCollapsed()?null:f.result(a,e.getSelectionRect(b))}},g=function(b,a){return function(q){var d,c=q.schema.getTextBlockElements();for(d=0;d<b.length;d++){if("TABLE"===b[d].nodeName){return null}}for(d=0;d<b.length;d++){if(b[d].nodeName in c){return q.dom.isEmpty(b[d])?f.result(a,e.getSelectionRect(q)):null}}return null}};return{textSelection:h,emptyTextBlock:g}}),l("7",["8","g"],function(f,e){var h=function(b,a){return function(d){for(var c=0;c<a.length;c++){if(a[c].predicate(b)){return f.result(a[c].id,e.getElementRect(d,b))}}return null}},g=function(b,a){return function(q){for(var d=0;d<b.length;d++){for(var c=0;c<a.length;c++){if(a[c].predicate(b[d])){return f.result(a[c].id,e.getElementRect(q,b[d]))}}}return null}};return{element:h,parent:g}}),l("9",[],function(){var b=function(a){return a.reduce(function(d,e){return Array.isArray(e)?d.concat(b(e)):d.concat(e)},[])};return{flatten:b}}),l("a",["b"],function(e){var d=function(g,c){return{id:g,predicate:c}},f=function(a){return e.map(a,function(b){return d(b.id,b.predicate)})};return{create:d,fromContextToolbars:f}}),l("0",["1","2","3","4","5","6","7","8","9","a"],function(N,M,L,K,J,I,H,G,F,E){var D=function(e){var d=e.selection.getNode(),f=e.dom.getParents(d);return f},C=function(g,f,r,q){var h=function(a){return g.dom.is(a,f)};return{predicate:h,id:r,items:q}},B=function(d){var c=d.contextToolbars;return F.flatten([c?c:[],C(d,"img","image","alignleft aligncenter alignright")])},A=function(g,f){var r,q,h;return q=D(g),h=E.fromContextToolbars(f),r=G.match(g,[H.element(q[0],h),I.textSelection("text"),I.emptyTextBlock(q,"insert"),H.parent(q,h)]),r&&r.rect?r:null},z=function(e,d){var f=function(){var b=B(e),a=A(e,b);a?d.show(e,a.id,a.rect,b):d.hide()};return function(){e.removed||f()}},y=function(d,c){return function(){d.inForm()||c()}},x=function(b,h){var g=M.throttle(z(b,h),0),f=M.throttle(y(h,z(b,h)),0);b.on("blur hide ObjectResizeStart",h.hide),b.on("click",g),b.on("nodeChange mouseup",f),b.on("ResizeEditor ResizeWindow keyup",g),b.on("remove",h.remove),b.shortcuts.add("Alt+F10","",h.focus)},w=function(d,c){d.shortcuts.remove("meta+k"),d.shortcuts.add("meta+k","",function(){var b=B(d),a=a=G.match(d,[I.textSelection("quicklink")]);a&&c.show(d,a.id,a.rect,b)})},v=function(e,d){var f=e.settings.skin||"lightgray";return J.load(e,f,function(){x(e,d),w(e,d)}),{}},u=function(b){throw new Error(b)};return N.add("inlite",function(d){var c=new L;K.addToEditor(d,c);var f=function(){return d.inline?v(d,c):u("inlite theme only supports inline mode.")};return{renderUI:f}}),function(){}}),o("0")()}();