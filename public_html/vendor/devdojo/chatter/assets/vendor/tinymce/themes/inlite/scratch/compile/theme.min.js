defineGlobal("global!tinymce.ThemeManager",tinymce.ThemeManager);defineGlobal("global!tinymce.util.Delay",tinymce.util.Delay);defineGlobal("global!tinymce.util.Tools",tinymce.util.Tools);defineGlobal("global!tinymce.ui.Factory",tinymce.ui.Factory);defineGlobal("global!tinymce.DOM",tinymce.DOM);define("tinymce/inlite/ui/Toolbar",["global!tinymce.util.Tools","global!tinymce.ui.Factory"],function(c,b){var f=function(h,g){return function(l,j){var m,k=j.parents.length;while(k--){m=j.parents[k].nodeName;if(m=="OL"||m=="UL"){break}}h.active(l&&m==g)}};var e=function(k,i){var g=function(l,m){return{selector:l,handler:m}};var j=function(l){i.active(l)};var h=function(l){i.disabled(l)};if(k=="bullist"){return g("ul > li",f(i,"UL"))}if(k=="numlist"){return g("ol > li",f(i,"OL"))}if(i.settings.stateSelector){return g(i.settings.stateSelector,j)}if(i.settings.disabledStateSelector){return g(i.settings.disabledStateSelector,h)}return null};var a=function(g,i,h){return function(){var j=e(i,h);if(j!==null){g.selection.selectorChanged(j.selector,j.handler)}}};var d=function(j,i,h){var k=[],g;if(!h){return}c.each(h.split(/[ ,]/),function(l){var m;if(l=="|"){g=null}else{if(b.has(l)){l={type:l};k.push(l);g=null}else{if(!g){g={type:"buttongroup",items:[]};k.push(g)}if(j.buttons[l]){m=l;l=j.buttons[m];if(typeof l=="function"){l=l()}l.type=l.type||"button";l=b.create(l);l.on("postRender",a(j,m,l));g.items.push(l)}}}});return b.create({type:"toolbar",layout:"flow",name:i,items:k})};return{create:d}});defineGlobal("global!tinymce.util.Promise",tinymce.util.Promise);define("tinymce/inlite/alien/Uuid",[],function(){var c=0;var a=function(){var d=function(){return Math.round(Math.random()*4294967295).toString(36)};return"s"+Date.now().toString(36)+d()+d()+d()};var b=function(d){return d+(c++)+a()};return{uuid:b}});define("tinymce/inlite/alien/Bookmark",[],function(){var a=function(f,c){var d={};function e(j){var h,g,i;g=c[j?"startContainer":"endContainer"];i=c[j?"startOffset":"endOffset"];if(g.nodeType==1){h=f.create("span",{"data-mce-type":"bookmark"});if(g.hasChildNodes()){i=Math.min(i,g.childNodes.length-1);if(j){g.insertBefore(h,g.childNodes[i])}else{f.insertAfter(h,g.childNodes[i])}}else{g.appendChild(h)}g=h;i=0}d[j?"startContainer":"endContainer"]=g;d[j?"startOffset":"endOffset"]=i}e(true);if(!c.collapsed){e()}return d};var b=function(f,d){function e(k){var g,i,h;function j(m){var n=m.parentNode.firstChild,l=0;while(n){if(n==m){return l}if(n.nodeType!=1||n.getAttribute("data-mce-type")!="bookmark"){l++}n=n.nextSibling}return -1}g=h=d[k?"startContainer":"endContainer"];i=d[k?"startOffset":"endOffset"];if(!g){return}if(g.nodeType==1){i=j(g);g=g.parentNode;f.remove(h)}d[k?"startContainer":"endContainer"]=g;d[k?"startOffset":"endOffset"]=i}e(true);e();var c=f.createRng();c.setStart(d.startContainer,d.startOffset);if(d.endContainer){c.setEnd(d.endContainer,d.endOffset)}return c};return{create:a,resolve:b}});defineGlobal("global!tinymce.dom.TreeWalker",tinymce.dom.TreeWalker);defineGlobal("global!tinymce.dom.RangeUtils",tinymce.dom.RangeUtils);define("tinymce/inlite/alien/Unlink",["tinymce/inlite/alien/Bookmark","global!tinymce.util.Tools","global!tinymce.dom.TreeWalker","global!tinymce.dom.RangeUtils"],function(f,e,i,g){var h=function(p,l,k){var o,n,m=[];o=new i(l,p);for(n=l;n;n=o.next()){if(n.nodeType===1){m.push(n)}if(n===k){break}}return m};var j=function(n,m){var l,o,k;o=n.dom;k=n.selection;l=f.create(o,k.getRng());e.each(m,function(p){n.dom.remove(p,true)});k.setRng(f.resolve(o,l))};var d=function(k){return k.nodeName==="A"&&k.hasAttribute("href")};var c=function(l,m){var k=l.getParent(m,d);return k?k:m};var b=function(p){var n,m,r,l,o,q,k;o=p.selection;q=p.dom;k=o.getRng();n=c(q,g.getNode(k.startContainer,k.startOffset));m=g.getNode(k.endContainer,k.endOffset);r=p.getBody();l=e.grep(h(r,n,m),d);return l};var a=function(k){j(k,b(k))};return{unlinkSelection:a}});define("tinymce/inlite/core/Actions",["tinymce/inlite/alien/Uuid","tinymce/inlite/alien/Unlink"],function(h,e){var i=function(q,p){var n,r,o;o='<table data-mce-id="mce" style="width: 100%">';o+="<tbody>";for(r=0;r<p;r++){o+="<tr>";for(n=0;n<q;n++){o+="<td><br></td>"}o+="</tr>"}o+="</tbody>";o+="</table>";return o};var j=function(o){var n=o.dom.select("*[data-mce-id]");return n[0]};var g=function(n,p,o){n.undoManager.transact(function(){var q,r;n.insertContent(i(p,o));q=j(n);q.removeAttribute("data-mce-id");r=n.dom.select("td,th",q);n.selection.setCursorLocation(r[0],0)})};var m=function(o,n){o.execCommand("FormatBlock",false,n)};var c=function(q,n,o){var r,p;r=q.editorUpload.blobCache;p=r.create(h.uuid("mceu"),o,n);r.add(p);q.insertContent(q.dom.createHTML("img",{src:p.blobUri()}))};var b=function(n){n.selection.collapse(false)};var a=function(n){n.focus();e.unlinkSelection(n);b(n)};var d=function(o,p,n){o.focus();o.dom.setAttrib(p,"href",n);b(o)};var l=function(o,n){o.execCommand("mceInsertLink",false,{href:n});b(o)};var k=function(o,n){var p=o.dom.getParent(o.selection.getStart(),"a[href]");p?d(o,p,n):l(o,n)};var f=function(o,n){n.trim().length===0?a(o):k(o,n)};return{insertTable:g,formatBlock:m,insertBlob:c,createLink:f,unlink:a}});define("tinymce/inlite/core/UrlType",[],function(){var a=function(c){return/^www\.|\.(com|org|edu|gov|uk|net|ca|de|jp|fr|au|us|ru|ch|it|nl|se|no|es|mil)$/i.test(c.trim())};var b=function(c){return/^https?:\/\//.test(c.trim())};return{isDomainLike:a,isAbsolute:b}});define("tinymce/inlite/ui/Forms",["global!tinymce.util.Tools","global!tinymce.ui.Factory","global!tinymce.util.Promise","tinymce/inlite/core/Actions","tinymce/inlite/core/UrlType"],function(d,b,i,a,h){var c=function(l){l.find("textbox").eq(0).each(function(m){m.focus()})};var j=function(m,l){var n=b.create(d.extend({type:"form",layout:"flex",direction:"row",padding:5,name:m,spacing:3},l));n.on("show",function(){c(n)});return n};var g=function(m,l){return l?m.show():m.hide()};var f=function(m,l){return new i(function(n){m.windowManager.confirm("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(o){var p=o===true?"http://"+l:l;n(p)})})};var k=function(m,l){return !h.isAbsolute(l)&&h.isDomainLike(l)?f(m,l):i.resolve(l)};var e=function(n,m){var l=function(){n.focus();a.unlink(n);m()};return j("quicklink",{items:[{type:"button",name:"unlink",icon:"unlink",onclick:l,tooltip:"Remove link"},{type:"textbox",name:"linkurl",placeholder:"Paste or type a link"},{type:"button",icon:"checkmark",subtype:"primary",tooltip:"Ok",onclick:"submit"}],onshow:function(){var p,o="";p=n.dom.getParent(n.selection.getStart(),"a[href]");if(p){o=n.dom.getAttrib(p,"href")}this.fromJSON({linkurl:o});g(this.find("#unlink"),p)},onsubmit:function(o){k(n,o.data.linkurl).then(function(p){a.createLink(n,p);m()})}})};return{createQuickLinkForm:e}});defineGlobal("global!tinymce.geom.Rect",tinymce.geom.Rect);define("tinymce/inlite/core/Convert",[],function(){var a=function(c){return{x:c.left,y:c.top,w:c.width,h:c.height}};var b=function(c){return{left:c.x,top:c.y,width:c.w,height:c.h,right:c.x+c.w,bottom:c.y+c.h}};return{fromClientRect:a,toClientRect:b}});define("tinymce/inlite/core/Measure",["global!tinymce.DOM","global!tinymce.geom.Rect","tinymce/inlite/core/Convert"],function(i,a,e){var b=function(k){var j=i.getViewPort();return{x:k.x+j.x,y:k.y+j.y,w:k.w,h:k.h}};var d=function(k){var j=k.getBoundingClientRect();return b({x:j.left,y:j.top,w:Math.max(k.clientWidth,k.offsetWidth),h:Math.max(k.clientHeight,k.offsetHeight)})};var h=function(j,k){return d(k)};var c=function(j){return d(j.getElement().ownerDocument.body)};var f=function(j){return d(j.getContentAreaContainer()||j.getBody())};var g=function(j){var k=j.selection.getBoundingClientRect();return k?b(e.fromClientRect(k)):null};return{getElementRect:h,getPageAreaRect:c,getContentAreaRect:f,getSelectionRect:g}});define("tinymce/inlite/core/Layout",["global!tinymce.geom.Rect","tinymce/inlite/core/Convert"],function(d,g){var b=function(j,i){return{rect:j,position:i}};var a=function(j,i){return{x:i.x,y:i.y,w:j.w,h:j.h}};var h=function(k,j,p,m,l){var i,n,o;i=d.findBestRelativePosition(l,p,m,k);p=d.clamp(p,m);if(i){n=d.relativePosition(l,p,i);o=a(l,n);return b(o,i)}p=d.intersect(m,p);if(p){i=d.findBestRelativePosition(l,p,m,j);if(i){n=d.relativePosition(l,p,i);o=a(l,n);return b(o,i)}o=a(l,p);return b(o,i)}return null};var e=function(k,j,i){return h(["cr-cl","cl-cr"],["bc-tc","bl-tl","br-tr"],k,j,i)};var c=function(k,j,i){return h(["tc-bc","bc-tc","tl-bl","bl-tl","tr-br","br-tr"],["bc-tc","bl-tl","br-tr"],k,j,i)};var f=function(l,m,k,j){var i;if(typeof l==="function"){i=l({elementRect:g.toClientRect(m),contentAreaRect:g.toClientRect(k),panelRect:g.toClientRect(j)});return g.fromClientRect(i)}return j};return{calcInsert:e,calc:c,userConstrain:f}});define("tinymce/inlite/ui/Panel",["global!tinymce.util.Tools","global!tinymce.ui.Factory","global!tinymce.DOM","tinymce/inlite/ui/Toolbar","tinymce/inlite/ui/Forms","tinymce/inlite/core/Measure","tinymce/inlite/core/Layout"],function(c,a,f,d,g,b,e){return function(){var m="bold italic | quicklink h2 h3 blockquote";var s="quickimage quicktable";var r,t;var j=function(B,C){return c.map(C,function(D){return d.create(B,D.id,D.items)})};var k=function(B){var C=B.selection_toolbar;return C?C:m};var w=function(B){var C=B.insert_toolbar;return C?C:s};var q=function(D,E){var B,C=D.settings;B=j(D,E);B=B.concat([d.create(D,"text",k(C)),d.create(D,"insert",w(C)),g.createQuickLinkForm(D,p)]);return a.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:false,autofix:true,fixed:true,border:1,items:B,oncancel:function(){D.focus()}})};var z=function(B){if(B){B.show()}};var i=function(B,C){B.moveTo(C.x,C.y)};var l=function(C,B){B=B?B.substr(0,2):"";c.each({t:"down",b:"up",c:"center"},function(D,E){C.classes.toggle("arrow-"+D,E===B.substr(0,1))});if(B==="cr"){C.classes.toggle("arrow-left",true);C.classes.toggle("arrow-right",false)}else{if(B==="cl"){C.classes.toggle("arrow-left",true);C.classes.toggle("arrow-right",true)}else{c.each({l:"left",r:"right"},function(D,E){C.classes.toggle("arrow-"+D,E===B.substr(1,1))})}}};var o=function(B,D){var C=B.items().filter("#"+D);if(C.length>0){C[0].show();B.reflow()}};var x=function(D,I,G,H){var F,E,C,B;z(D);D.items().hide();o(D,I);B=G.settings.inline_toolbar_position_handler;F=b.getContentAreaRect(G);E=f.getRect(D.getEl());if(I==="insert"){C=e.calcInsert(H,F,E)}else{C=e.calc(H,F,E)}if(C){E=C.rect;t=H;i(D,e.userConstrain(B,H,F,E));l(D,C.position)}else{p(D)}};var n=function(){return r.items().filter("form:visible").length>0};var u=function(F,G){if(r){r.items().hide();o(r,G);var E,D,C,B;z(r);r.items().hide();o(r,G);B=F.settings.inline_toolbar_position_handler;E=b.getContentAreaRect(F);D=f.getRect(r.getEl());C=e.calc(t,E,D);if(C){D=C.rect;i(r,e.userConstrain(B,t,E,D));l(r,C.position)}}};var y=function(B,E,D,C){if(!r){r=q(B,C);r.renderTo(document.body).reflow().moveTo(D.x,D.y);B.nodeChanged()}x(r,E,B,D)};var p=function(){if(r){r.hide()}};var v=function(){if(r){r.find("toolbar:visible").eq(0).each(function(B){B.focus(true)})}};var A=function(){if(r){r.remove();r=null}};var h=function(){return r&&r.visible()&&n()};return{show:y,showForm:u,inForm:h,hide:p,focus:v,remove:A}}});define("tinymce/inlite/file/Conversions",["global!tinymce.util.Promise"],function(b){var a=function(c){return new b(function(e){var d=new FileReader();d.onloadend=function(){e(d.result.split(",")[1])};d.readAsDataURL(c)})};return{blobToBase64:a}});define("tinymce/inlite/file/Picker",["global!tinymce.util.Promise"],function(a){var b=function(){return new a(function(d){var c;c=document.createElement("input");c.type="file";c.style.position="fixed";c.style.left=0;c.style.top=0;c.style.opacity=0.001;document.body.appendChild(c);c.onchange=function(f){d(Array.prototype.slice.call(f.target.files))};c.click();c.parentNode.removeChild(c)})};return{pickFile:b}});define("tinymce/inlite/ui/Buttons",["tinymce/inlite/ui/Panel","tinymce/inlite/file/Conversions","tinymce/inlite/file/Picker","tinymce/inlite/core/Actions"],function(f,e,a,d){var c=function(k){var g=function(i){return function(){d.formatBlock(k,i)}};for(var j=1;j<6;j++){var h="h"+j;k.addButton(h,{text:h.toUpperCase(),tooltip:"Heading "+j,stateSelector:h,onclick:g(h),onPostRender:function(){var i=this.getEl().firstChild.firstChild;i.style.fontWeight="bold"}})}};var b=function(h,g){h.addButton("quicklink",{icon:"link",tooltip:"Insert/Edit link",stateSelector:"a[href]",onclick:function(){g.showForm(h,"quicklink")}});h.addButton("quickimage",{icon:"image",tooltip:"Insert image",onclick:function(){a.pickFile().then(function(j){var i=j[0];e.blobToBase64(i).then(function(k){d.insertBlob(h,k,i)})})}});h.addButton("quicktable",{icon:"table",tooltip:"Insert table",onclick:function(){g.hide();d.insertTable(h,2,2)}});c(h)};return{addToEditor:b}});defineGlobal("global!tinymce.EditorManager",tinymce.EditorManager);define("tinymce/inlite/core/SkinLoader",["global!tinymce.EditorManager","global!tinymce.DOM"],function(a,c){var b=function(f,g){var e=function(){f.fire("SkinLoaded");g()};if(f.initialized){e()}else{f.on("init",e)}};var d=function(g,i,j){var h=a.baseURL;var f=h+"/skins/"+i;var e=function(){b(g,j)};c.styleSheetLoader.load(f+"/skin.min.css",e);g.contentCSS.push(f+"/content.inline.min.css")};return{load:d}});define("tinymce/inlite/core/Matcher",[],function(){var a=function(d,c){return{id:d,rect:c}};var b=function(g,d){for(var e=0;e<d.length;e++){var h=d[e];var c=h(g);if(c){return c}}return null};return{match:b,result:a}});define("tinymce/inlite/core/SelectionMatcher",["tinymce/inlite/core/Matcher","tinymce/inlite/core/Measure"],function(d,b){var a=function(e){return function(f){if(!f.selection.isCollapsed()){return d.result(e,b.getSelectionRect(f))}return null}};var c=function(e,f){return function(j){var h,g=j.schema.getTextBlockElements();for(h=0;h<e.length;h++){if(e[h].nodeName==="TABLE"){return null}}for(h=0;h<e.length;h++){if(e[h].nodeName in g){if(j.dom.isEmpty(e[h])){return d.result(f,b.getSelectionRect(j))}return null}}return null}};return{textSelection:a,emptyTextBlock:c}});define("tinymce/inlite/core/ElementMatcher",["tinymce/inlite/core/Matcher","tinymce/inlite/core/Measure"],function(d,a){var b=function(e,f){return function(h){for(var g=0;g<f.length;g++){if(f[g].predicate(e)){return d.result(f[g].id,a.getElementRect(h,e))}}return null}};var c=function(e,f){return function(j){for(var h=0;h<e.length;h++){for(var g=0;g<f.length;g++){if(f[g].predicate(e[h])){return d.result(f[g].id,a.getElementRect(j,e[h]))}}}return null}};return{element:b,parent:c}});define("tinymce/inlite/alien/Arr",[],function(){var a=function(b){return b.reduce(function(c,d){return Array.isArray(d)?c.concat(a(d)):c.concat(d)},[])};return{flatten:a}});define("tinymce/inlite/core/PredicateId",["global!tinymce.util.Tools"],function(b){var c=function(e,d){return{id:e,predicate:d}};var a=function(d){return b.map(d,function(e){return c(e.id,e.predicate)})};return{create:c,fromContextToolbars:a}});define("tinymce/inlite/Theme",["global!tinymce.ThemeManager","global!tinymce.util.Delay","tinymce/inlite/ui/Panel","tinymce/inlite/ui/Buttons","tinymce/inlite/core/SkinLoader","tinymce/inlite/core/SelectionMatcher","tinymce/inlite/core/ElementMatcher","tinymce/inlite/core/Matcher","tinymce/inlite/alien/Arr","tinymce/inlite/core/PredicateId"],function(p,c,o,q,j,t,r,l,f,e){var s=function(v){var w=v.selection.getNode();var u=v.dom.getParents(w);return u};var b=function(w,u,y,v){var x=function(z){return w.dom.is(z,u)};return{predicate:x,id:y,items:v}};var i=function(u){var v=u.contextToolbars;return f.flatten([v?v:[],b(u,"img","image","alignleft aligncenter alignright")])};var h=function(w,y){var u,x,v;x=s(w);v=e.fromContextToolbars(y);u=l.match(w,[r.element(x[0],v),t.textSelection("text"),t.emptyTextBlock(x,"insert"),r.parent(x,v)]);return u&&u.rect?u:null};var m=function(w,v){var u=function(){var y=i(w);var x=h(w,y);if(x){v.show(w,x.id,x.rect,y)}else{v.hide()}};return function(){if(!w.removed){u()}}};var k=function(u,v){return function(){if(!u.inForm()){v()}}};var n=function(w,v){var x=c.throttle(m(w,v),0);var u=c.throttle(k(v,m(w,v)),0);w.on("blur hide ObjectResizeStart",v.hide);w.on("click",x);w.on("nodeChange mouseup",u);w.on("ResizeEditor ResizeWindow keyup",x);w.on("remove",v.remove);w.shortcuts.add("Alt+F10","",v.focus)};var a=function(v,u){v.shortcuts.remove("meta+k");v.shortcuts.add("meta+k","",function(){var x=i(v);var w=w=l.match(v,[t.textSelection("quicklink")]);if(w){u.show(v,w.id,w.rect,x)}})};var g=function(w,v){var u=w.settings.skin||"lightgray";j.load(w,u,function(){n(w,v);a(w,v)});return{}};var d=function(u){throw new Error(u)};p.add("inlite",function(w){var u=new o();q.addToEditor(w,u);var v=function(){return w.inline?g(w,u):d("inlite theme only supports inline mode.")};return{renderUI:v}});return function(){}});