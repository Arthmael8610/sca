!function(bO,bv){function bC(d,b){for(var f,c=[],a=0;a<d.length;++a){if(f=bw[d[a]]||bB(d[a]),!f){throw"module definition dependecy not found: "+d[a]}c.push(f)}b.apply(null,c)}function bx(c,b,a){if("string"!=typeof c){throw"invalid module definition, module id must be defined and be a string"}if(b===bv){throw"invalid module definition, dependencies must be specified"}if(a===bv){throw"invalid module definition, definition function must be specified"}bC(b,function(){bw[c]=a.apply(null,arguments)})}function bJ(a){return !!bw[a]}function bB(b){for(var d=bO,c=b.split(/[.\/]/),a=0;a<c.length;++a){if(!d[c[a]]){return}d=d[c[a]]}return d}function bS(j){var f,e,g,d,b;for(f=0;f<j.length;f++){e=bO,g=j[f],d=g.split(/[.\/]/);for(var h=0;h<d.length-1;++h){e[d[h]]===bv&&(e[d[h]]={}),e=e[d[h]]}e[d[d.length-1]]=bw[g]}if(bO.AMDLC_TESTS){b=bO.privateModules||{};for(g in bw){b[g]=bw[g]}for(f=0;f<j.length;f++){delete b[j[f]]}bO.privateModules=b}}var bw={},bF="tinymce/geom/Rect",bQ="tinymce/util/Promise",bs="tinymce/util/Delay",bP="tinymce/Env",bM="tinymce/dom/EventUtils",bK="tinymce/dom/Sizzle",bA="tinymce/util/Arr",bE="tinymce/util/Tools",bL="tinymce/dom/DomQuery",br="tinymce/html/Styles",bn="tinymce/dom/TreeWalker",bR="tinymce/dom/Range",cu="tinymce/html/Entities",bp="tinymce/dom/StyleSheetLoader",bq="tinymce/dom/DOMUtils",cd="tinymce/dom/ScriptLoader",cp="tinymce/AddOnManager",bU="tinymce/dom/NodeType",b6="tinymce/text/Zwsp",bG="tinymce/caret/CaretContainer",b4="tinymce/dom/RangeUtils",b7="tinymce/NodeChange",cx="tinymce/html/Node",cv="tinymce/html/Schema",cr="tinymce/html/SaxParser",cg="tinymce/html/DomParser",cf="tinymce/html/Writer",ca="tinymce/html/Serializer",cl="tinymce/dom/Serializer",cb="tinymce/dom/TridentSelection",ck="tinymce/util/VK",co="tinymce/dom/ControlSelection",bm="tinymce/util/Fun",b3="tinymce/caret/CaretCandidate",b0="tinymce/geom/ClientRect",b1="tinymce/text/ExtendingChar",cH="tinymce/caret/CaretPosition",by="tinymce/caret/CaretBookmark",bH="tinymce/dom/BookmarkManager",bY="tinymce/dom/Selection",bZ="tinymce/dom/ElementUtils",ch="tinymce/fmt/Preview",cm="tinymce/fmt/Hooks",cj="tinymce/Formatter",b9="tinymce/UndoManager",bW="tinymce/EnterKey",a9="tinymce/ForceBlocks",aM="tinymce/caret/CaretUtils",cy="tinymce/caret/CaretWalker",a4="tinymce/InsertList",aC="tinymce/InsertContent",bV="tinymce/EditorCommands",cE="tinymce/util/URI",aU="tinymce/util/Class",cR="tinymce/util/EventDispatcher",bI="tinymce/data/Binding",aE="tinymce/util/Observable",bi="tinymce/data/ObservableObject",a1="tinymce/ui/Selector",aK="tinymce/ui/Collection",bl="tinymce/ui/DomUtils",cJ="tinymce/ui/BoxUtils",aS="tinymce/ui/ClassList",aw="tinymce/ui/ReflowQueue",cL="tinymce/ui/Control",ci="tinymce/ui/Factory",aJ="tinymce/ui/KeyboardNavigation",ac="tinymce/ui/Container",am="tinymce/ui/DragHelper",aT="tinymce/ui/Scrollable",ar="tinymce/ui/Panel",ag="tinymce/ui/Movable",ab="tinymce/ui/Resizable",ak="tinymce/ui/FloatPanel",cK="tinymce/ui/Window",al="tinymce/ui/MessageBox",a0="tinymce/WindowManager",aR="tinymce/ui/Tooltip",aB="tinymce/ui/Widget",bb="tinymce/ui/Progress",a3="tinymce/ui/Notification",aD="tinymce/NotificationManager",cI="tinymce/dom/NodePath",aL="tinymce/util/Quirks",cw="tinymce/EditorObservable",aj="tinymce/Mode",cB="tinymce/Shortcuts",cA="tinymce/file/Uploader",bu="tinymce/file/Conversions",b2="tinymce/file/ImageScanner",cs="tinymce/file/BlobCache",bc="tinymce/file/UploadStatus",au="tinymce/EditorUpload",a6="tinymce/caret/FakeCaret",bf="tinymce/dom/Dimensions",bk="tinymce/caret/LineWalker",cQ="tinymce/caret/LineUtils",bT="tinymce/DragDropOverrides",av="tinymce/SelectionOverrides",aX="tinymce/util/Uuid",a5="tinymce/Editor",aI="tinymce/util/I18n",cc="tinymce/FocusManager",aZ="tinymce/EditorManager",ay="tinymce/LegacyInput",bD="tinymce/util/XHR",cz="tinymce/util/JSON",aQ="tinymce/util/JSONRequest",cN="tinymce/util/JSONP",bo="tinymce/util/LocalStorage",aA="tinymce/Compat",bd="tinymce/ui/Layout",aW="tinymce/ui/AbsoluteLayout",aG="tinymce/ui/Button",bh="tinymce/ui/ButtonGroup",cD="tinymce/ui/Checkbox",aO="tinymce/ui/ComboBox",aq="tinymce/ui/ColorBox",cG="tinymce/ui/PanelButton",bX="tinymce/ui/ColorButton",aF="tinymce/util/Color",cP="tinymce/ui/ColorPicker",ai="tinymce/ui/Path",aP="tinymce/ui/ElementPath",an="tinymce/ui/FormItem",aa="tinymce/ui/Form",cO="tinymce/ui/FieldSet",af="tinymce/ui/FilePicker",cF="tinymce/ui/FitLayout",ah="tinymce/ui/FlexLayout",aV="tinymce/ui/FlowLayout",aN="tinymce/ui/FormatControls",ax="tinymce/ui/GridLayout",a7="tinymce/ui/Iframe",aY="tinymce/ui/InfoBox",az="tinymce/ui/Label",cC="tinymce/ui/Toolbar",aH="tinymce/ui/MenuBar",b8="tinymce/ui/MenuButton",ad="tinymce/ui/MenuItem",cq="tinymce/ui/Throbber",cn="tinymce/ui/Menu",bj="tinymce/ui/ListBox",bN="tinymce/ui/Radio",b5="tinymce/ui/ResizeHandle",a8="tinymce/ui/SelectBox",ao="tinymce/ui/Slider",a2="tinymce/ui/Spacer",ba="tinymce/ui/SplitButton",bg="tinymce/ui/StackLayout",cM="tinymce/ui/TabPanel",bz="tinymce/ui/TextBox",ap="tinymce/Register";bx(bF,[],function(){function j(x,A,o){var c,w,y,B,v,z;return c=A.x,w=A.y,y=x.w,B=x.h,v=A.w,z=A.h,o=(o||"").split(""),"b"===o[0]&&(w+=z),"r"===o[1]&&(c+=v),"c"===o[0]&&(w+=k(z/2)),"c"===o[1]&&(c+=k(v/2)),"b"===o[3]&&(w-=B),"r"===o[4]&&(c-=y),"c"===o[3]&&(w-=k(B/2)),"c"===o[4]&&(c-=k(y/2)),d(c,w,y,B)}function p(l,v,s,e){var u,c;for(c=0;c<e.length;c++){if(u=j(l,v,e[c]),u.x>=s.x&&u.x+u.w<=s.w+s.x&&u.y>=s.y&&u.y+u.h<=s.h+s.y){return e[c]}}return null}function f(c,a,i){return d(c.x-a,c.y-i,c.w+2*a,c.h+2*i)}function b(u,o){var v,s,l,c;return v=g(u.x,o.x),s=g(u.y,o.y),l=q(u.x+u.w,o.x+o.w),c=q(u.y+u.h,o.y+o.h),0>l-v||0>c-s?null:d(v,s,l-v,c-s)}function h(z,E,v){var l,w,C,F,B,D,A,y,x,o;return B=z.x,D=z.y,A=z.x+z.w,y=z.y+z.h,x=E.x+E.w,o=E.y+E.h,l=g(0,E.x-B),w=g(0,E.y-D),C=g(0,A-x),F=g(0,y-o),B+=l,D+=w,v&&(A+=l,y+=w,B-=C,D-=F),A-=C,y-=F,d(B,D,A-B,y-D)}function d(i,a,l,c){return{x:i,y:a,w:l,h:c}}function m(a){return d(a.left,a.top,a.width,a.height)}var q=Math.min,g=Math.max,k=Math.round;return{inflate:f,relativePosition:j,findBestRelativePosition:p,intersect:b,clamp:h,create:d,fromClientRect:m}}),bx(bQ,[],function(){function j(c,a){return function(){c.apply(a,arguments)}}function p(a){if("object"!=typeof this){throw new TypeError("Promises must be constructed via new")}if("function"!=typeof a){throw new TypeError("not a function")}this._state=null,this._value=null,this._deferreds=[],q(a,j(b,this),j(h,this))}function f(c){var a=this;return null===this._state?void this._deferreds.push(c):void g(function(){var o=a._state?c.onFulfilled:c.onRejected;if(null===o){return void (a._state?c.resolve:c.reject)(a._value)}var l;try{l=o(a._value)}catch(e){return void c.reject(e)}c.resolve(l)})}function b(e){try{if(e===this){throw new TypeError("A promise cannot be resolved with itself.")}if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i){return void q(j(i,e),j(b,this),j(h,this))}}this._state=!0,this._value=e,d.call(this)}catch(c){h.call(this,c)}}function h(a){this._state=!1,this._value=a,d.call(this)}function d(){for(var c=0,a=this._deferreds.length;a>c;c++){f.call(this,this._deferreds[c])}this._deferreds=null}function m(i,a,l,c){this.onFulfilled="function"==typeof i?i:null,this.onRejected="function"==typeof a?a:null,this.resolve=l,this.reject=c}function q(o,c,s){var l=!1;try{o(function(i){l||(l=!0,c(i))},function(i){l||(l=!0,s(i))})}catch(a){if(l){return}l=!0,s(a)}}if(window.Promise){return window.Promise}var g=p.immediateFn||"function"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)},k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return p.prototype["catch"]=function(a){return this.then(null,a)},p.prototype.then=function(l,c){var a=this;return new p(function(e,i){f.call(a,new m(l,c,e,i))})},p.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&k(arguments[0])?arguments[0]:arguments);return new p(function(e,u){function l(t,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var r=n.then;if("function"==typeof r){return void r.call(n,function(o){l(t,o)},u)}}a[t]=n,0===--c&&e(a)}catch(i){u(i)}}if(0===a.length){return e([])}for(var c=a.length,s=0;s<a.length;s++){l(s,a[s])}})},p.resolve=function(a){return a&&"object"==typeof a&&a.constructor===p?a:new p(function(c){c(a)})},p.reject=function(a){return new p(function(c,e){e(a)})},p.race=function(a){return new p(function(e,o){for(var l=0,c=a.length;c>l;l++){a[l].then(e,o)}})},p}),bx(bs,[bQ],function(g){function d(m,k){function q(i){window.setTimeout(i,0)}var l,a=window.requestAnimationFrame,p=["ms","moz","webkit"];for(l=0;l<p.length&&!a;l++){a=window[p[l]+"RequestAnimationFrame"]}a||(a=q),a(m,k)}function j(i,a){return"number"!=typeof a&&(a=0),setTimeout(i,a)}function f(i,a){return"number"!=typeof a&&(a=1),setInterval(i,a)}function c(a){return clearTimeout(a)}function h(a){return clearInterval(a)}var b;return{requestAnimationFrame:function(e,a){return b?void b.then(e):void (b=new g(function(i){a||(a=document.body),d(i,a)}).then(e))},setTimeout:j,setInterval:f,setEditorTimeout:function(k,a,i){return j(function(){k.removed||a()},i)},setEditorInterval:function(l,k,m){var a;return a=f(function(){l.removed?clearInterval(a):k()},m)},throttle:function(m,k){var l,a;return a=function(){var e=arguments;clearTimeout(l),l=j(function(){m.apply(this,e)},k)},a.stop=function(){clearTimeout(l)},a},clearInterval:h,clearTimeout:c}}),bx(bP,[],function(){function B(a){return"matchMedia" in window?matchMedia(a).matches:!1}var G=navigator,q=G.userAgent,b,x,k,E,H,w,D,F,C,A,y,j,v;b=window.opera&&window.opera.buildNumber,C=/Android/.test(q),x=/WebKit/.test(q),k=!x&&!b&&/MSIE/gi.test(q)&&/Explorer/gi.test(G.appName),k=k&&/MSIE (\w+)\./.exec(q)[1],E=-1==q.indexOf("Trident/")||-1==q.indexOf("rv:")&&-1==G.appName.indexOf("Netscape")?!1:11,H=-1==q.indexOf("Edge/")||k||E?!1:12,k=k||E||H,w=!x&&!E&&/Gecko/.test(q),D=-1!=q.indexOf("Mac"),F=/(iPad|iPhone)/.test(q),A="FormData" in window&&"FileReader" in window&&"URL" in window&&!!URL.createObjectURL,y=B("only screen and (max-device-width: 480px)")&&(C||F),j=B("only screen and (min-width: 800px)")&&(C||F),v=-1!=q.indexOf("Windows Phone"),H&&(x=!1);var z=!F||A||q.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:b,webkit:x,ie:k,gecko:w,mac:D,iOS:F,android:C,contentEditable:z,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=k,range:window.getSelection&&"Range" in window,documentMode:k&&!H?document.documentMode||7:10,fileApi:A,ceFalse:k===!1||k>8,desktop:!y&&!j,windowsPhone:v}}),bx(bM,[bs,bP],function(j,q){function f(i,a,l,c){i.addEventListener?i.addEventListener(a,l,c||!1):i.attachEvent&&i.attachEvent("on"+a,l)}function b(i,a,l,c){i.removeEventListener?i.removeEventListener(a,l,c||!1):i.detachEvent&&i.detachEvent("on"+a,l)}function h(i,a){var l,c=a;return l=i.path,l&&l.length>0&&(c=l[0]),i.deepPath&&(l=i.deepPath(),l&&l.length>0&&(c=l[0])),c}function d(y,t){function c(){return !1}function i(){return !0}var A,B=t||{},u;for(A in y){p[A]||(B[A]=y[A])}if(B.target||(B.target=B.srcElement||document),q.experimentalShadowDom&&(B.target=h(y,B.target)),y&&k.test(y.type)&&y.pageX===u&&y.clientX!==u){var z=B.target.ownerDocument||document,x=z.documentElement,w=z.body;B.pageX=y.clientX+(x&&x.scrollLeft||w&&w.scrollLeft||0)-(x&&x.clientLeft||w&&w.clientLeft||0),B.pageY=y.clientY+(x&&x.scrollTop||w&&w.scrollTop||0)-(x&&x.clientTop||w&&w.clientTop||0)}return B.preventDefault=function(){B.isDefaultPrevented=i,y&&(y.preventDefault?y.preventDefault():y.returnValue=!1)},B.stopPropagation=function(){B.isPropagationStopped=i,y&&(y.stopPropagation?y.stopPropagation():y.cancelBubble=!0)},B.stopImmediatePropagation=function(){B.isImmediatePropagationStopped=i,B.stopPropagation()},B.isDefaultPrevented||(B.isDefaultPrevented=c,B.isPropagationStopped=c,B.isImmediatePropagationStopped=c),"undefined"==typeof B.metaKey&&(B.metaKey=!1),B}function m(x,w,z){function n(){z.domLoaded||(z.domLoaded=!0,w(r))}function y(){("complete"===A.readyState||"interactive"===A.readyState&&A.body)&&(b(A,"readystatechange",y),n())}function e(){try{A.documentElement.doScroll("left")}catch(a){return void j.setTimeout(e)}n()}var A=x.document,r={type:"ready"};return z.domLoaded?void w(r):(A.addEventListener?"complete"===A.readyState?n():f(x,"DOMContentLoaded",n):(f(A,"readystatechange",y),A.documentElement.doScroll&&x.self===x.top&&e()),void f(x,"load",n))}function v(){function w(A,i){var C,z,B,c,u=l[i];if(C=u&&u[A.type]){for(z=0,B=C.length;B>z;z++){if(c=C[z],c&&c.func.call(c.scope,A)===!1&&A.preventDefault(),A.isImmediatePropagationStopped()){return}}}}var n=this,l={},o,y,a,x,r;y=g+(+new Date).toString(32),x="onmouseenter" in document.documentElement,a="onfocusin" in document.documentElement,r={mouseenter:"mouseover",mouseleave:"mouseout"},o=1,n.domLoaded=!1,n.events=l,n.bind=function(c,t,u,i){function s(C){w(d(C||A.event),z)}var z,G,D,B,e,E,F,A=window;if(c&&3!==c.nodeType&&8!==c.nodeType){for(c[y]?z=c[y]:(z=o++,c[y]=z,l[z]={}),i=i||c,t=t.split(" "),D=t.length;D--;){B=t[D],E=s,e=F=!1,"DOMContentLoaded"===B&&(B="ready"),n.domLoaded&&"ready"===B&&"complete"==c.readyState?u.call(i,d({type:B})):(x||(e=r[B],e&&(E=function(C){var I,H;if(I=C.currentTarget,H=C.relatedTarget,H&&I.contains){H=I.contains(H)}else{for(;H&&H!==I;){H=H.parentNode}}H||(C=d(C||A.event),C.type="mouseout"===C.type?"mouseleave":"mouseenter",C.target=I,w(C,z))})),a||"focusin"!==B&&"focusout"!==B||(F=!0,e="focusin"===B?"focus":"blur",E=function(C){C=d(C||A.event),C.type="focus"===C.type?"focusin":"focusout",w(C,z)}),G=l[z][B],G?"ready"===B&&n.domLoaded?u({type:B}):G.push({func:u,scope:i}):(l[z][B]=G=[{func:u,scope:i}],G.fakeName=e,G.capture=F,G.nativeHandler=E,"ready"===B?m(c,E,n):f(c,e||B,E,F)))}return c=G=0,u}},n.unbind=function(E,t,i){var G,I,A,H,F,D;if(!E||3===E.nodeType||8===E.nodeType){return n}if(G=E[y]){if(D=l[G],t){for(t=t.split(" "),A=t.length;A--;){if(F=t[A],I=D[F]){if(i){for(H=I.length;H--;){if(I[H].func===i){var B=I.nativeHandler,c=I.fakeName,z=I.capture;I=I.slice(0,H).concat(I.slice(H+1)),I.nativeHandler=B,I.fakeName=c,I.capture=z,D[F]=I}}}i&&0!==I.length||(delete D[F],b(E,I.fakeName||F,I.nativeHandler,I.capture))}}}else{for(F in D){I=D[F],b(E,I.fakeName||F,I.nativeHandler,I.capture)}D={}}for(F in D){return n}delete l[G];try{delete E[y]}catch(C){E[y]=null}}return n},n.fire=function(t,s,e){var c;if(!t||3===t.nodeType||8===t.nodeType){return n}e=d(null,e),e.type=s,e.target=t;do{c=t[y],c&&w(e,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!e.isPropagationStopped());return n},n.clean=function(t){var u,s,c=n.unbind;if(!t||3===t.nodeType||8===t.nodeType){return n}if(t[y]&&c(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){for(c(t),s=t.getElementsByTagName("*"),u=s.length;u--;){t=s[u],t[y]&&c(t)}}return n},n.destroy=function(){l={}},n.cancel=function(c){return c&&(c.preventDefault(),c.stopImmediatePropagation()),!1}}var g="mce-data-",k=/^(?:mouse|contextmenu)|click/,p={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return v.Event=new v,v.Event.bind(window,"ready",function(){}),v}),bx(bK,[],function(){function dh(y,C,k,b){var v,j,B,D,u,A,z,w,f,q;if((C?C.ownerDocument||C:cT)!==dP&&dS(C),C=C||dP,k=k||[],!y||"string"!=typeof y){return k}if(1!==(D=C.nodeType)&&9!==D){return[]}if(dF&&!b){if(v=cS.exec(y)){if(B=v[1]){if(9===D){if(j=C.getElementById(B),!j||!j.parentNode){return k}if(j.id===B){return k.push(j),k}}else{if(C.ownerDocument&&(j=C.ownerDocument.getElementById(B))&&dJ(C,j)&&j.id===B){return k.push(j),k}}}else{if(v[2]){return dp.apply(k,C.getElementsByTagName(y)),k}if((B=v[3])&&cV.getElementsByClassName){return dp.apply(k,C.getElementsByClassName(B)),k}}}if(cV.qsa&&(!dA||!dA.test(y))){if(w=z=dN,f=C,q=9===D&&y,1===D&&"object"!==C.nodeName.toLowerCase()){for(A=dn(y),(z=C.getAttribute("id"))?w=z.replace(dw,"\\$&"):C.setAttribute("id",w),w="[id='"+w+"'] ",u=A.length;u--;){A[u]=w+dg(A[u])}f=dZ.test(y)&&cY(C.parentNode)||C,q=A.join(",")}if(q){try{return dp.apply(k,f.querySelectorAll(q)),k}catch(x){}finally{z||C.removeAttribute("id")}}}}return c9(y.replace(dX,"$1"),C,k,b)}function c5(){function b(d,c){return a.push(d+" ")>cW.cacheLength&&delete b[a.shift()],b[d+" "]=c}var a=[];return b}function c0(a){return a[dN]=!0,a}function db(b){var a=dP.createElement("div");try{return !!b(a)}catch(c){return !1}finally{a.parentNode&&a.parentNode.removeChild(a),a=null}}function c4(c,a){for(var d=c.split("|"),b=c.length;b--;){cW.attrHandle[d[b]]=a}}function dm(c,a){var d=a&&c,b=d&&1===c.nodeType&&1===a.nodeType&&(~a.sourceIndex||dr)-(~c.sourceIndex||dr);if(b){return b}if(d){for(;d=d.nextSibling;){if(d===a){return -1}}}return c?1:-1}function cZ(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function c8(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function dj(a){return c0(function(b){return b=+b,c0(function(g,e){for(var d,f=a([],g.length,b),c=f.length;c--;){g[d=f[c]]&&(g[d]=!(e[d]=g[d]))}})})}function cY(a){return a&&typeof a.getElementsByTagName!==dq&&a}function di(){}function dg(c){for(var a=0,d=c.length,b="";d>a;a++){b+=c[a].value}return b}function dc(d,b,g){var c=b.dir,a=g&&"parentNode"===c,f=ds++;return b.first?function(e,i,h){for(;e=e[c];){if(1===e.nodeType||a){return d(e,i,h)}}}:function(i,m,h){var j,e,k=[du,f];if(h){for(;i=i[c];){if((1===i.nodeType||a)&&d(i,m,h)){return !0}}}else{for(;i=i[c];){if(1===i.nodeType||a){if(e=i[dN]||(i[dN]={}),(j=e[c])&&j[0]===du&&j[1]===f){return k[2]=j[2]}if(e[c]=k,k[2]=d(i,m,h)){return !0}}}}}}function c3(a){return a.length>1?function(c,e,d){for(var b=a.length;b--;){if(!a[b](c,e,d)){return !1}}return !0}:a[0]}function c6(b,e,c){for(var a=0,d=e.length;d>a;a++){dh(b,e[a],c)}return c}function df(j,p,f,b,h){for(var d,m=[],q=0,g=j.length,k=null!=p;g>q;q++){(d=j[q])&&(f&&!f(d,b,h)||(m.push(d),k&&p.push(q)))}return m}function cX(f,d,h,c,g,b){return c&&!c[dN]&&(c=cX(c)),g&&!g[dN]&&(g=cX(g,b)),c0(function(e,x,B,j){var o,A,n,m=[],k=[],i=x.length,z=e||c6(d||"*",B.nodeType?[B]:B,[]),w=!f||!e&&d?z:df(z,m,f,B,j),q=h?g||(e?f:i||c)?[]:x:w;if(h&&h(w,q,B,j),c){for(o=df(q,k),c(o,[],B,j),A=o.length;A--;){(n=o[A])&&(q[k[A]]=!(w[k[A]]=n))}}if(e){if(g||f){if(g){for(o=[],A=q.length;A--;){(n=q[A])&&o.push(w[A]=n)}g(null,q=[],o,j)}for(A=q.length;A--;){(n=q[A])&&(o=g?dQ.call(e,n):m[A])>-1&&(e[o]=!(x[o]=n))}}}else{q=df(q===x?q.splice(i,q.length):q),g?g(null,x,q,j):dp.apply(x,q)}})}function cU(j){for(var q,f,b,h=j.length,d=cW.relative[j[0].type],m=d||cW.relative[" "],v=d?1:0,g=dc(function(a){return a===q},m,!0),k=dc(function(a){return dQ.call(q,a)>-1},m,!0),p=[function(c,i,a){return !d&&(a||i!==dv)||((q=i).nodeType?g(c,i,a):k(c,i,a))}];h>v;v++){if(f=cW.relative[j[v].type]){p=[dc(c3(p),f)]}else{if(f=cW.filter[j[v].type].apply(null,j[v].matches),f[dN]){for(b=++v;h>b&&!cW.relative[j[b].type];b++){}return cX(v>1&&c3(p),v>1&&dg(j.slice(0,v-1).concat({value:" "===j[v-2].type?"*":""})).replace(dX,"$1"),f,b>v&&cU(j.slice(v,b)),h>b&&cU(j=j.slice(b)),h>b&&dg(j))}p.push(f)}}return c3(p)}function dl(d,f){var c=f.length>0,e=d.length>0,b=function(g,E,H,n,z){var G,w,q,o=0,j="0",k=g&&[],F=[],B=dv,A=g||e&&cW.find.TAG("*",z),i=du+=null==B?1:Math.random()||0.1,D=A.length;for(z&&(dv=E!==dP&&E);j!==D&&null!=(G=A[j]);j++){if(e&&G){for(w=0;q=d[w++];){if(q(G,E,H)){n.push(G);break}}z&&(du=i)}c&&((G=!q&&G)&&o--,g&&k.push(G))}if(o+=j,c&&j!==o){for(w=0;q=f[w++];){q(k,F,E,H)}if(g){if(o>0){for(;j--;){k[j]||F[j]||(F[j]=dI.call(n))}}F=df(F)}dp.apply(n,F),z&&!g&&F.length>0&&o+f.length>1&&dh.uniqueSort(n)}return z&&(du=i,dv=B),k};return c?c0(b):b}var dR,cV,cW,dD,dO,dn,dx,c9,dv,dy,dT,dS,dP,dG,dF,dA,dL,dB,dJ,dN="sizzle"+-new Date,cT=window.document,du=0,ds=0,dt=c5(),dY=c5(),c2=c5(),da=function(b,a){return b===a&&(dT=!0),0},dq=typeof bv,dr=1<<31,dH={}.hasOwnProperty,dM=[],dI=dM.pop,dz=dM.push,dp=dM.push,t=dM.slice,dQ=dM.indexOf||function(b){for(var a=0,c=this.length;c>a;a++){if(this[a]===b){return a}}return -1},dK="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",d2="[\\x20\\t\\r\\n\\f]",c7="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",dd="\\["+d2+"*("+c7+")(?:"+d2+"*([*^$|!~]?=)"+d2+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+c7+"))|)"+d2+"*\\]",dU=":("+c7+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+dd+")*)|.*)\\)|)",dX=new RegExp("^"+d2+"+|((?:^|[^\\\\])(?:\\\\.)*)"+d2+"+$","g"),d1=new RegExp("^"+d2+"*,"+d2+"*"),c1=new RegExp("^"+d2+"*([>+~]|"+d2+")"+d2+"*"),dk=new RegExp("="+d2+"*([^\\]'\"]*?)"+d2+"*\\]","g"),bt=new RegExp(dU),d0=new RegExp("^"+c7+"$"),dC={ID:new RegExp("^#("+c7+")"),CLASS:new RegExp("^\\.("+c7+")"),TAG:new RegExp("^("+c7+"|[*])"),ATTR:new RegExp("^"+dd),PSEUDO:new RegExp("^"+dU),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+d2+"*(even|odd|(([+-]|)(\\d*)n|)"+d2+"*(?:([+-]|)"+d2+"*(\\d+)|))"+d2+"*\\)|)","i"),bool:new RegExp("^(?:"+dK+")$","i"),needsContext:new RegExp("^"+d2+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+d2+"*((?:-\\d)?\\d*)"+d2+"*\\)|)(?=[^-]|$)","i")},ct=/^(?:input|select|textarea|button)$/i,dW=/^h\d$/i,dV=/^[^{]+\{\s*\[native \w/,cS=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,dZ=/[+~]/,dw=/'|\\/g,dE=new RegExp("\\\\([\\da-f]{1,6}"+d2+"?|("+d2+")|.)","ig"),d3=function(c,a,d){var b="0x"+a-65536;return b!==b||d?a:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)};try{dp.apply(dM=t.call(cT.childNodes),cT.childNodes),dM[cT.childNodes.length].nodeType}catch(at){dp={apply:dM.length?function(b,a){dz.apply(b,t.call(a))}:function(c,a){for(var d=c.length,b=0;c[d++]=a[b++];){}c.length=d-1}}}cV=dh.support={},dO=dh.isXML=function(b){var a=b&&(b.ownerDocument||b).documentElement;return a?"HTML"!==a.nodeName:!1},dS=dh.setDocument=function(c){function a(h){try{return h.top}catch(g){}return null}var f,b=c?c.ownerDocument||c:cT,d=b.defaultView;return b!==dP&&9===b.nodeType&&b.documentElement?(dP=b,dG=b.documentElement,dF=!dO(b),d&&d!==a(d)&&(d.addEventListener?d.addEventListener("unload",function(){dS()},!1):d.attachEvent&&d.attachEvent("onunload",function(){dS()})),cV.attributes=db(function(g){return g.className="i",!g.getAttribute("className")}),cV.getElementsByTagName=db(function(g){return g.appendChild(b.createComment("")),!g.getElementsByTagName("*").length}),cV.getElementsByClassName=dV.test(b.getElementsByClassName),cV.getById=db(function(g){return dG.appendChild(g).id=dN,!b.getElementsByName||!b.getElementsByName(dN).length}),cV.getById?(cW.find.ID=function(h,g){if(typeof g.getElementById!==dq&&dF){var i=g.getElementById(h);return i&&i.parentNode?[i]:[]}},cW.filter.ID=function(h){var g=h.replace(dE,d3);return function(i){return i.getAttribute("id")===g}}):(delete cW.find.ID,cW.filter.ID=function(h){var g=h.replace(dE,d3);return function(i){var j=typeof i.getAttributeNode!==dq&&i.getAttributeNode("id");return j&&j.value===g}}),cW.find.TAG=cV.getElementsByTagName?function(h,g){return typeof g.getElementsByTagName!==dq?g.getElementsByTagName(h):void 0}:function(k,h){var m,j=[],g=0,l=h.getElementsByTagName(k);if("*"===k){for(;m=l[g++];){1===m.nodeType&&j.push(m)}return j}return l},cW.find.CLASS=cV.getElementsByClassName&&function(h,g){return dF?g.getElementsByClassName(h):void 0},dL=[],dA=[],(cV.qsa=dV.test(b.querySelectorAll))&&(db(function(g){g.innerHTML="<select msallowcapture=''><option selected=''></option></select>",g.querySelectorAll("[msallowcapture^='']").length&&dA.push("[*^$]="+d2+"*(?:''|\"\")"),g.querySelectorAll("[selected]").length||dA.push("\\["+d2+"*(?:value|"+dK+")"),g.querySelectorAll(":checked").length||dA.push(":checked")}),db(function(h){var g=b.createElement("input");g.setAttribute("type","hidden"),h.appendChild(g).setAttribute("name","D"),h.querySelectorAll("[name=d]").length&&dA.push("name"+d2+"*[*^$|!~]?="),h.querySelectorAll(":enabled").length||dA.push(":enabled",":disabled"),h.querySelectorAll("*,:x"),dA.push(",.*:")})),(cV.matchesSelector=dV.test(dB=dG.matches||dG.webkitMatchesSelector||dG.mozMatchesSelector||dG.oMatchesSelector||dG.msMatchesSelector))&&db(function(g){cV.disconnectedMatch=dB.call(g,"div"),dB.call(g,"[s!='']:x"),dL.push("!=",dU)}),dA=dA.length&&new RegExp(dA.join("|")),dL=dL.length&&new RegExp(dL.join("|")),f=dV.test(dG.compareDocumentPosition),dJ=f||dV.test(dG.contains)?function(i,g){var j=9===i.nodeType?i.documentElement:i,h=g&&g.parentNode;return i===h||!(!h||1!==h.nodeType||!(j.contains?j.contains(h):i.compareDocumentPosition&&16&i.compareDocumentPosition(h)))}:function(h,g){if(g){for(;g=g.parentNode;){if(g===h){return !0}}}return !1},da=f?function(h,g){if(h===g){return dT=!0,0}var i=!h.compareDocumentPosition-!g.compareDocumentPosition;return i?i:(i=(h.ownerDocument||h)===(g.ownerDocument||g)?h.compareDocumentPosition(g):1,1&i||!cV.sortDetached&&g.compareDocumentPosition(h)===i?h===b||h.ownerDocument===cT&&dJ(cT,h)?-1:g===b||g.ownerDocument===cT&&dJ(cT,g)?1:dy?dQ.call(dy,h)-dQ.call(dy,g):0:4&i?-1:1)}:function(m,j){if(m===j){return dT=!0,0}var r,h=0,p=m.parentNode,k=j.parentNode,g=[m],q=[j];if(!p||!k){return m===b?-1:j===b?1:p?-1:k?1:dy?dQ.call(dy,m)-dQ.call(dy,j):0}if(p===k){return dm(m,j)}for(r=m;r=r.parentNode;){g.unshift(r)}for(r=j;r=r.parentNode;){q.unshift(r)}for(;g[h]===q[h];){h++}return h?dm(g[h],q[h]):g[h]===cT?-1:q[h]===cT?1:0},b):dP},dh.matches=function(a,b){return dh(a,null,null,b)},dh.matchesSelector=function(b,d){if((b.ownerDocument||b)!==dP&&dS(b),d=d.replace(dk,"='$1']"),cV.matchesSelector&&dF&&(!dL||!dL.test(d))&&(!dA||!dA.test(d))){try{var c=dB.call(b,d);if(c||cV.disconnectedMatch||b.document&&11!==b.document.nodeType){return c}}catch(a){}}return dh(d,dP,null,[b]).length>0},dh.contains=function(b,a){return(b.ownerDocument||b)!==dP&&dS(b),dJ(b,a)},dh.attr=function(c,d){(c.ownerDocument||c)!==dP&&dS(c);var b=cW.attrHandle[d.toLowerCase()],a=b&&dH.call(cW.attrHandle,d.toLowerCase())?b(c,d,!dF):bv;return a!==bv?a:cV.attributes||!dF?c.getAttribute(d):(a=c.getAttributeNode(d))&&a.specified?a.value:null},dh.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},dh.uniqueSort=function(d){var b,f=[],c=0,a=0;if(dT=!cV.detectDuplicates,dy=!cV.sortStable&&d.slice(0),d.sort(da),dT){for(;b=d[a++];){b===d[a]&&(c=f.push(a))}for(;c--;){d.splice(f[c],1)}}return dy=null,d},dD=dh.getText=function(d){var b,f="",c=0,a=d.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof d.textContent){return d.textContent}for(d=d.firstChild;d;d=d.nextSibling){f+=dD(d)}}else{if(3===a||4===a){return d.nodeValue}}}else{for(;b=d[c++];){f+=dD(b)}}return f},cW=dh.selectors={cacheLength:50,createPseudo:c0,match:dC,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(dE,d3),a[3]=(a[3]||a[4]||a[5]||"").replace(dE,d3),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||dh.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&dh.error(a[0]),a},PSEUDO:function(b){var a,c=!b[6]&&b[2];return dC.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":c&&bt.test(c)&&(a=dn(c,!0))&&(a=c.indexOf(")",c.length-a)-c.length)&&(b[0]=b[0].slice(0,a),b[2]=c.slice(0,a)),b.slice(0,3))}},filter:{TAG:function(b){var a=b.replace(dE,d3).toLowerCase();return"*"===b?function(){return !0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===a}},CLASS:function(b){var a=dt[b+" "];return a||(a=new RegExp("(^|"+d2+")"+b+"("+d2+"|$)"))&&dt(b,function(c){return a.test("string"==typeof c.className&&c.className||typeof c.getAttribute!==dq&&c.getAttribute("class")||"")})},ATTR:function(a,c,b){return function(d){var e=dh.attr(d,a);return null==e?"!="===c:c?(e+="","="===c?e===b:"!="===c?e!==b:"^="===c?b&&0===e.indexOf(b):"*="===c?b&&e.indexOf(b)>-1:"$="===c?b&&e.slice(-b.length)===b:"~="===c?(" "+e+" ").indexOf(b)>-1:"|="===c?e===b||e.slice(0,b.length+1)===b+"-":!1):!0}},CHILD:function(h,d,k,g,c){var j="nth"!==h.slice(0,3),b="last"!==h.slice(-4),f="of-type"===d;return 1===g&&0===c?function(a){return !!a.parentNode}:function(C,e,o){var x,B,w,s,q,a,i=j!==b?"nextSibling":"previousSibling",r=C.parentNode,A=f&&C.nodeName.toLowerCase(),z=!o&&!f;if(r){if(j){for(;i;){for(w=C;w=w[i];){if(f?w.nodeName.toLowerCase()===A:1===w.nodeType){return !1}}a=i="only"===h&&!a&&"nextSibling"}return !0}if(a=[b?r.firstChild:r.lastChild],b&&z){for(B=r[dN]||(r[dN]={}),x=B[h]||[],q=x[0]===du&&x[1],s=x[0]===du&&x[2],w=q&&r.childNodes[q];w=++q&&w&&w[i]||(s=q=0)||a.pop();){if(1===w.nodeType&&++s&&w===C){B[h]=[du,q,s];break}}}else{if(z&&(x=(C[dN]||(C[dN]={}))[h])&&x[0]===du){s=x[1]}else{for(;(w=++q&&w&&w[i]||(s=q=0)||a.pop())&&((f?w.nodeName.toLowerCase()!==A:1!==w.nodeType)||!++s||(z&&((w[dN]||(w[dN]={}))[h]=[du,s]),w!==C));){}}}return s-=c,s===g||s%g===0&&s/g>=0}}},PSEUDO:function(b,d){var a,c=cW.pseudos[b]||cW.setFilters[b.toLowerCase()]||dh.error("unsupported pseudo: "+b);return c[dN]?c(d):c.length>1?(a=[b,b,"",d],cW.setFilters.hasOwnProperty(b.toLowerCase())?c0(function(k,h){for(var j,g=c(k,d),f=g.length;f--;){j=dQ.call(k,g[f]),k[j]=!(h[j]=g[f])}}):function(f){return c(f,0,a)}):c}},pseudos:{not:c0(function(c){var b=[],d=[],a=dx(c.replace(dX,"$1"));return a[dN]?c0(function(j,g,l,i){for(var k,f=a(j,null,i,[]),h=j.length;h--;){(k=f[h])&&(j[h]=!(g[h]=k))}}):function(g,f,h){return b[0]=g,a(b,null,h,d),!d.pop()}}),has:c0(function(a){return function(b){return dh(a,b).length>0}}),contains:c0(function(a){return a=a.replace(dE,d3),function(b){return(b.textContent||b.innerText||dD(b)).indexOf(a)>-1}}),lang:c0(function(a){return d0.test(a||"")||dh.error("unsupported lang: "+a),a=a.replace(dE,d3).toLowerCase(),function(b){var c;do{if(c=dF?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var a=window.location&&window.location.hash;return a&&a.slice(1)===b.id},root:function(a){return a===dG},focus:function(a){return a===dP.activeElement&&(!dP.hasFocus||dP.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&!!b.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !cW.pseudos.empty(a)},header:function(a){return dW.test(a.nodeName)},input:function(a){return ct.test(a.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(a=b.getAttribute("type"))||"text"===a.toLowerCase())},first:dj(function(){return[0]}),last:dj(function(b,a){return[a-1]}),eq:dj(function(b,a,c){return[0>c?c+a:c]}),even:dj(function(b,a){for(var c=0;a>c;c+=2){b.push(c)}return b}),odd:dj(function(b,a){for(var c=1;a>c;c+=2){b.push(c)}return b}),lt:dj(function(c,a,d){for(var b=0>d?d+a:d;--b>=0;){c.push(b)}return c}),gt:dj(function(c,a,d){for(var b=0>d?d+a:d;++b<a;){c.push(b)}return c})}},cW.pseudos.nth=cW.pseudos.eq;for(dR in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){cW.pseudos[dR]=cZ(dR)}for(dR in {submit:!0,reset:!0}){cW.pseudos[dR]=c8(dR)}return di.prototype=cW.filters=cW.pseudos,cW.setFilters=new di,dn=dh.tokenize=function(m,e){var b,g,d,j,p,f,h,k=dY[m+" "];if(k){return e?0:k.slice(0)}for(p=m,f=[],h=cW.preFilter;p;){b&&!(g=d1.exec(p))||(g&&(p=p.slice(g[0].length)||p),f.push(d=[])),b=!1,(g=c1.exec(p))&&(b=g.shift(),d.push({value:b,type:g[0].replace(dX," ")}),p=p.slice(b.length));for(j in cW.filter){!(g=dC[j].exec(p))||h[j]&&!(g=h[j](g))||(b=g.shift(),d.push({value:b,type:j,matches:g}),p=p.slice(b.length))}if(!b){break}}return e?p.length:p?dh.error(m):dY(m,f).slice(0)},dx=dh.compile=function(d,b){var g,c=[],a=[],f=c2[d+" "];if(!f){for(b||(b=dn(d)),g=b.length;g--;){f=cU(b[g]),f[dN]?c.push(f):a.push(f)}f=c2(d,dl(a,c)),f.selector=d}return f},c9=dh.select=function(k,u,g,b){var j,f,q,v,h,p="function"==typeof k&&k,m=!b&&dn(k=p.selector||k);if(g=g||[],1===m.length){if(f=m[0]=m[0].slice(0),f.length>2&&"ID"===(q=f[0]).type&&cV.getById&&9===u.nodeType&&dF&&cW.relative[f[1].type]){if(u=(cW.find.ID(q.matches[0].replace(dE,d3),u)||[])[0],!u){return g}p&&(u=u.parentNode),k=k.slice(f.shift().value.length)}for(j=dC.needsContext.test(k)?0:f.length;j--&&(q=f[j],!cW.relative[v=q.type]);){if((h=cW.find[v])&&(b=h(q.matches[0].replace(dE,d3),dZ.test(f[0].type)&&cY(u.parentNode)||u))){if(f.splice(j,1),k=b.length&&dg(f),!k){return dp.apply(g,b),g}break}}}return(p||dx(k,m))(b,u,!dF,g,dZ.test(k)&&cY(u.parentNode)||u),g},cV.sortStable=dN.split("").sort(da).join("")===dN,cV.detectDuplicates=!!dT,dS(),cV.sortDetached=db(function(a){return 1&a.compareDocumentPosition(dP.createElement("div"))}),db(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||c4("type|href|height|width",function(b,a,c){return c?void 0:b.getAttribute(a,"type"===a.toLowerCase()?1:2)}),cV.attributes&&db(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||c4("value",function(b,a,c){return c||"input"!==b.nodeName.toLowerCase()?void 0:b.defaultValue}),db(function(a){return null==a.getAttribute("disabled")})||c4(dK,function(c,a,d){var b;return d?void 0:c[a]===!0?a.toLowerCase():(b=c.getAttributeNode(a))&&b.specified?b.value:null}),dh}),bx(bA,[],function(){function j(i){var a=i,l,c;if(!p(i)){for(a=[],l=0,c=i.length;c>l;l++){a[l]=i[l]}}return a}function f(l,t,c){var a,s;if(!l){return 0}if(c=c||l,l.length!==bv){for(a=0,s=l.length;s>a;a++){if(t.call(c,l[a],a,l)===!1){return 0}}}else{for(a in l){if(l.hasOwnProperty(a)&&t.call(c,l[a],a,l)===!1){return 0}}}return 1}function b(i,a){var c=[];return f(i,function(l,e){c.push(a(l,e,i))}),c}function h(i,a){var c=[];return f(i,function(l,e){a&&!a(l,e,i)||c.push(l)}),c}function d(i,a){var l,c;if(i){for(l=0,c=i.length;c>l;l++){if(i[l]===a){return l}}}return -1}function m(o,c,s,l){var a=0;for(arguments.length<3&&(s=o[0]);a<o.length;a++){s=c.call(l,s,o[a],a)}return s}function q(o,c,s){var l,a;for(l=0,a=o.length;a>l;l++){if(c.call(s,o[l],l,o)){return l}}return -1}function g(l,o,c){var a=q(l,o,c);return -1!==a?l[a]:bv}function k(a){return a[a.length-1]}var p=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{isArray:p,toArray:j,each:f,map:b,filter:h,indexOf:d,reduce:m,findIndex:q,find:g,last:k}}),bx(bE,[bP,bA],function(t,j){function b(a){return null===a||a===bv?"":(""+a).replace(p,"")}function m(c,a){return a?"array"==a&&j.isArray(c)?!0:typeof c==a:c!==bv}function g(d,a,f){var c;for(d=d||[],a=a||",","string"==typeof d&&(d=d.split(a)),f=f||{},c=d.length;c--;){f[d[c]]={}}return f}function x(B,E,h){var d=this,A,f,D,F,u,C=0;if(B=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(B),D=B[3].match(/(^|\.)(\w+)$/i)[2],f=d.createNS(B[3].replace(/\.\w+$/,""),h),!f[D]){if("static"==B[2]){return f[D]=E,void (this.onCreate&&this.onCreate(B[2],B[3],f[D]))}E[D]||(E[D]=function(){},C=1),f[D]=E[D],d.extend(f[D].prototype,E),B[5]&&(A=d.resolve(B[5]).prototype,F=B[5].match(/\.(\w+)$/i)[1],u=f[D],C?f[D]=function(){return A[F].apply(this,arguments)}:f[D]=function(){return this.parent=A[F],u.apply(this,arguments)},f[D].prototype[D]=f[D],d.each(A,function(c,a){f[D].prototype[a]=A[a]}),d.each(E,function(c,a){A[a]?f[D].prototype[a]=function(){return this.parent=A[a],c.apply(this,arguments)}:a!=D&&(f[D].prototype[a]=c)})),d.each(E["static"],function(c,a){f[D][a]=c})}}function z(l,A){var h,d,u,c=arguments,f;for(h=1,d=c.length;d>h;h++){A=c[h];for(u in A){A.hasOwnProperty(u)&&(f=A[u],f!==bv&&(l[u]=f))}}return l}function k(f,c,d,a){a=a||this,f&&(d&&(f=f[d]),j.each(f,function(h,i){return c.call(a,h,i,d)===!1?!1:void k(h,c,d,a)}))}function w(d,a){var f,c;for(a=a||window,d=d.split("."),f=0;f<d.length;f++){c=d[f],a[c]||(a[c]={}),a=a[c]}return a}function y(d,a){var f,c;for(a=a||window,d=d.split("."),f=0,c=d.length;c>f&&(a=a[d[f]],a);f++){}return a}function v(c,a){return !c||m(c,"array")?c:j.map(c.split(a||","),b)}function q(a){var c=t.cacheSuffix;return c&&(a+=(-1===a.indexOf("?")?"?":"&")+c),a}var p=/^\s*|\s*$/g;return{trim:b,isArray:j.isArray,is:m,toArray:j.toArray,makeMap:g,each:j.each,map:j.map,grep:j.filter,inArray:j.indexOf,extend:z,create:x,walk:k,createNS:w,resolve:y,explode:v,_addCacheSuffix:q}}),bx(bL,[bM,bK,bE,bP],function(cX,bt,Y,cT){function be(a){return"undefined"!=typeof a}function c1(a){return"string"==typeof a}function W(a){return a&&a==a.window}function ct(d,b){var f,c,a;for(b=b||K,a=b.createElement("div"),f=b.createDocumentFragment(),a.innerHTML=d;c=a.firstChild;){f.appendChild(c)}return f}function cZ(d,b,f,c){var a;if(c1(b)){b=ct(b,O(d[0]))}else{if(b.length&&!b.nodeType){if(b=cW.makeArray(b),c){for(a=b.length-1;a>=0;a--){cZ(d,b[a],f,c)}}else{for(a=0;a<b.length;a++){cZ(d,b[a],f,c)}}return d}}if(b.nodeType){for(a=d.length;a--;){f.call(d[a],b)}}return d}function Q(b,a){return b&&a&&-1!==(" "+b.className+" ").indexOf(" "+a+" ")}function cY(d,b,f){var c,a;return b=cW(b)[0],d.each(function(){var g=this;f&&c==g.parentNode?a.appendChild(g):(c=g.parentNode,a=b.cloneNode(!1),g.parentNode.insertBefore(a,g),a.appendChild(g))}),d}function cW(b,a){return new cW.fn.init(b,a)}function cU(b,a){var c;if(a.indexOf){return a.indexOf(b)}for(c=a.length;c--;){if(a[c]===b){return c}}return -1}function at(a){return null===a||a===cS?"":(""+a).replace(z,"")}function ce(g,d){var k,f,c,h,b;if(g){if(k=g.length,k===h){for(f in g){if(g.hasOwnProperty(f)&&(b=g[f],d.call(b,f,b)===!1)){break}}}else{for(c=0;k>c&&(b=g[c],d.call(b,c,b)!==!1);c++){}}}return g}function cV(b,a){var c=[];return ce(b,function(f,d){a(d,f)&&c.push(d)}),c}function O(a){return a?9==a.nodeType?a:a.ownerDocument:K}function I(c,f,b){var a=[],d=c[f];for("string"!=typeof b&&b instanceof cW&&(b=b[0]);d&&9!==d.nodeType;){if(b!==bv){if(d===b){break}if("string"==typeof b&&cW(d).is(b)){break}}1===d.nodeType&&a.push(d),d=d[f]}return a}function c0(c,f,b,a){var d=[];for(a instanceof cW&&(a=a[0]);c;c=c[f]){if(!b||c.nodeType===b){if(a!==bv){if(c===a){break}if("string"==typeof a&&cW(c).is(a)){break}}d.push(c)}}return d}function X(b,a,c){for(b=b[a];b;b=b[a]){if(b.nodeType==c){return b}}return null}function J(b,a,c){ce(c,function(e,d){b[e]=b[e]||{},b[e][a]=d})}var K=document,F=Array.prototype.push,U=Array.prototype.slice,c2=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,q=cX.Event,cS,j=Y.makeMap("children,contents,next,prev"),t=Y.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),ae=Y.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Z={"for":"htmlFor","class":"className",readonly:"readOnly"},V={"float":"cssFloat"},H={},G={},z=/^\s*|\s*$/g;return cW.fn=cW.prototype={constructor:cW,selector:"",context:null,length:0,init:function(d,b){var f=this,c,a;if(!d){return f}if(d.nodeType){return f.context=f[0]=d,f.length=1,f}if(b&&b.nodeType){f.context=b}else{if(b){return cW(d).attr(b)}f.context=b=document}if(c1(d)){if(f.selector=d,c="<"===d.charAt(0)&&">"===d.charAt(d.length-1)&&d.length>=3?[null,d,null]:c2.exec(d),!c){return cW(b).find(d)}if(c[1]){for(a=ct(d,O(b)).firstChild;a;){F.call(f,a),a=a.nextSibling}}else{if(a=O(b).getElementById(c[2]),!a){return f}if(a.id!==c[2]){return f.find(d)}f.length=1,f[0]=a}}else{this.add(d,!1)}return f},toArray:function(){return Y.toArray(this)},add:function(d,b){var f=this,c,a;if(c1(d)){return f.add(cW(d))}if(b!==!1){for(c=cW.unique(f.toArray().concat(cW.makeArray(d))),f.length=c.length,a=0;a<c.length;a++){f[a]=c[a]}}else{F.apply(f,cW.makeArray(d))}return f},attr:function(c,a){var d=this,b;if("object"==typeof c){ce(c,function(g,f){d.attr(g,f)})}else{if(!be(a)){if(d[0]&&1===d[0].nodeType){if(b=H[c],b&&b.get){return b.get(d[0],c)}if(ae[c]){return d.prop(c)?c:cS}a=d[0].getAttribute(c,2),null===a&&(a=cS)}return a}this.each(function(){var e;if(1===this.nodeType){if(e=H[c],e&&e.set){return void e.set(this,a)}null===a?this.removeAttribute(c,2):this.setAttribute(c,a,2)}})}return d},removeAttr:function(a){return this.attr(a,null)},prop:function(b,a){var c=this;if(b=Z[b]||b,"object"==typeof b){ce(b,function(f,d){c.prop(f,d)})}else{if(!be(a)){return c[0]&&c[0].nodeType&&b in c[0]?c[0][b]:a}this.each(function(){1==this.nodeType&&(this[b]=a)})}return c},css:function(k,f){function m(a){return a.replace(/-(\D)/g,function(l,i){return i.toUpperCase()})}function h(a){return a.replace(/[A-Z]/g,function(i){return"-"+i})}var d=this,c,g;if("object"==typeof k){ce(k,function(i,a){d.css(i,a)})}else{if(be(f)){k=m(k),"number"!=typeof f||t[k]||(f+="px"),d.each(function(){var e=this.style;if(g=G[k],g&&g.set){return void g.set(this,f)}try{this.style[V[k]||k]=f}catch(a){}null!==f&&""!==f||(e.removeProperty?e.removeProperty(h(k)):e.removeAttribute(k))})}else{if(c=d[0],g=G[k],g&&g.get){return g.get(c)}if(c.ownerDocument.defaultView){try{return c.ownerDocument.defaultView.getComputedStyle(c,null).getPropertyValue(h(k))}catch(b){return cS}}else{if(c.currentStyle){return c.currentStyle[m(k)]}}}}return d},remove:function(){for(var b=this,a,c=this.length;c--;){a=b[c],q.clean(a),a.parentNode&&a.parentNode.removeChild(a)}return this},empty:function(){for(var b=this,a,c=this.length;c--;){for(a=b[c];a.firstChild;){a.removeChild(a.firstChild)}}return this},html:function(c){var a=this,d;if(be(c)){d=a.length;try{for(;d--;){a[d].innerHTML=c}}catch(b){cW(a[d]).empty().append(c)}return a}return a[0]?a[0].innerHTML:""},text:function(b){var a=this,c;if(be(b)){for(c=a.length;c--;){"innerText" in a[c]?a[c].innerText=b:a[0].textContent=b}return a}return a[0]?a[0].innerText||a[0].textContent:""},append:function(){return cZ(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(a)})},prepend:function(){return cZ(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(a,this.firstChild)},!0)},before:function(){var a=this;return a[0]&&a[0].parentNode?cZ(a,arguments,function(b){this.parentNode.insertBefore(b,this)}):a},after:function(){var a=this;return a[0]&&a[0].parentNode?cZ(a,arguments,function(b){this.parentNode.insertBefore(b,this.nextSibling)},!0):a},appendTo:function(a){return cW(a).append(this),this},prependTo:function(a){return cW(a).prepend(this),this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return cY(this,a)},wrapAll:function(a){return cY(this,a,!0)},wrapInner:function(a){return this.each(function(){cW(this).contents().wrapAll(a)}),this},unwrap:function(){return this.parent().each(function(){cW(this).replaceWith(this.childNodes)})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),cW(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(b,a){var c=this;return"string"!=typeof b?c:(-1!==b.indexOf(" ")?ce(b.split(" "),function(){c.toggleClass(this,a)}):c.each(function(g,e){var d,f;f=Q(e,b),f!==a&&(d=e.className,f?e.className=at((" "+d+" ").replace(" "+b+" "," ")):e.className+=d?" "+b:b)}),c)},hasClass:function(a){return Q(this[0],a)},each:function(a){return ce(this,a)},on:function(b,a){return this.each(function(){q.bind(this,b,a)})},off:function(b,a){return this.each(function(){q.unbind(this,b,a)})},trigger:function(a){return this.each(function(){"object"==typeof a?q.fire(this,a.type,a):q.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new cW(U.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(c){var a,d,b=[];for(a=0,d=this.length;d>a;a++){cW.find(c,this[a],b)}return cW(b)},filter:function(a){return cW("function"==typeof a?cV(this.toArray(),function(b,c){return a(c,b)}):cW.filter(a,this.toArray()))},closest:function(b){var a=[];return b instanceof cW&&(b=b[0]),this.each(function(d,c){for(;c;){if("string"==typeof b&&cW(c).is(b)){a.push(c);break}if(c==b){a.push(c);break}c=c.parentNode}}),cW(a)},offset:function(g){var d,k,f,c=0,h=0,b;return g?this.css(g):(d=this[0],d&&(k=d.ownerDocument,f=k.documentElement,d.getBoundingClientRect&&(b=d.getBoundingClientRect(),c=b.left+(f.scrollLeft||k.body.scrollLeft)-f.clientLeft,h=b.top+(f.scrollTop||k.body.scrollTop)-f.clientTop)),{left:c,top:h})},push:F,sort:[].sort,splice:[].splice},Y.extend(cW,{extend:Y.extend,makeArray:function(a){return W(a)||a.nodeType?[a]:Y.toArray(a)},inArray:cU,isArray:Y.isArray,each:ce,trim:at,grep:cV,find:bt,expr:bt.selectors,unique:bt.uniqueSort,text:bt.getText,contains:bt.contains,filter:function(c,a,d){var b=a.length;for(d&&(c=":not("+c+")");b--;){1!=a[b].nodeType&&a.splice(b,1)}return a=1===a.length?cW.find.matchesSelector(a[0],c)?[a[0]]:[]:cW.find.matches(c,a)}}),ce({parent:function(b){var a=b.parentNode;return a&&11!==a.nodeType?a:null},parents:function(a){return I(a,"parentNode")},next:function(a){return X(a,"nextSibling",1)},prev:function(a){return X(a,"previousSibling",1)},children:function(a){return c0(a.firstChild,"nextSibling",1)},contents:function(a){return Y.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(b,a){cW.fn[b]=function(e){var d=this,c=[];return d.each(function(){var f=a.call(c,this,e,c);f&&(cW.isArray(f)?c.push.apply(c,f):c.push(f))}),this.length>1&&(j[b]||(c=cW.unique(c)),0===b.indexOf("parents")&&(c=c.reverse())),c=cW(c),e?c.filter(e):c}}),ce({parentsUntil:function(b,a){return I(b,"parentNode",a)},nextUntil:function(b,a){return c0(b,"nextSibling",1,a).slice(1)},prevUntil:function(b,a){return c0(b,"previousSibling",1,a).slice(1)}},function(b,a){cW.fn[b]=function(f,d){var c=this,e=[];return c.each(function(){var g=a.call(e,this,f,e);g&&(cW.isArray(g)?e.push.apply(e,g):e.push(g))}),this.length>1&&(e=cW.unique(e),0!==b.indexOf("parents")&&"prevUntil"!==b||(e=e.reverse())),e=cW(e),d?e.filter(d):e}}),cW.fn.is=function(a){return !!a&&this.filter(a).length>0},cW.fn.init.prototype=cW.fn,cW.overrideDefaults=function(b){function a(e,d){return c=c||b(),0===arguments.length&&(e=c.element),d||(d=c.context),new a.fn.init(e,d)}var c;return cW.extend(a,this),a},cT.ie&&cT.ie<8&&(J(H,"get",{maxlength:function(b){var a=b.maxLength;return 2147483647===a?cS:a},size:function(b){var a=b.size;return 20===a?cS:a},"class":function(a){return a.className},style:function(b){var a=b.style.cssText;return 0===a.length?cS:a}}),J(H,"set",{"class":function(b,a){b.className=a},style:function(b,a){b.style.cssText=a}})),cT.ie&&cT.ie<9&&(V["float"]="styleFloat",J(G,"set",{opacity:function(b,a){var c=b.style;null===a||""===a?c.removeAttribute("filter"):(c.zoom=1,c.filter="alpha(opacity="+100*a+")")}})),cW.attrHooks=H,cW.cssHooks=G,cW}),bx(br,[],function(){return function(v,A){function j(f,c,h,d){function a(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i}return"#"+a(c)+a(h)+a(d)}var b=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,m=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,g=/\s*([^:]+):\s*([^;]+);?/g,y=/\s+$/,B,k,x={},z,w,q,p="\ufeff";for(v=v||{},A&&(w=A.getValidStyles(),q=A.getInvalidStyles()),z=("\\\" \\' \\; \\: ; : "+p).split(" "),k=0;k<z.length;k++){x[z[k]]=p+k,x[p+k]=z[k]}return{toHex:function(a){return a.replace(b,j)},parse:function(H){function I(J,h,L){var C,f,K,d;if(C=e[J+"-top"+h],C&&(f=e[J+"-right"+h],f&&(K=e[J+"-bottom"+h],K&&(d=e[J+"-left"+h])))){var u=[C,f,K,d];for(k=u.length-1;k--&&u[k]===u[k+1];){}k>-1&&L||(e[J+h]=-1==k?u[0]:u.join(" "),delete e[J+"-top"+h],delete e[J+"-right"+h],delete e[J+"-bottom"+h],delete e[J+"-left"+h])}}function G(f){var d=e[f],h;if(d){for(d=d.split(" "),h=d.length;h--;){if(d[h]!==d[0]){return !1}}return e[f]=d[0],!0}}function o(h,d,s,f){G(d)&&G(s)&&G(f)&&(e[h]=e[d]+" "+e[s]+" "+e[f],delete e[d],delete e[s],delete e[f])}function n(d){return r=!0,x[d]}function i(f,d){return r&&(f=f.replace(/\uFEFF[0-9]/g,function(h){return x[h]})),d||(f=f.replace(/\\([\'\";:])/g,"$1")),f}function c(h,K,C,f,J,d){if(J=J||d){return J=i(J),"'"+J.replace(/\'/g,"\\'")+"'"}if(K=i(K||C||f),!v.allow_script_urls){var u=K.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(u)){return""}if(!v.allow_svg_data_urls&&/^data:image\/svg/i.test(u)){return""}}return a&&(K=a.call(E,K,"style")),"url('"+K.replace(/\'/g,"\\'")+"')"}var e={},l,F,D,r,a=v.url_converter,E=v.url_converter_scope||this;if(H){for(H=H.replace(/[\u0000-\u001F]/g,""),H=H.replace(/\\[\"\';:\uFEFF]/g,n).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(d){return d.replace(/[;:]/g,n)});l=g.exec(H);){if(F=l[1].replace(y,"").toLowerCase(),D=l[2].replace(y,""),D=D.replace(/\\[0-9a-f]+/g,function(d){return String.fromCharCode(parseInt(d.substr(1),16))}),F&&D.length>0){if(!v.allow_script_urls&&("behavior"==F||/expression\s*\(|\/\*|\*\//.test(D))){continue}"font-weight"===F&&"700"===D?D="bold":"color"!==F&&"background-color"!==F||(D=D.toLowerCase()),D=D.replace(b,j),D=D.replace(m,c),e[F]=r?i(D,!0):D}g.lastIndex=l.index+l[0].length}I("border","",!0),I("border","-width"),I("border","-color"),I("border","-style"),I("padding",""),I("margin",""),o("border","border-width","border-style","border-color"),"medium none"===e.border&&delete e.border,"none"===e["border-image"]&&delete e["border-image"]}return e},serialize:function(l,f){function u(i){var E,C,D,e;if(E=w[i]){for(C=0,D=E.length;D>C;C++){i=E[C],e=l[i],e!==B&&e.length>0&&(d+=(d.length>0?" ":"")+i+": "+e+";")}}}function h(i,a){var o;return o=q["*"],o&&o[i]?!1:(o=q[a],!o||!o[i])}var d="",s,c;if(f&&w){u("*"),u(f)}else{for(s in l){c=l[s],c!==B&&c.length>0&&(q&&!h(s,f)||(d+=(d.length>0?" ":"")+s+": "+c+";"))}}return d}}}}),bx(bn,[],function(){return function(d,b){function f(k,m,j,h){var l,g;if(k){if(!h&&k[m]){return k[m]}if(k!=b){if(l=k[j]){return l}for(g=k.parentNode;g&&g!=b;g=g.parentNode){if(l=g[j]){return l}}}}}function c(l,p,k,h){var m,g,j;if(l){if(m=l[k],b&&m===b){return}if(m){if(!h){for(j=m[p];j;j=j[p]){if(!j[p]){return j}}}return m}if(g=l.parentNode,g&&g!==b){return g}}}var a=d;this.current=function(){return a},this.next=function(g){return a=f(a,"firstChild","nextSibling",g)},this.prev=function(g){return a=f(a,"lastChild","previousSibling",g)},this.prev2=function(g){return a=c(a,"lastChild","previousSibling",g)}}}),bx(bR,[bE],function(b){function a(c8){function c4(){return X.createDocumentFragment()}function dd(d,c){Z(ce,d,c)}function c7(d,c){Z(cX,d,c)}function dk(c){dd(c.parentNode,dc(c))}function c3(c){dd(c.parentNode,dc(c)+1)}function da(c){c7(c.parentNode,dc(c))}function di(c){c7(c.parentNode,dc(c)+1)}function c2(c){c?(ae[t]=ae[e],ae[cW]=ae[G]):(ae[e]=ae[t],ae[G]=ae[cW]),ae.collapsed=ce}function dh(c){dk(c),di(c)}function dg(c){dd(c,0),c7(c,1===c.nodeType?c.childNodes.length:c.nodeValue.length)}function de(k,q){var g=ae[e],d=ae[G],j=ae[t],f=ae[cW],p=q.startContainer,u=q.startOffset,h=q.endContainer,m=q.endOffset;return 0===k?c0(g,d,p,u):1===k?c0(j,f,p,u):2===k?c0(j,f,h,m):3===k?c0(g,d,h,m):void 0}function c6(){ct(be)}function c9(){return ct(bt)}function df(){return ct(Y)}function c1(g){var d=this[e],f=this[G],c,h;3!==d.nodeType&&4!==d.nodeType||!d.nodeValue?(d.childNodes.length>0&&(h=d.childNodes[f]),h?d.insertBefore(g,h):3==d.nodeType?c8.insertAfter(g,d):d.appendChild(g)):f?f>=d.nodeValue.length?c8.insertAfter(g,d):(c=d.splitText(f),d.parentNode.insertBefore(g,c)):d.parentNode.insertBefore(g,d)}function cY(d){var c=ae.extractContents();ae.insertNode(d),d.appendChild(c),ae.selectNode(d)}function dj(){return c5(new a(c8),{startContainer:ae[e],startOffset:ae[G],endContainer:ae[t],endOffset:ae[cW],collapsed:ae.collapsed,commonAncestorContainer:ae.commonAncestorContainer})}function cT(d,c){var f;if(3==d.nodeType){return d}if(0>c){return d}for(f=d.firstChild;f&&c>0;){--c,f=f.nextSibling}return f?f:d}function cZ(){return ae[e]==ae[t]&&ae[G]==ae[cW]}function c0(j,p,d,h){var f,m,q,g,k,n;if(j==d){return p==h?0:h>p?-1:1}for(f=d;f&&f.parentNode!=j;){f=f.parentNode}if(f){for(m=0,q=j.firstChild;q!=f&&p>m;){m++,q=q.nextSibling}return m>=p?-1:1}for(f=j;f&&f.parentNode!=d;){f=f.parentNode}if(f){for(m=0,q=d.firstChild;q!=f&&h>m;){m++,q=q.nextSibling}return h>m?-1:1}for(g=c8.findCommonAncestor(j,d),k=j;k&&k.parentNode!=g;){k=k.parentNode}for(k||(k=g),n=d;n&&n.parentNode!=g;){n=n.parentNode}if(n||(n=g),k==n){return 0}for(q=g.firstChild;q;){if(q==k){return -1}if(q==n){return 1}q=q.nextSibling}}function Z(g,d,f){var c,h;for(g?(ae[e]=d,ae[G]=f):(ae[t]=d,ae[cW]=f),c=ae[t];c.parentNode;){c=c.parentNode}for(h=ae[e];h.parentNode;){h=h.parentNode}h==c?c0(ae[e],ae[G],ae[t],ae[cW])>0&&ae.collapse(g):ae.collapse(g),ae.collapsed=cZ(),ae.commonAncestorContainer=c8.findCommonAncestor(ae[e],ae[t])}function ct(k){var q,g=0,d=0,j,f,p,u,h,m;if(ae[e]==ae[t]){return dl(k)}for(q=ae[t],j=q.parentNode;j;q=j,j=j.parentNode){if(j==ae[e]){return K(q,k)}++g}for(q=ae[e],j=q.parentNode;j;q=j,j=j.parentNode){if(j==ae[t]){return db(q,k)}++d}for(f=d-g,p=ae[e];f>0;){p=p.parentNode,f--}for(u=ae[t];0>f;){u=u.parentNode,f++}for(h=p.parentNode,m=u.parentNode;h!=m;h=h.parentNode,m=m.parentNode){p=h,u=m}return J(p,u,k)}function dl(j){var q,f,h,d,m,r,g,k,p;if(j!=be&&(q=c4()),ae[G]==ae[cW]){return q}if(3==ae[e].nodeType){if(f=ae[e].nodeValue,h=f.substring(ae[G],ae[cW]),j!=Y&&(d=ae[e],k=ae[G],p=ae[cW]-ae[G],0===k&&p>=d.nodeValue.length-1?d.parentNode.removeChild(d):d.deleteData(k,p),ae.collapse(ce)),j==be){return}return h.length>0&&q.appendChild(X.createTextNode(h)),q}for(d=cT(ae[e],ae[G]),m=ae[cW]-ae[G];d&&m>0;){r=d.nextSibling,g=cS(d,j),q&&q.appendChild(g),--m,d=r}return j!=Y&&ae.collapse(ce),q}function K(j,g){var m,f,k,d,h,c;if(g!=be&&(m=c4()),f=Q(j,g),m&&m.appendChild(f),k=dc(j),d=k-ae[G],0>=d){return g!=Y&&(ae.setEndBefore(j),ae.collapse(cX)),m}for(f=j.previousSibling;d>0;){h=f.previousSibling,c=cS(f,g),m&&m.insertBefore(c,m.firstChild),--d,f=h}return g!=Y&&(ae.setEndBefore(j),ae.collapse(cX)),m}function db(j,g){var m,f,k,d,h,c;for(g!=be&&(m=c4()),k=cV(j,g),m&&m.appendChild(k),f=dc(j),++f,d=ae[cW]-f,k=j.nextSibling;k&&d>0;){h=k.nextSibling,c=cS(k,g),m&&m.appendChild(c),--d,k=h}return g!=Y&&(ae.setStartAfter(j),ae.collapse(ce)),m}function J(j,q,f){var h,d,m,r,g,k,p;for(f!=be&&(d=c4()),h=cV(j,f),d&&d.appendChild(h),m=dc(j),r=dc(q),++m,g=r-m,k=j.nextSibling;g>0;){p=k.nextSibling,h=cS(k,f),d&&d.appendChild(h),k=p,--g}return h=Q(q,f),d&&d.appendChild(h),f!=Y&&(ae.setStartAfter(j),ae.collapse(ce)),d}function Q(j,m){var f=cT(ae[t],ae[cW]-1),c,h,d,k,p,g=f!=ae[t];if(f==j){return cU(f,g,cX,m)}for(c=f.parentNode,h=cU(c,cX,cX,m);c;){for(;f;){d=f.previousSibling,k=cU(f,g,cX,m),m!=be&&h.insertBefore(k,h.firstChild),g=ce,f=d}if(c==j){return h}f=c.previousSibling,c=c.parentNode,p=cU(c,cX,cX,m),m!=be&&p.appendChild(h),h=p}}function cV(j,m){var f=cT(ae[e],ae[G]),c=f!=ae[e],h,d,k,p,g;if(f==j){return cU(f,c,ce,m)}for(h=f.parentNode,d=cU(h,cX,ce,m);h;){for(;f;){k=f.nextSibling,p=cU(f,c,ce,m),m!=be&&d.appendChild(p),c=ce,f=k}if(h==j){return d}f=h.nextSibling,h=h.parentNode,g=cU(h,cX,ce,m),m!=be&&g.appendChild(d),d=g}}function cU(j,n,d,h){var f,m,p,g,k;if(n){return cS(j,h)}if(3==j.nodeType){if(f=j.nodeValue,d?(g=ae[G],m=f.substring(g),p=f.substring(0,g)):(g=ae[cW],m=f.substring(0,g),p=f.substring(g)),h!=Y&&(j.nodeValue=p),h==be){return}return k=c8.clone(j,cX),k.nodeValue=m,k}if(h!=be){return c8.clone(j,cX)}}function cS(d,c){return c!=be?c==Y?c8.clone(d,ce):d:void d.parentNode.removeChild(d)}function at(){return c8.create("body",null,df()).outerText}var ae=this,X=c8.doc,bt=0,Y=1,be=2,ce=!0,cX=!1,G="startOffset",e="startContainer",t="endContainer",cW="endOffset",c5=b.extend,dc=c8.nodeIndex;return c5(ae,{startContainer:X,startOffset:0,endContainer:X,endOffset:0,collapsed:ce,commonAncestorContainer:X,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:dd,setEnd:c7,setStartBefore:dk,setStartAfter:c3,setEndBefore:da,setEndAfter:di,collapse:c2,selectNode:dh,selectNodeContents:dg,compareBoundaryPoints:de,deleteContents:c6,extractContents:c9,cloneContents:df,insertNode:c1,surroundContents:cY,cloneRange:dj,toStringIE:at}),ae}return a.prototype.toString=function(){return this.toStringIE()},a}),bx(cu,[bE],function(p){function y(c){var a;return a=document.createElement("div"),a.innerHTML=c,a.textContent||a.innerText||c}function h(o,f){var s,l,d,c={};if(o){for(o=o.split(","),f=f||10,s=0;s<o.length;s+=2){l=String.fromCharCode(parseInt(o[s],f)),g[l]||(d="&"+o[s+1]+";",c[l]=d,c[d]=l)}return c}}var b=p.makeMap,k,g,w,z=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=/[<>&\"\']/g,x=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,q={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};g={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},w={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},k=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var m={encodeRaw:function(c,a){return c.replace(a?z:j,function(d){return g[d]||d})},encodeAllRaw:function(a){return(""+a).replace(v,function(c){return g[c]||c})},encodeNumeric:function(c,a){return c.replace(a?z:j,function(d){return d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":g[d]||"&#"+d.charCodeAt(0)+";"})},encodeNamed:function(c,a,d){return d=d||k,c.replace(a?z:j,function(f){return g[f]||d[f]||f})},getEncodeFunc:function(i,f){function d(a,c){return a.replace(c?z:j,function(n){return g[n]||f[n]||"&#"+n.charCodeAt(0)+";"||n})}function l(a,c){return m.encodeNamed(a,c,f)}return f=h(f)||k,i=b(i.replace(/\+/g,",")),i.named&&i.numeric?d:i.named?f?l:m.encodeNamed:i.numeric?m.encodeNumeric:m.encodeRaw},decode:function(a){return a.replace(x,function(c,d){return d?(d="x"===d.charAt(0).toLowerCase()?parseInt(d.substr(1),16):parseInt(d,10),d>65535?(d-=65536,String.fromCharCode(55296+(d>>10),56320+(1023&d))):q[d]||String.fromCharCode(d)):w[c]||k[c]||y(c)})}};return m}),bx(bp,[bE,bs],function(b,a){return function(j,g){function e(i){j.getElementsByTagName("head")[0].appendChild(i)}function h(i,l,x){function C(){for(var o=z.passed,m=o.length;m--;){o[m]()}z.status=2,z.passed=[],z.failed=[]}function w(){for(var o=z.failed,m=o.length;m--;){o[m]()}z.status=3,z.passed=[],z.failed=[]}function t(){var m=navigator.userAgent.match(/WebKit\/(\d*)/);return !!(m&&m[1]<536)}function q(m,o){m()||((new Date).getTime()-A<c?a.setTimeout(o):w())}function k(){q(function(){for(var u=j.styleSheets,o,p=u.length,m;p--;){if(o=u[p],m=o.ownerNode?o.ownerNode:o.owningElement,m&&m.id===s.id){return C(),!0}}},k)}function n(){q(function(){try{var o=B.sheet.cssRules;return C(),!!o}catch(m){}},n)}var s,B,A,z;if(i=b._addCacheSuffix(i),f[i]?z=f[i]:(z={passed:[],failed:[]},f[i]=z),l&&z.passed.push(l),x&&z.failed.push(x),1!=z.status){if(2==z.status){return void C()}if(3==z.status){return void w()}if(z.status=1,s=j.createElement("link"),s.rel="stylesheet",s.type="text/css",s.id="u"+d++,s.async=!1,s.defer=!1,A=(new Date).getTime(),"onload" in s&&!t()){s.onload=k,s.onerror=w}else{if(navigator.userAgent.indexOf("Firefox")>0){return B=j.createElement("style"),B.textContent='@import "'+i+'"',n(),void e(B)}k()}e(s),s.href=i}}var d=0,f={},c;g=g||{},c=g.maxLoadTime||5000,this.load=h}}),bx(bq,[bK,bL,br,bM,bn,bR,cu,bP,bE,bp],function(L,E,A,H,D,P,w,G,N,t){function M(d,b){var f={},c=b.keep_values,a;return a={set:function(h,g,e){b.url_converter&&(g=b.url_converter.call(b.url_converter_scope||d,g,e,h[0])),h.attr("data-mce-"+e,g).attr(e,g)},get:function(h,g){return h.attr("data-mce-"+g)||h.attr(g)}},f={style:{set:function(h,g){return null!==g&&"object"==typeof g?void h.css(g):(c&&h.attr("data-mce-style",g),void h.attr("style",g))},get:function(e){var g=e.attr("data-mce-style")||e.attr("style");return g=d.serializeStyle(d.parseStyle(g),e[0].nodeName)}}},c&&(f.href=f.src=a),f}function K(b,a){var c=a.attr("style");c=b.serializeStyle(b.parseStyle(c),a[0].nodeName),c||(c=null),a.attr("data-mce-style",c)}function I(d,b){var f=0,c,a;if(d){for(c=d.nodeType,d=d.previousSibling;d;d=d.previousSibling){a=d.nodeType,(!b||3!=a||a!=c&&d.nodeValue.length)&&(f++,c=a)}}return f}function B(d,c){var f=this,b;f.doc=d,f.win=window,f.files={},f.counter=0,f.stdMode=!O||d.documentMode>=8,f.boxModel=!O||"CSS1Compat"==d.compatMode||f.stdMode,f.styleSheetLoader=new t(d),f.boundEvents=[],f.settings=c=c||{},f.schema=c.schema,f.styles=new A({url_converter:c.url_converter,url_converter_scope:c.url_converter_scope},c.schema),f.fixDoc(d),f.events=c.ownEvents?new H(c.proxy):H.Event,f.attrHooks=M(f,c),b=c.schema?c.schema.getBlockElements():{},f.$=E.overrideDefaults(function(){return{context:d,element:f.getRoot()}}),f.isBlock=function(g){if(!g){return !1}var a=g.nodeType;return a?!(1!==a||!b[g.nodeName]):!!b[g]}}var F=N.each,J=N.is,q=N.grep,j=N.trim,O=G.ie,z=/^([a-z0-9],?)+$/i,k=/^[ \t\r\n]*$/;return B.prototype={$$:function(a){return"string"==typeof a&&(a=this.get(a)),this.$(a)},root:null,fixDoc:function(b){var a=this.settings,c;if(O&&a.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(d){b.createElement(d)});for(c in a.schema.getCustomElements()){b.createElement(c)}}},clone:function(d,b){var f=this,c,a;return !O||1!==d.nodeType||b?d.cloneNode(b):(a=f.doc,b?c.firstChild:(c=a.createElement(d.nodeName),F(f.getAttribs(d),function(e){f.setAttrib(c,e.nodeName,f.getAttrib(d,e.nodeName))}),c))},getRoot:function(){var a=this;return a.settings.root_element||a.doc.body},getViewPort:function(b){var a,c;return b=b?b:this.win,a=b.document,c=this.boxModel?a.documentElement:a.body,{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop,w:b.innerWidth||c.clientWidth,h:b.innerHeight||c.clientHeight}},getRect:function(c){var a=this,d,b;return c=a.get(c),d=a.getPos(c),b=a.getSize(c),{x:d.x,y:d.y,w:b.w,h:b.h}},getSize:function(c){var a=this,d,b;return c=a.get(c),d=a.getStyle(c,"width"),b=a.getStyle(c,"height"),-1===d.indexOf("px")&&(d=0),-1===b.indexOf("px")&&(b=0),{w:parseInt(d,10)||c.offsetWidth||c.clientWidth,h:parseInt(b,10)||c.offsetHeight||c.clientHeight}},getParent:function(b,a,c){return this.getParents(b,a,c,!1)},getParents:function(g,l,f,c){var h=this,b,d=[];for(g=h.get(g),c=c===bv,f=f||("BODY"!=h.getRoot().nodeName?h.getRoot().parentNode:null),J(l,"string")&&(b=l,l="*"===l?function(a){return 1==a.nodeType}:function(a){return h.is(a,b)});g&&g!=f&&g.nodeType&&9!==g.nodeType;){if(!l||l(g)){if(!c){return g}d.push(g)}g=g.parentNode}return c?d:null},get:function(b){var a;return b&&this.doc&&"string"==typeof b&&(a=b,b=this.doc.getElementById(b),b&&b.id!==a)?this.doc.getElementsByName(a)[1]:b},getNext:function(b,a){return this._findSib(b,a,"nextSibling")},getPrev:function(b,a){return this._findSib(b,a,"previousSibling")},select:function(a,c){var b=this;return L(a,b.get(c)||b.settings.root_element||b.doc,[])},is:function(d,b){var a;if(d.length===bv){if("*"===b){return 1==d.nodeType}if(z.test(b)){for(b=b.toLowerCase().split(/,/),d=d.nodeName.toLowerCase(),a=b.length-1;a>=0;a--){if(b[a]==d){return !0}}return !1}}if(d.nodeType&&1!=d.nodeType){return !1}var c=d.nodeType?[d]:d;return L(b,c[0].ownerDocument||c[0],null,c).length>0},add:function(d,b,g,c,a){var f=this;return this.run(d,function(i){var h;return h=J(b,"string")?f.doc.createElement(b):b,f.setAttribs(h,g),c&&(c.nodeType?h.appendChild(c):f.setHTML(h,c)),a?h:i.appendChild(h)})},create:function(b,a,c){return this.add(this.doc.createElement(b),b,a,c,1)},createHTML:function(d,b,f){var c="",a;c+="<"+d;for(a in b){b.hasOwnProperty(a)&&null!==b[a]&&"undefined"!=typeof b[a]&&(c+=" "+a+'="'+this.encode(b[a])+'"')}return"undefined"!=typeof f?c+">"+f+"</"+d+">":c+" />"},createFragment:function(d){var b,f,c=this.doc,a;for(a=c.createElement("div"),b=c.createDocumentFragment(),d&&(a.innerHTML=d);f=a.firstChild;){b.appendChild(f)}return b},remove:function(b,a){return b=this.$$(b),a?b.each(function(){for(var c;c=this.firstChild;){3==c.nodeType&&0===c.data.length?this.removeChild(c):this.parentNode.insertBefore(c,this)}}).remove():b.remove(),b.length>1?b.toArray():b[0]},setStyle:function(b,a,c){b=this.$$(b).css(a,c),this.settings.update_styles&&K(this,b)},getStyle:function(b,c,a){return b=this.$$(b),a?b.css(c):(c=c.replace(/-(\D)/g,function(f,d){return d.toUpperCase()}),"float"==c&&(c=G.ie&&G.ie<12?"styleFloat":"cssFloat"),b[0]&&b[0].style?b[0].style[c]:bv)},setStyles:function(b,a){b=this.$$(b).css(a),this.settings.update_styles&&K(this,b)},removeAllAttribs:function(a){return this.run(a,function(c){var b,d=c.attributes;for(b=d.length-1;b>=0;b--){c.removeAttributeNode(d.item(b))}})},setAttrib:function(g,d,l){var f=this,c,h,b=f.settings;""===l&&(l=null),g=f.$$(g),c=g.attr(d),g.length&&(h=f.attrHooks[d],h&&h.set?h.set(g,l,d):g.attr(d,l),c!=l&&b.onSetAttrib&&b.onSetAttrib({attrElm:g,attrName:d,attrValue:l}))},setAttribs:function(b,a){var c=this;c.$$(b).each(function(f,d){F(a,function(h,g){c.setAttrib(d,g,h)})})},getAttrib:function(d,b,g){var c=this,a,f;return d=c.$$(d),d.length&&(a=c.attrHooks[b],f=a&&a.get?a.get(d,b):d.attr(b)),"undefined"==typeof f&&(f=g||""),f},getPos:function(h,p){var b=this,g=0,d=0,n,u=b.doc,f=u.body,m;if(h=b.get(h),p=p||f,h){if(p===f&&h.getBoundingClientRect&&"static"===E(f).css("position")){return m=h.getBoundingClientRect(),p=b.boxModel?u.documentElement:f,g=m.left+(u.documentElement.scrollLeft||f.scrollLeft)-p.clientLeft,d=m.top+(u.documentElement.scrollTop||f.scrollTop)-p.clientTop,{x:g,y:d}}for(n=h;n&&n!=p&&n.nodeType;){g+=n.offsetLeft||0,d+=n.offsetTop||0,n=n.offsetParent}for(n=h.parentNode;n&&n!=p&&n.nodeType;){g-=n.scrollLeft||0,d-=n.scrollTop||0,n=n.parentNode}}return{x:g,y:d}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(b,a){return this.styles.serialize(b,a)},addStyle:function(d){var b=this,g=b.doc,c,a;if(b!==B.DOM&&g===document){var f=B.DOM.addedStyles;if(f=f||[],f[d]){return}f[d]=!0,B.DOM.addedStyles=f}a=g.getElementById("mceDefaultStyles"),a||(a=g.createElement("style"),a.id="mceDefaultStyles",a.type="text/css",c=g.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)),a.styleSheet?a.styleSheet.cssText+=d:a.appendChild(g.createTextNode(d))},loadCSS:function(c){var a=this,d=a.doc,b;return a!==B.DOM&&d===document?void B.DOM.loadCSS(c):(c||(c=""),b=d.getElementsByTagName("head")[0],void F(c.split(","),function(g){var f;g=N._addCacheSuffix(g),a.files[g]||(a.files[g]=!0,f=a.create("link",{rel:"stylesheet",href:g}),O&&d.documentMode&&d.recalc&&(f.onload=function(){d.recalc&&d.recalc(),f.onload=null}),b.appendChild(f))}))},addClass:function(b,a){this.$$(b).addClass(a)},removeClass:function(b,a){this.toggleClass(b,a,!1)},hasClass:function(b,a){return this.$$(b).hasClass(a)},toggleClass:function(c,a,b){this.$$(c).toggleClass(a,b).each(function(){""===this.className&&E(this).attr("class",null)})},show:function(a){this.$$(a).show()},hide:function(a){this.$$(a).hide()},isHidden:function(a){return"none"==this.$$(a).css("display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(b,a){b=this.$$(b),O?b.each(function(f,d){if(d.canHaveHTML!==!1){for(;d.firstChild;){d.removeChild(d.firstChild)}try{d.innerHTML="<br>"+a,d.removeChild(d.firstChild)}catch(c){E("<div>").html("<br>"+a).contents().slice(1).appendTo(d)}return a}}):b.html(a)},getOuterHTML:function(a){return a=this.get(a),1==a.nodeType&&"outerHTML" in a?a.outerHTML:E("<div>").append(E(a).clone()).html()},setOuterHTML:function(c,a){var b=this;b.$$(c).each(function(){try{if("outerHTML" in this){return void (this.outerHTML=a)}}catch(d){}b.remove(E(this).html(a),!0)})},decode:w.decode,encode:w.encodeAllRaw,insertAfter:function(b,a){return a=this.get(a),this.run(b,function(d){var f,c;return f=a.parentNode,c=a.nextSibling,c?f.insertBefore(d,c):f.appendChild(d),d})},replace:function(c,a,d){var b=this;return b.run(a,function(e){return J(e,"array")&&(c=c.cloneNode(!0)),d&&F(q(e.childNodes),function(f){c.appendChild(f)}),e.parentNode.replaceChild(c,e)})},rename:function(c,a){var d=this,b;return c.nodeName!=a.toUpperCase()&&(b=d.create(a),F(d.getAttribs(c),function(e){d.setAttrib(b,e.nodeName,d.getAttrib(c,e.nodeName))}),d.replace(b,c,1)),b||c},findCommonAncestor:function(c,a){for(var d=c,b;d;){for(b=a;b&&d!=b;){b=b.parentNode}if(d==b){break}d=d.parentNode}return !d&&c.ownerDocument?c.ownerDocument.documentElement:d},toHex:function(a){return this.styles.toHex(N.trim(a))},run:function(d,b,f){var c=this,a;return"string"==typeof d&&(d=c.get(d)),d?(f=f||this,d.nodeType||!d.length&&0!==d.length?b.call(f,d):(a=[],F(d,function(g,h){g&&("string"==typeof g&&(g=c.get(g)),a.push(b.call(f,g,h)))}),a)):!1},getAttribs:function(b){var a;if(b=this.get(b),!b){return[]}if(O){if(a=[],"OBJECT"==b.nodeName){return b.attributes}"OPTION"===b.nodeName&&this.getAttrib(b,"selected")&&a.push({specified:1,nodeName:"selected"});var c=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return b.cloneNode(!1).outerHTML.replace(c,"").replace(/[\w:\-]+/gi,function(d){a.push({specified:1,nodeName:d})}),a}return b.attributes},isEmpty:function(h,p){var d=this,b,g,o,u,f,m=0;if(h=h.firstChild){u=new D(h,h.parentNode),p=p||(d.schema?d.schema.getNonEmptyElements():null);do{if(o=h.nodeType,1===o){if(h.getAttribute("data-mce-bogus")){continue}if(f=h.nodeName.toLowerCase(),p&&p[f]){if("br"===f){m++;continue}return !1}for(g=d.getAttribs(h),b=g.length;b--;){if(f=g[b].nodeName,"name"===f||"data-mce-bookmark"===f){return !1}}}if(8==o){return !1}if(3===o&&!k.test(h.nodeValue)){return !1}}while(h=u.next())}return 1>=m},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new P(this)},nodeIndex:I,split:function(h,p,d){function b(v){function l(o){var a=o.previousSibling&&"SPAN"==o.previousSibling.nodeName,s=o.nextSibling&&"SPAN"==o.nextSibling.nodeName;return a&&s}var y,x=v.childNodes,i=v.nodeType;if(1!=i||"bookmark"!=v.getAttribute("data-mce-type")){for(y=x.length-1;y>=0;y--){b(x[y])}if(9!=i){if(3==i&&v.nodeValue.length>0){var r=j(v.nodeValue).length;if(!g.isBlock(v.parentNode)||r>0||0===r&&l(v)){return}}else{if(1==i&&(x=v.childNodes,1==x.length&&x[0]&&1==x[0].nodeType&&"bookmark"==x[0].getAttribute("data-mce-type")&&v.parentNode.insertBefore(x[0],v),x.length||/^(br|hr|input|img)$/i.test(v.nodeName))){return}}g.remove(v)}return v}}var g=this,c=g.createRng(),m,u,f;return h&&p?(c.setStart(h.parentNode,g.nodeIndex(h)),c.setEnd(p.parentNode,g.nodeIndex(p)),m=c.extractContents(),c=g.createRng(),c.setStart(p.parentNode,g.nodeIndex(p)+1),c.setEnd(h.parentNode,g.nodeIndex(h)+1),u=c.extractContents(),f=h.parentNode,f.insertBefore(b(m),h),d?f.insertBefore(d,h):f.insertBefore(p,h),f.insertBefore(b(u),h),g.remove(h),d||p):void 0},bind:function(d,b,g,c){var a=this;if(N.isArray(d)){for(var f=d.length;f--;){d[f]=a.bind(d[f],b,g,c)}return d}return !a.settings.collect||d!==a.doc&&d!==a.win||a.boundEvents.push([d,b,g,c]),a.events.bind(d,b,g,c||a)},unbind:function(d,b,g){var c=this,a;if(N.isArray(d)){for(a=d.length;a--;){d[a]=c.unbind(d[a],b,g)}return d}if(c.boundEvents&&(d===c.doc||d===c.win)){for(a=c.boundEvents.length;a--;){var f=c.boundEvents[a];d!=f[0]||b&&b!=f[1]||g&&g!=f[2]||this.events.unbind(f[0],f[1],f[2])}}return this.events.unbind(d,b,g)},fire:function(b,a,c){return this.events.fire(b,a,c)},getContentEditable:function(b){var a;return b&&1==b.nodeType?(a=b.getAttribute("data-mce-contenteditable"),a&&"inherit"!==a?a:"inherit"!==b.contentEditable?b.contentEditable:null):null},getContentEditableParent:function(b){for(var a=this.getRoot(),c=null;b&&b!==a&&(c=this.getContentEditable(b),null===c);b=b.parentNode){}return c},destroy:function(){var a=this;if(a.boundEvents){for(var c=a.boundEvents.length;c--;){var b=a.boundEvents[c];this.events.unbind(b[0],b[1],b[2])}a.boundEvents=null}L.setDocument&&L.setDocument(),a.win=a.doc=a.root=a.events=a.frag=null},isChildOf:function(b,a){for(;b;){if(a===b){return !0}b=b.parentNode}return !1},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(d,b,f){var c=this,a=b;if(d){for("string"==typeof a&&(a=function(g){return c.is(g,b)}),d=d[f];d;d=d[f]){if(a(d)){return d}}}return null}},B.DOM=new B(document),B.nodeIndex=I,B}),bx(cd,[bq,bE],function(d,b){function g(){function o(y,A){function w(){u.remove(h),x&&(x.onreadystatechange=x.onload=x=null),A()}function z(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+y)}var u=c,x,h;h=u.uniqueId(),x=document.createElement("script"),x.id=h,x.type="text/javascript",x.src=b._addCacheSuffix(y),"onreadystatechange" in x?x.onreadystatechange=function(){/loaded|complete/.test(x.readyState)&&w()}:x.onload=w,x.onerror=z,(document.getElementsByTagName("head")[0]||document.body).appendChild(x)}var i=0,r=1,v=2,j={},q=[],t={},p=[],m=0,k;this.isDone=function(h){return j[h]==v},this.markDone=function(h){j[h]=v},this.add=this.load=function(s,l,n){var h=j[s];h==k&&(q.push(s),j[s]=i),l&&(t[s]||(t[s]=[]),t[s].push({func:l,scope:n||this}))},this.remove=function(h){delete j[h],delete t[h]},this.loadQueue=function(l,h){this.loadScripts(q,l,h)},this.loadScripts=function(e,u,h){function s(n){a(t[n],function(w){w.func.call(w.scope)}),t[n]=k}var l;p.push({func:u,scope:h||this}),(l=function(){var w=f(e);e.length=0,a(w,function(n){return j[n]==v?void s(n):void (j[n]!=r&&(j[n]=r,m++,o(n,function(){j[n]=v,m--,s(n),l()})))}),m||(a(p,function(n){n.func.call(n.scope)}),p.length=0)})()}}var c=d.DOM,a=b.each,f=b.grep;return g.ScriptLoader=new g,g}),bx(cp,[cd,bE],function(c,d){function b(){var f=this;f.items=[],f.urls={},f.lookup={}}var a=d.each;return b.prototype={get:function(f){return this.lookup[f]?this.lookup[f].instance:bv},dependencies:function(g){var f;return this.lookup[g]&&(f=this.lookup[g].dependencies),f||[]},requireLangPack:function(f,g){var e=b.language;if(e&&b.languageLoad!==!1){if(g){if(g=","+g+",",-1!=g.indexOf(","+e.substr(0,2)+",")){e=e.substr(0,2)}else{if(-1==g.indexOf(","+e+",")){return}}}c.ScriptLoader.add(this.urls[f]+"/langs/"+e+".js")}},add:function(g,f,h){return this.items.push(f),this.lookup[g]={instance:f,dependencies:h},f},remove:function(f){delete this.urls[f],delete this.lookup[f]},createUrl:function(g,f){return"object"==typeof f?f:{prefix:g.prefix,resource:f,suffix:g.suffix}},addComponents:function(e,g){var f=this.urls[e];a(g,function(h){c.ScriptLoader.add(f+"/"+h)})},load:function(k,i,f,h){function e(){var l=j.dependencies(k);a(l,function(m){var o=j.createUrl(i,m);j.load(o.resource,o,bv,bv)}),f&&(h?f.call(h):f.call(c))}var j=this,g=i;j.urls[k]||("object"==typeof i&&(g=i.prefix+i.resource+i.suffix),0!==g.indexOf("/")&&-1==g.indexOf("://")&&(g=b.baseURL+"/"+g),j.urls[k]=g.substring(0,g.lastIndexOf("/")),j.lookup[k]?e():c.ScriptLoader.add(g,e,h))}},b.PluginManager=new b,b.ThemeManager=new b,b}),bx(bU,[],function(){function h(a){return function(e){return !!e&&e.nodeType==a}}function d(a){return a=a.toLowerCase().split(" "),function(e){var l,i;if(e&&e.nodeType){for(i=e.nodeName.toLowerCase(),l=0;l<a.length;l++){if(i===a[l]){return !0}}}return !1}}function k(i,a){return a=a.toLowerCase().split(" "),function(m){var l,e;if(f(m)){for(l=0;l<a.length;l++){if(e=getComputedStyle(m,null).getPropertyValue(i),e===a[l]){return !0}}}return !1}}function g(i,a){return function(e){return f(e)&&e[i]===a}}function c(i,a){return function(e){return f(e)&&e.getAttribute(i)===a}}function j(a){return f(a)&&a.hasAttribute("data-mce-bogus")}function b(a){return function(e){if(f(e)){if(e.contentEditable===a){return !0}if(e.getAttribute("data-mce-contenteditable")===a){return !0}}return !1}}var f=h(1);return{isText:h(3),isElement:f,isComment:h(8),isBr:d("br"),isContentEditableTrue:b("true"),isContentEditableFalse:b("false"),matchNodeNames:d,hasPropValue:g,hasAttributeValue:c,matchStyleValues:k,isBogus:j}}),bx(b6,[],function(){function b(d){return d==c}function a(d){return d.replace(new RegExp(c,"g"),"")}var c="\u200b";return{isZwsp:b,ZWSP:c,trim:a}}),bx(bG,[bU,b6],function(k,w){function g(a){return m(a)&&(a=a.parentNode),v(a)&&a.hasAttribute("data-mce-caret")}function b(a){return m(a)&&w.isZwsp(a.data)}function j(a){return g(a)||b(a)}function f(l,u){var i,t,c,d;if(i=l.ownerDocument,c=i.createTextNode(w.ZWSP),d=l.parentNode,u){if(t=l.previousSibling,m(t)){if(j(t)){return t}if(p(t)){return t.splitText(t.data.length-1)}}d.insertBefore(c,l)}else{if(t=l.nextSibling,m(t)){if(j(t)){return t}if(h(t)){return t.splitText(1),t}}l.nextSibling?d.insertBefore(c,l.nextSibling):d.appendChild(c)}return c}function q(l,c,u){var d,a,s;return d=c.ownerDocument,a=d.createElement(l),a.setAttribute("data-mce-caret",u?"before":"after"),a.setAttribute("data-mce-bogus","all"),a.appendChild(d.createTextNode("\xa0")),s=c.parentNode,u?s.insertBefore(a,c):c.nextSibling?s.insertBefore(a,c.nextSibling):s.appendChild(a),a}function x(a){var c;v(a)&&j(a)&&("&nbsp;"!=a.innerHTML?a.removeAttribute("data-mce-caret"):a.parentNode&&a.parentNode.removeChild(a)),m(a)&&(c=w.trim(a.data),0===c.length&&a.parentNode&&a.parentNode.removeChild(a),a.nodeValue=c)}function h(a){return m(a)&&a.data[0]==w.ZWSP}function p(a){return m(a)&&a.data[a.data.length-1]==w.ZWSP}var v=k.isElement,m=k.isText;return{isCaretContainer:j,isCaretContainerBlock:g,isCaretContainerInline:b,insertInline:f,insertBlock:q,remove:x,startsWithCaretContainer:h,endsWithCaretContainer:p}}),bx(b4,[bE,bn,bU,bR,bG],function(j,q,f,b,h){function d(c,a){var i=c.childNodes;return a--,a>i.length-1?a=i.length-1:0>a&&(a=0),i[a]||c}function m(a){this.walk=function(J,o){function e(i){var c;return c=i[0],3===c.nodeType&&c===D&&I>=c.nodeValue.length&&i.splice(0,1),c=i[i.length-1],0===B&&i.length>0&&c===C&&3===c.nodeType&&i.splice(i.length-1,1),i}function x(s,c,u){for(var i=[];s&&s!=u;s=s[c]){i.push(s)}return i}function G(i,c){do{if(i.parentNode==c){return i}i=i.parentNode}while(i)}function K(n,i,r){var c=r?"nextSibling":"previousSibling";for(A=n,H=A.parentNode;A&&A!=i;A=H){H=A.parentNode,F=x(A==n?A:A[c],c),F.length&&(r||F.reverse(),o(e(F)))}}var D=J.startContainer,I=J.startOffset,C=J.endContainer,B=J.endOffset,z,l,w,A,H,F,E;if(E=a.select("td[data-mce-selected],th[data-mce-selected]"),E.length>0){return void g(E,function(c){o([c])})}if(1==D.nodeType&&D.hasChildNodes()&&(D=D.childNodes[I]),1==C.nodeType&&C.hasChildNodes()&&(C=d(C,B)),D==C){return o(e([D]))}for(z=a.findCommonAncestor(D,C),A=D;A;A=A.parentNode){if(A===C){return K(D,z,!0)}if(A===z){break}}for(A=C;A;A=A.parentNode){if(A===D){return K(C,z)}if(A===z){break}}l=G(D,z)||D,w=G(C,z)||C,K(D,l,!0),F=x(l==D?l:l.nextSibling,"nextSibling",w==C?w.nextSibling:w),F.length&&o(e(F)),K(C,w)},this.split=function(u){function l(n,i){return n.splitText(i)}var x=u.startContainer,s=u.startOffset,c=u.endContainer,w=u.endOffset;return x==c&&3==x.nodeType?s>0&&s<x.nodeValue.length&&(c=l(x,s),x=c.previousSibling,w>s?(w-=s,x=c=l(c,w).previousSibling,w=c.nodeValue.length,s=0):w=0):(3==x.nodeType&&s>0&&s<x.nodeValue.length&&(x=l(x,s),s=0),3==c.nodeType&&w>0&&w<c.nodeValue.length&&(c=l(c,w).previousSibling,w=c.nodeValue.length)),{startContainer:x,startOffset:s,endContainer:c,endOffset:w}},this.normalize=function(s){function e(i){function E(r){return r&&/^(TD|TH|CAPTION)$/.test(r.nodeName)}function G(H,C){for(var y=new q(H,a.getParent(H.parentNode,a.isBlock)||x);H=y[C?"prev":"next"]();){if("BR"===H.nodeName){return !0}}}function u(r){for(;r&&r!=x;){if(k(r)){return !0}r=r.parentNode}return !1}function A(y,r){return y.previousSibling&&y.previousSibling.nodeName==r}function z(J,I){var C,H,y;if(I=I||w,y=a.getParent(I.parentNode,a.isBlock)||x,J&&"BR"==I.nodeName&&n&&a.isEmpty(y)){return w=I.parentNode,o=a.nodeIndex(I),void (c=!0)}for(C=new q(I,y);F=C[J?"prev":"next"]();){if("false"===a.getContentEditableParent(F)||p(F)){return}if(3===F.nodeType&&F.nodeValue.length>0){return w=F,o=J?F.nodeValue.length:0,void (c=!0)}if(a.isBlock(F)||D[F.nodeName.toLowerCase()]){return}H=F}l&&H&&(w=H,c=!0,o=0)}var w,o,t,x=a.getRoot(),F,D,B,n;if(w=s[(i?"start":"end")+"Container"],o=s[(i?"start":"end")+"Offset"],n=1==w.nodeType&&o===w.childNodes.length,D=a.schema.getNonEmptyElements(),B=i,!p(w)){if(1==w.nodeType&&o>w.childNodes.length-1&&(B=!1),9===w.nodeType&&(w=a.getRoot(),o=0),w===x){if(B&&(F=w.childNodes[o>0?o-1:0])){if(p(F)){return}if(D[F.nodeName]||"TABLE"==F.nodeName){return}}if(w.hasChildNodes()){if(o=Math.min(!B&&o>0?o-1:o,w.childNodes.length-1),w=w.childNodes[o],o=0,!l&&w===x.lastChild&&"TABLE"===w.nodeName){return}if(u(w)||p(w)){return}if(w.hasChildNodes()&&!/TABLE/.test(w.nodeName)){F=w,t=new q(w,x);do{if(k(F)||p(F)){c=!1;break}if(3===F.nodeType&&F.nodeValue.length>0){o=B?0:F.nodeValue.length,w=F,c=!0;break}if(D[F.nodeName.toLowerCase()]&&!E(F)){o=a.nodeIndex(F),w=F.parentNode,"IMG"!=F.nodeName||B||o++,c=!0;break}}while(F=B?t.next():t.prev())}}}l&&(3===w.nodeType&&0===o&&z(!0),1===w.nodeType&&(F=w.childNodes[o],F||(F=w.childNodes[o-1]),!F||"BR"!==F.nodeName||A(F,"A")||G(F)||G(F,!0)||z(!0,F))),B&&!l&&3===w.nodeType&&o===w.nodeValue.length&&z(!1),c&&s["set"+(i?"Start":"End")](w,o)}}var c,l;return l=s.collapsed,e(!0),l||e(),c&&l&&s.collapse(!0),c}}function v(l,y,w){var e,x,c;if(e=w.elementFromPoint(l,y),x=w.body.createTextRange(),e&&"HTML"!=e.tagName||(e=w.body),x.moveToElementText(e),c=j.toArray(x.getClientRects()),c=c.sort(function(i,a){return i=Math.abs(Math.max(i.top-y,i.bottom-y)),a=Math.abs(Math.max(a.top-y,a.bottom-y)),i-a}),c.length>0){y=(c[0].bottom+c[0].top)/2;try{return x.moveToPoint(l,y),x.collapse(!0),x}catch(u){}}return null}var g=j.each,k=f.isContentEditableFalse,p=h.isCaretContainer;return m.compareRanges=function(c,a){if(c&&a){if(!c.item&&!c.duplicate){return c.startContainer==a.startContainer&&c.startOffset==a.startOffset}if(c.item&&a.item&&c.item(0)===a.item(0)){return !0}if(c.isEqual&&a.isEqual&&a.isEqual(c)){return !0}}return !1},m.getCaretRangeFromPoint=function(s,c,w){var l,a;if(w.caretPositionFromPoint){a=w.caretPositionFromPoint(s,c),l=w.createRange(),l.setStart(a.offsetNode,a.offset),l.collapse(!0)}else{if(w.caretRangeFromPoint){l=w.caretRangeFromPoint(s,c)}else{if(w.body.createTextRange){l=w.body.createTextRange();try{l.moveToPoint(s,c),l.collapse(!0)}catch(u){l=v(s,c,w)}}}}return l},m.getSelectedNode=function(c){var a=c.startContainer,i=c.startOffset;return a.hasChildNodes()&&c.endOffset==i+1?a.childNodes[i]:null},m.getNode=function(c,a){return 1==c.nodeType&&c.hasChildNodes()&&(a>=c.childNodes.length&&(a=c.childNodes.length-1),c=c.childNodes[a]),c},m}),bx(b7,[b4,bP,bs],function(b,a,c){return function(f){function e(i){var h,j;if(j=f.$(i).parentsUntil(f.getBody()).add(i),j.length===d.length){for(h=j.length;h>=0&&j[h]===d[h];h--){}if(-1===h){return d=j,!0}}return d=j,!1}var g,d=[];"onselectionchange" in f.getDoc()||f.on("NodeChange Click MouseUp KeyUp Focus",function(j){var k,h;k=f.selection.getRng(),h={startContainer:k.startContainer,startOffset:k.startOffset,endContainer:k.endContainer,endOffset:k.endOffset},"nodechange"!=j.type&&b.compareRanges(h,g)||f.fire("SelectionChange"),g=h}),f.on("contextmenu",function(){f.fire("SelectionChange")}),f.on("SelectionChange",function(){var h=f.selection.getStart(!0);!a.range&&f.selection.isCollapsed()||!e(h)&&f.dom.isChildOf(h,f.getBody())&&f.nodeChanged({selectionChange:!0})}),f.on("MouseUp",function(h){h.isDefaultPrevented()||("IMG"==f.selection.getNode().nodeName?c.setEditorTimeout(f,function(){f.nodeChanged()}):f.nodeChanged())}),this.nodeChanged=function(k){var j=f.selection,m,h,l;f.initialized&&j&&!f.settings.disable_nodechange&&!f.readonly&&(l=f.getBody(),m=j.getStart()||l,m.ownerDocument==f.getDoc()&&f.dom.isChildOf(m,l)||(m=l),"IMG"==m.nodeName&&j.isCollapsed()&&(m=m.parentNode),h=[],f.dom.getParent(m,function(i){return i===l?!0:void h.push(i)}),k=k||{},k.element=m,k.parents=h,f.fire("NodeChange",k))}}}),bx(cx,[],function(){function c(k,h,m){var j,g,l=m?"lastChild":"firstChild",f=m?"prev":"next";if(k[l]){return k[l]}if(k!==h){if(j=k[f]){return j}for(g=k.parent;g&&g!==h;g=g.parent){if(j=g[f]){return j}}}}function a(g,f){this.name=g,this.type=f,1===f&&(this.attributes=[],this.attributes.map={})}var d=/^[ \t\r\n]*$/,b={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return a.prototype={replace:function(g){var f=this;return g.parent&&g.remove(),f.insert(g,f),f.remove(),f},attr:function(j,g){var l=this,h,f,k;if("string"!=typeof j){for(f in j){l.attr(f,j[f])}return l}if(h=l.attributes){if(g!==k){if(null===g){if(j in h.map){for(delete h.map[j],f=h.length;f--;){if(h[f].name===j){return h=h.splice(f,1),l}}}return l}if(j in h.map){for(f=h.length;f--;){if(h[f].name===j){h[f].value=g;break}}}else{h.push({name:j,value:g})}return h.map[j]=g,l}return h.map[j]}},clone:function(){var k=this,m=new a(k.name,k.type),j,g,l,f,h;if(l=k.attributes){for(h=[],h.map={},j=0,g=l.length;g>j;j++){f=l[j],"id"!==f.name&&(h[h.length]={name:f.name,value:f.value},h.map[f.name]=f.value)}m.attributes=h}return m.value=k.value,m.shortEnded=k.shortEnded,m},wrap:function(g){var f=this;return f.parent.insert(g,f),g.append(f),f},unwrap:function(){var g=this,f,h;for(f=g.firstChild;f;){h=f.next,g.insert(f,g,!0),f=h}g.remove()},remove:function(){var h=this,f=h.parent,i=h.next,g=h.prev;return f&&(f.firstChild===h?(f.firstChild=i,i&&(i.prev=null)):g.next=i,f.lastChild===h?(f.lastChild=g,g&&(g.next=null)):i.prev=g,h.parent=h.next=h.prev=null),h},append:function(g){var f=this,h;return g.parent&&g.remove(),h=f.lastChild,h?(h.next=g,g.prev=h,f.lastChild=g):f.lastChild=f.firstChild=g,g.parent=f,g},insert:function(h,f,i){var g;return h.parent&&h.remove(),g=f.parent||this,i?(f===g.firstChild?g.firstChild=h:f.prev.next=h,h.prev=f.prev,h.next=f,f.prev=h):(f===g.lastChild?g.lastChild=h:f.next.prev=h,h.next=f.next,h.prev=f,f.next=h),h.parent=g,h},getAll:function(f){var h=this,g,e=[];for(g=h.firstChild;g;g=c(g,h)){g.name===f&&e.push(g)}return e},empty:function(){var f=this,h,g,e;if(f.firstChild){for(h=[],e=f.firstChild;e;e=c(e,f)){h.push(e)}for(g=h.length;g--;){e=h[g],e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return f.firstChild=f.lastChild=null,f},isEmpty:function(g){var h=this,f=h.firstChild,j,e;if(f){do{if(1===f.type){if(f.attributes.map["data-mce-bogus"]){continue}if(g[f.name]){return !1}for(j=f.attributes.length;j--;){if(e=f.attributes[j].name,"name"===e||0===e.indexOf("data-mce-bookmark")){return !1}}}if(8===f.type){return !1}if(3===f.type&&!d.test(f.value)){return !1}}while(f=c(f,h))}return !0},walk:function(e){return c(this,null,e)}},a.create=function(g,j){var f,h;if(f=new a(g,b[g]||1),j){for(h in j){f.attr(h,j[h])}}return f},a}),bx(cv,[bE],function(j){function q(c,a){return c?c.split(a||" "):[]}function f(x){function o(E,H,D){function l(J,u){var K={},I,c;for(I=0,c=J.length;c>I;I++){K[J[I]]=u||{}}return K}var C,G,a,F=arguments;for(D=D||[],H=H||"","string"==typeof D&&(D=q(D)),G=3;G<F.length;G++){"string"==typeof F[G]&&(F[G]=q(F[G])),D.push.apply(D,F[G])}for(E=q(E),C=E.length;C--;){a=[].concat(s,q(H)),A[E[C]]={attributes:l(a),attributesOrder:a,children:l(D,d)}}}function i(u,D){var l,a,C,c;for(u=q(u),l=u.length,D=q(D);l--;){for(a=A[u[l]],C=0,c=D.length;c>C;C++){a.attributes[D[C]]={},a.attributesOrder.push(D[C])}}}var A={},s,z,B,y,w,t;return h[x]?h[x]:(s=q("id accesskey class dir lang style tabindex title"),z=q("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),B=q("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=x&&(s.push.apply(s,q("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),z.push.apply(z,q("article aside details dialog figure header footer hgroup section nav")),B.push.apply(B,q("audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"))),"html5-strict"!=x&&(s.push("xml:lang"),t=q("acronym applet basefont big font strike tt"),B.push.apply(B,t),v(t,function(a){o(a,"",B)}),w=q("center dir isindex noframes"),z.push.apply(z,w),y=[].concat(z,B),v(w,function(a){o(a,"",y)})),y=y||[].concat(z,B),o("html","manifest","head body"),o("head","","base command link meta noscript script style title"),o("title hr noscript br"),o("base","href target"),o("link","href rel media hreflang type sizes hreflang"),o("meta","name http-equiv content charset"),o("style","media type scoped"),o("script","src async defer type charset"),o("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",y),o("address dt dd div caption","",y),o("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",B),o("blockquote","cite",y),o("ol","reversed start type","li"),o("ul","","li"),o("li","value",y),o("dl","","dt dd"),o("a","href target rel media hreflang type",B),o("q","cite",B),o("ins del","cite datetime",y),o("img","src sizes srcset alt usemap ismap width height"),o("iframe","src name width height",y),o("embed","src type width height"),o("object","data type typemustmatch name usemap form width height",y,"param"),o("param","name value"),o("map","name",y,"area"),o("area","alt coords shape href target rel media hreflang type"),o("table","border","caption colgroup thead tfoot tbody tr"+("html4"==x?" col":"")),o("colgroup","span","col"),o("col","span"),o("tbody thead tfoot","","tr"),o("tr","","td th"),o("td","colspan rowspan headers",y),o("th","colspan rowspan headers scope abbr",y),o("form","accept-charset action autocomplete enctype method name novalidate target",y),o("fieldset","disabled form name",y,"legend"),o("label","form for",B),o("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),o("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==x?y:B),o("select","disabled form multiple name required size","option optgroup"),o("optgroup","disabled label","option"),o("option","disabled label selected value"),o("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),o("menu","type label",y,"li"),o("noscript","",y),"html4"!=x&&(o("wbr"),o("ruby","",B,"rt rp"),o("figcaption","",y),o("mark rt rp summary bdi","",B),o("canvas","width height",y),o("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",y,"track source"),o("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",y,"track source"),o("picture","","img source"),o("source","src srcset type media sizes"),o("track","kind src srclang label default"),o("datalist","",B,"option"),o("article section nav aside header footer","",y),o("hgroup","","h1 h2 h3 h4 h5 h6"),o("figure","",y,"figcaption"),o("time","datetime",B),o("dialog","open",y),o("command","type label icon disabled checked radiogroup command"),o("output","for form name",B),o("progress","value max",B),o("meter","value min max low high optimum",B),o("details","open",y,"summary"),o("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=x&&(i("script","language xml:space"),i("style","xml:space"),i("object","declare classid code codebase codetype archive standby align border hspace vspace"),i("embed","align name hspace vspace"),i("param","valuetype type"),i("a","charset name rev shape coords"),i("br","clear"),i("applet","codebase archive code object alt name width height align hspace vspace"),i("img","name longdesc align border hspace vspace"),i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),i("font basefont","size color face"),i("input","usemap align"),i("select","onchange"),i("textarea"),i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),i("ul","type compact"),i("li","type"),i("ol dl menu dir","compact"),i("pre","width xml:space"),i("hr","align noshade size width"),i("isindex","prompt"),i("table","summary width frame rules cellspacing cellpadding align bgcolor"),i("col","width align char charoff valign"),i("colgroup","width align char charoff valign"),i("thead","align char charoff valign"),i("tr","align char charoff valign bgcolor"),i("th","axis align char charoff valign nowrap bgcolor width height"),i("form","accept"),i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),i("tfoot","align char charoff valign"),i("tbody","align char charoff valign"),i("area","nohref"),i("body","background bgcolor text link vlink alink")),"html4"!=x&&(i("input button select textarea","autofocus"),i("input textarea","placeholder"),i("a","download"),i("link script img","crossorigin"),i("iframe","sandbox seamless allowfullscreen")),v(q("a form meter progress dfn"),function(a){A[a]&&delete A[a].children[a]}),delete A.caption.children.table,delete A.script,h[x]=A,A)}function b(c,a){var i;return c&&(i={},"string"==typeof c&&(c={"*":c}),v(c,function(n,l){i[l]=i[l.toUpperCase()]="map"==a?m(n,/[, ]/):k(n,/[, ]/)})),i}var h={},d={},m=j.makeMap,v=j.each,g=j.extend,k=j.explode,p=j.inArray;return function(Z){function Q(e,y,w){var x=Z[e];return x?x=m(x,/[, ]/,m(x.toUpperCase(),/[, ]/)):(x=h[e],x||(x=m(y," ",m(y.toUpperCase()," ")),x=g(x,w),h[e]=x)),x}function ae(o){return new RegExp("^"+o.replace(/([?+*])/g,".$1")+"$")}function Y(cZ){var ct,R,cV,ce,P,cT,c0,cY,cW,bt,cS,cX,L,c1,C,D,B,M,c2,A=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,cU=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,y=/[*?+]/;if(cZ){for(cZ=q(cZ,","),t["@"]&&(D=t["@"].attributes,B=t["@"].attributesOrder),ct=0,R=cZ.length;R>ct;ct++){if(P=A.exec(cZ[ct])){if(c1=P[1],cW=P[2],C=P[3],cY=P[5],cX={},L=[],cT={attributes:cX,attributesOrder:L},"#"===c1&&(cT.paddEmpty=!0),"-"===c1&&(cT.removeEmpty=!0),"!"===P[4]&&(cT.removeEmptyAttrs=!0),D){for(M in D){cX[M]=D[M]}L.push.apply(L,B)}if(cY){for(cY=q(cY,"|"),cV=0,ce=cY.length;ce>cV;cV++){if(P=cU.exec(cY[cV])){if(c0={},cS=P[1],bt=P[2].replace(/::/g,":"),c1=P[3],c2=P[4],"!"===cS&&(cT.attributesRequired=cT.attributesRequired||[],cT.attributesRequired.push(bt),c0.required=!0),"-"===cS){delete cX[bt],L.splice(p(L,bt),1);continue}c1&&("="===c1&&(cT.attributesDefault=cT.attributesDefault||[],cT.attributesDefault.push({name:bt,value:c2}),c0.defaultValue=c2),":"===c1&&(cT.attributesForced=cT.attributesForced||[],cT.attributesForced.push({name:bt,value:c2}),c0.forcedValue=c2),"<"===c1&&(c0.validValues=m(c2,"?"))),y.test(bt)?(cT.attributePatterns=cT.attributePatterns||[],c0.pattern=ae(bt),cT.attributePatterns.push(c0)):(cX[bt]||L.push(bt),cX[bt]=c0)}}}D||"@"!=cW||(D=cX,B=L),C&&(cT.outputName=cW,t[C]=cT),y.test(cW)?(cT.pattern=ae(cW),I.push(cT)):t[cW]=cT}}}}function W(o){t={},I=[],Y(o),v(n,function(x,w){at[w]=x.children})}function O(o){var w=/^(~)?(.+)$/;o&&(h.text_block_elements=h.block_elements=null,v(q(o,","),function(C){var A=w.exec(C),B="~"===A[1],y=B?"span":"div",D=A[2];if(at[D]=at[y],r[D]=y,B||(i[D.toUpperCase()]={},i[D]={}),!t[D]){var x=t[y];x=g({},x),delete x.removeEmptyAttrs,delete x.removeEmpty,t[D]=x}v(at,function(L,E){L[y]&&(at[E]=L=g({},at[E]),L[D]=L[y])})}))}function U(o){var e=/^([+\-]?)(\w+)\[([^\]]+)\]$/;h[Z.schema]=null,o&&v(q(o,","),function(x){var A=e.exec(x),w,y;A&&(y=A[1],w=y?at[A[2]]:at[A[2]]={"#comment":{}},w=at[A[2]],v(q(A[3],"|"),function(B){"-"===y?delete w[B]:w[B]={}}))})}function X(w){var o=t[w],x;if(o){return o}for(x=I.length;x--;){if(o=I[x],o.pattern.test(w)){return o}}}var F=this,t={},at={},I=[],u,z,n,G,be,c,V,a,i,K,J,H,s,r={},l={};Z=Z||{},n=f(Z.schema),Z.verify_html===!1&&(Z.valid_elements="*[*]"),u=b(Z.valid_styles),z=b(Z.invalid_styles,"map"),a=b(Z.valid_classes,"map"),G=Q("whitespace_elements","pre script noscript style textarea video audio iframe object"),be=Q("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),c=Q("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),V=Q("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),K=Q("non_empty_elements","td th iframe video audio object script",c),J=Q("move_caret_before_on_enter_elements","table",K),H=Q("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),i=Q("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",H),s=Q("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),v((Z.special||"script noscript style textarea").split(" "),function(o){l[o]=new RegExp("</"+o+"[^>]*>","gi")}),Z.valid_elements?W(Z.valid_elements):(v(n,function(w,o){t[o]={attributes:w.attributes,attributesOrder:w.attributesOrder},at[o]=w.children}),"html5"!=Z.schema&&v(q("strong/b em/i"),function(o){o=q(o,"/"),t[o[1]].outputName=o[0]}),v(q("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(o){t[o]&&(t[o].removeEmpty=!0)}),v(q("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(o){t[o].paddEmpty=!0}),v(q("span"),function(o){t[o].removeEmptyAttrs=!0})),O(Z.custom_elements),U(Z.valid_children),Y(Z.extended_valid_elements),U("+ol[ul|ol],+ul[ul|ol]"),Z.invalid_elements&&v(k(Z.invalid_elements),function(o){t[o]&&delete t[o]}),X("span")||Y("span[!data-mce-type|*]"),F.children=at,F.getValidStyles=function(){return u},F.getInvalidStyles=function(){return z},F.getValidClasses=function(){return a},F.getBoolAttrs=function(){return V},F.getBlockElements=function(){return i},F.getTextBlockElements=function(){return H},F.getTextInlineElements=function(){return s},F.getShortEndedElements=function(){return c},F.getSelfClosingElements=function(){return be},F.getNonEmptyElements=function(){return K},F.getMoveCaretBeforeOnEnterElements=function(){return J},F.getWhiteSpaceElements=function(){return G},F.getSpecialElements=function(){return l},F.isValidChild=function(w,o){var x=at[w];return !(!x||!x[o])},F.isValid=function(y,w){var A,x,o=X(y);if(o){if(!w){return !0}if(o.attributes[w]){return !0}if(A=o.attributePatterns){for(x=A.length;x--;){if(A[x].pattern.test(y)){return !0}}}}return !1},F.getElementRule=X,F.getCustomElements=function(){return r},F.addValidElements=Y,F.setValidElements=W,F.addCustomElements=O,F.addValidChildren=U,F.elements=t}}),bx(cr,[cv,cu,bE],function(d,b,g){function c(p,k,u){var m=1,j,q,h,l;for(l=p.getShortEndedElements(),h=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,h.lastIndex=j=u;q=h.exec(k);){if(j=h.lastIndex,"/"===q[1]){m--}else{if(!q[1]){if(q[2] in l){continue}m++}}if(0===m){break}}return j}function a(j,h){function k(){}var e=this;j=j||{},e.schema=h=h||new d,j.fix_self_closing!==!1&&(j.fix_self_closing=!0),f("comment cdata text start end pi doctype".split(" "),function(i){i&&(e[i]=j[i]||k)}),e.parse=function(c9){function c2(m){var l,o;for(l=c6.length;l--&&c6[l].name!==m;){}if(l>=0){for(o=c6.length-1;o>=l;o--){m=c6[o],m.valid&&c4.end(m.name)}c6.length=l}}function c0(x,B,v,m,p){var z,C,w=/[\s\u0000-\u001F]+/g;if(B=B.toLowerCase(),v=B in cW?B:cU(v||m||p||""),Q&&!cV&&0!==B.indexOf("data-")){if(z=r[B],!z&&G){for(C=G.length;C--&&(z=G[C],!z.pattern.test(B));){}-1===C&&(z=null)}if(!z){return}if(z.validValues&&!(v in z.validValues)){return}}if(i[B]&&!j.allow_script_urls){var y=v.replace(w,"");try{y=decodeURIComponent(y)}catch(A){y=unescape(y)}if(n.test(y)){return}if(!j.allow_html_data_urls&&cT.test(y)&&!/^data:image\//i.test(y)){return}}c1.map[B]=v,c1.push({name:B,value:v})}var c4=this,db,cZ=0,da,c8,c6=[],c1,c3,c7,cY,cV,dc,ce,cW,cX,Q,be,dd,t,c5,r,G,cS,ct,bt,Y,X,J,ae,K,Z,at=0,cU=b.decode,q,i=g.makeMap("src,href,data,background,formaction,poster"),n=/((java|vb)script|mhtml):/i,cT=/^data:/i;for(J=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),ae=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,ce=h.getShortEndedElements(),X=j.self_closing_elements||h.getSelfClosingElements(),cW=h.getBoolAttrs(),Q=j.validate,dc=j.remove_internals,q=j.fix_self_closing,K=h.getSpecialElements();db=J.exec(c9);){if(cZ<db.index&&c4.text(cU(c9.substr(cZ,db.index-cZ))),da=db[6]){da=da.toLowerCase(),":"===da.charAt(0)&&(da=da.substr(1)),c2(da)}else{if(da=db[7]){if(da=da.toLowerCase(),":"===da.charAt(0)&&(da=da.substr(1)),cX=da in ce,q&&X[da]&&c6.length>0&&c6[c6.length-1].name===da&&c2(da),!Q||(be=h.getElementRule(da))){if(dd=!0,Q&&(r=be.attributes,G=be.attributePatterns),(c5=db[8])?(cV=-1!==c5.indexOf("data-mce-type"),cV&&dc&&(dd=!1),c1=[],c1.map={},c5.replace(ae,c0)):(c1=[],c1.map={}),Q&&!cV){if(cS=be.attributesRequired,ct=be.attributesDefault,bt=be.attributesForced,Y=be.removeEmptyAttrs,Y&&!c1.length&&(dd=!1),bt){for(c3=bt.length;c3--;){t=bt[c3],cY=t.name,Z=t.value,"{$uid}"===Z&&(Z="mce_"+at++),c1.map[cY]=Z,c1.push({name:cY,value:Z})}}if(ct){for(c3=ct.length;c3--;){t=ct[c3],cY=t.name,cY in c1.map||(Z=t.value,"{$uid}"===Z&&(Z="mce_"+at++),c1.map[cY]=Z,c1.push({name:cY,value:Z}))}}if(cS){for(c3=cS.length;c3--&&!(cS[c3] in c1.map);){}-1===c3&&(dd=!1)}if(t=c1.map["data-mce-bogus"]){if("all"===t){cZ=c(h,c9,J.lastIndex),J.lastIndex=cZ;continue}dd=!1}}dd&&c4.start(da,c1,cX)}else{dd=!1}if(c8=K[da]){c8.lastIndex=cZ=db.index+db[0].length,(db=c8.exec(c9))?(dd&&(c7=c9.substr(cZ,db.index-cZ)),cZ=db.index+db[0].length):(c7=c9.substr(cZ),cZ=c9.length),dd&&(c7.length>0&&c4.text(c7,!0),c4.end(da)),J.lastIndex=cZ;continue}cX||(c5&&c5.indexOf("/")==c5.length-1?dd&&c4.end(da):c6.push({name:da,valid:dd}))}else{(da=db[1])?(">"===da.charAt(0)&&(da=" "+da),j.allow_conditional_comments||"[if"!==da.substr(0,3)||(da=" "+da),c4.comment(da)):(da=db[2])?c4.cdata(da):(da=db[3])?c4.doctype(da):(da=db[4])&&c4.pi(da,db[5])}}cZ=db.index+db[0].length}for(cZ<c9.length&&c4.text(cU(c9.substr(cZ))),c3=c6.length-1;c3>=0;c3--){da=c6[c3],da.valid&&c4.end(da.name)}}}var f=g.each;return a.findEndTag=c,a}),bx(cg,[cx,cv,cr,bE],function(h,d,k,g){var c=g.makeMap,j=g.each,b=g.explode,f=g.extend;return function(m,a){function s(J){var x,l,w,H,K,E,D,C,A,u,z,B,I,G,F;for(z=c("tr,td,th,tbody,thead,tfoot,table"),u=a.getNonEmptyElements(),B=a.getTextBlockElements(),I=a.getSpecialElements(),x=0;x<J.length;x++){if(l=J[x],l.parent&&!l.fixed){if(B[l.name]&&"li"==l.parent.name){for(G=l.next;G&&B[G.name];){G.name="li",G.fixed=!0,l.parent.insert(G,l.parent),G=G.next}l.unwrap(l)}else{for(H=[l],w=l.parent;w&&!a.isValidChild(w.name,l.name)&&!z[w.name];w=w.parent){H.push(w)}if(w&&H.length>1){for(H.reverse(),K=E=e.filterNode(H[0].clone()),A=0;A<H.length-1;A++){for(a.isValidChild(E.name,H[A].name)?(D=e.filterNode(H[A].clone()),E.append(D)):D=E,C=H[A].firstChild;C&&C!=H[A+1];){F=C.next,D.append(C),C=F}E=D}K.isEmpty(u)?w.insert(l,H[0],!0):(w.insert(K,H[0],!0),w.insert(l,K)),w=H[0],(w.isEmpty(u)||w.firstChild===w.lastChild&&"br"===w.firstChild.name)&&w.empty().remove()}else{if(l.parent){if("li"===l.name){if(G=l.prev,G&&("ul"===G.name||"ul"===G.name)){G.append(l);continue}if(G=l.next,G&&("ul"===G.name||"ul"===G.name)){G.insert(l,G.firstChild,!0);continue}l.wrap(e.filterNode(new h("ul",1)));continue}a.isValidChild(l.parent.name,"div")&&a.isValidChild("div",l.name)?l.wrap(e.filterNode(new h("div",1))):I[l.name]?l.empty().remove():l.unwrap()}}}}}}var e=this,q={},n=[],i={},o={};m=m||{},m.validate="validate" in m?m.validate:!0,m.root_name=m.root_name||"body",e.schema=a=a||new d,e.filterNode=function(u){var l,v,p;v in q&&(p=i[v],p?p.push(u):i[v]=[u]),l=n.length;for(;l--;){v=n[l].name,v in u.attributes.map&&(p=o[v],p?p.push(u):o[v]=[u])}return u},e.addNodeFilter=function(p,l){j(b(p),function(r){var t=q[r];t||(q[r]=t=[]),t.push(l)})},e.addAttributeFilter=function(p,l){j(b(p),function(r){var t;for(t=0;t<n.length;t++){if(n[t].name===r){return void n[t].callbacks.push(l)}}n.push({name:r,callbacks:[l]})})},e.parse=function(at,cS){function cX(){function w(t){t&&(v=t.firstChild,v&&3==v.type&&(v.value=v.value.replace(r,"")),v=t.lastChild,v&&3==v.type&&(v.value=v.value.replace(be,"")))}var v=Q.firstChild,x,u;if(a.isValidChild(Q.name,U.toLowerCase())){for(;v;){x=v.next,3==v.type||1==v.type&&"p"!==v.name&&!l[v.name]&&!v.attr("data-mce-type")?u?u.append(v):(u=Z(U,1),u.attr(m.forced_root_block_attrs),Q.insert(u,v),u.append(v)):(w(u),u=null),v=x}w(u)}}function Z(v,x){var w=new h(v,x),u;return v in q&&(u=i[v],u?u.push(w):i[v]=[w]),w}function cT(x){var v,A,w,u,y=a.getBlockElements();for(v=x.prev;v&&3===v.type;){if(w=v.value.replace(be,""),w.length>0){return void (v.value=w)}if(A=v.next){if(3==A.type&&A.value.length){v=v.prev;continue}if(!y[A.name]&&"script"!=A.name&&"style"!=A.name){v=v.prev;continue}}u=v.prev,v.remove(),v=u}}function cV(v){var u,w={};for(u in v){"li"!==u&&"p"!=u&&(w[u]=v[u])}return w}var Y,Q,cW,bt,V,X,G,ae,cY,p,cU,l,r,ct=[],ce,be,K,J,z,W,F,U;if(cS=cS||{},i={},o={},l=f(c("script,style,head,html,body,title,meta,param"),a.getBlockElements()),F=a.getNonEmptyElements(),W=a.children,cU=m.validate,U="forced_root_block" in cS?cS.forced_root_block:m.forced_root_block,z=a.getWhiteSpaceElements(),r=/^[ \t\r\n]+/,be=/[ \t\r\n]+$/,K=/[ \t\r\n]+/g,J=/^[ \t\r\n]+$/,Y=new k({validate:cU,allow_script_urls:m.allow_script_urls,allow_conditional_comments:m.allow_conditional_comments,self_closing_elements:cV(a.getSelfClosingElements()),cdata:function(t){cW.append(Z("#cdata",4)).value=t},text:function(v,u){var w;ce||(v=v.replace(K," "),cW.lastChild&&l[cW.lastChild.name]&&(v=v.replace(r,""))),0!==v.length&&(w=Z("#text",3),w.raw=!!u,cW.append(w).value=v)},comment:function(t){cW.append(Z("#comment",8)).value=t},pi:function(v,u){cW.append(Z(v,7)).value=u,cT(cW)},doctype:function(v){var u;u=cW.append(Z("#doctype",10)),u.value=v,cT(cW)},start:function(A,w,C){var y,v,B,u,x;if(B=cU?a.getElementRule(A):{}){for(y=Z(B.outputName||A,1),y.attributes=w,y.shortEnded=C,cW.append(y),x=W[cW.name],x&&W[y.name]&&!x[y.name]&&ct.push(y),v=n.length;v--;){u=n[v].name,u in w.map&&(cY=o[u],cY?cY.push(y):o[u]=[y])}l[A]&&cT(y),C||(cW=y),!ce&&z[A]&&(ce=!0)}},end:function(w){var A,x,v,y,u;if(x=cU?a.getElementRule(w):{}){if(l[w]&&!ce){if(A=cW.firstChild,A&&3===A.type){if(v=A.value.replace(r,""),v.length>0){A.value=v,A=A.next}else{for(y=A.next,A.remove(),A=y;A&&3===A.type;){v=A.value,y=A.next,(0===v.length||J.test(v))&&(A.remove(),A=y),A=y}}}if(A=cW.lastChild,A&&3===A.type){if(v=A.value.replace(be,""),v.length>0){A.value=v,A=A.prev}else{for(y=A.prev,A.remove(),A=y;A&&3===A.type;){v=A.value,y=A.prev,(0===v.length||J.test(v))&&(A.remove(),A=y),A=y}}}}if(ce&&z[w]&&(ce=!1),(x.removeEmpty||x.paddEmpty)&&cW.isEmpty(F)){if(x.paddEmpty){cW.empty().append(new h("#text","3")).value="\xa0"}else{if(!cW.attributes.map.name&&!cW.attributes.map.id){return u=cW.parent,l[cW.name]?cW.empty().remove():cW.unwrap(),void (cW=u)}}}cW=cW.parent}}},a),Q=cW=new h(cS.context||m.root_name,11),Y.parse(at),cU&&ct.length&&(cS.context?cS.invalid=!0:s(ct)),U&&("body"==Q.name||cS.isRootContent)&&cX(),!cS.invalid){for(p in i){for(cY=q[p],bt=i[p],G=bt.length;G--;){bt[G].parent||bt.splice(G,1)}for(V=0,X=cY.length;X>V;V++){cY[V](bt,p,cS)}}for(V=0,X=n.length;X>V;V++){if(cY=n[V],cY.name in o){for(bt=o[cY.name],G=bt.length;G--;){bt[G].parent||bt.splice(G,1)}for(G=0,ae=cY.callbacks.length;ae>G;G++){cY.callbacks[G](bt,cY.name,cS)}}}}return Q},m.remove_trailing_brs&&e.addNodeFilter("br",function(F){var x,l=F.length,y,w=f({},a.getBlockElements()),D=a.getNonEmptyElements(),C,E,B,A,z,v;for(w.body=1,x=0;l>x;x++){if(y=F[x],C=y.parent,w[y.parent.name]&&y===C.lastChild){for(B=y.prev;B;){if(A=B.name,"span"!==A||"bookmark"!==B.attr("data-mce-type")){if("br"!==A){break}if("br"===A){y=null;break}}B=B.prev}y&&(y.remove(),C.isEmpty(D)&&(z=a.getElementRule(C.name),z&&(z.removeEmpty?C.remove():z.paddEmpty&&(C.empty().append(new h("#text",3)).value="\xa0"))))}else{for(E=y;C&&C.firstChild===E&&C.lastChild===E&&(E=C,!w[C.name]);){C=C.parent}E===C&&(v=new h("#text",3),v.value="\xa0",y.replace(v))}}}),m.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(v){for(var p=v.length,x,u,l,w;p--;){if(w=v[p],"a"===w.name&&w.firstChild&&!w.attr("href")){l=w.parent,x=w.lastChild;do{u=x.prev,l.insert(x,w),x=u}while(x)}}}),m.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(x){for(var B=x.length,v,l,w,p,z,C=a.getValidClasses(),y,A;B--;){for(v=x[B],l=v.attr("class").split(" "),z="",w=0;w<l.length;w++){p=l[w],A=!1,y=C["*"],y&&y[p]&&(A=!0),y=C[v.name],!A&&y&&y[p]&&(A=!0),A&&(z&&(z+=" "),z+=p)}z.length||(z=null),v.attr("class",z)}})}}),bx(cf,[cu,bE],function(b,a){var c=a.makeMap;return function(g){var j=[],f,k,e,h,d;return g=g||{},f=g.indent,k=c(g.indent_before||""),e=c(g.indent_after||""),h=b.getEncodeFunc(g.entity_encoding||"raw",g.entities),d="html"==g.element_format,{start:function(o,l,r){var q,i,p,m;if(f&&k[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n")),j.push("<",o),l){for(q=0,i=l.length;i>q;q++){p=l[q],j.push(" ",p.name,'="',h(p.value,!0),'"')}}!r||d?j[j.length]=">":j[j.length]=" />",r&&f&&e[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n"))},end:function(l){var i;j.push("</",l,">"),f&&e[l]&&j.length>0&&(i=j[j.length-1],i.length>0&&"\n"!==i&&j.push("\n"))},text:function(l,i){l.length>0&&(j[j.length]=i?l:h(l))},cdata:function(i){j.push("<![CDATA[",i,"]]>")},comment:function(i){j.push("<!--",i,"-->")},pi:function(l,i){i?j.push("<?",l," ",h(i),"?>"):j.push("<?",l,"?>"),f&&j.push("\n")},doctype:function(i){j.push("<!DOCTYPE",i,">",f?"\n":"")},reset:function(){j.length=0},getContent:function(){return j.join("").replace(/\n$/,"")}}}}),bx(ca,[cf,cv],function(b,a){return function(f,d){var c=this,e=new b(f);f=f||{},f.validate="validate" in f?f.validate:!0,c.schema=d=d||new a,c.writer=e,c.serialize=function(k){function j(w){var o=h[w.type],A,r,y,z,x,v,t,i,q;if(o){o(w)}else{if(A=w.name,r=w.shortEnded,y=w.attributes,g&&y&&y.length>1&&(v=[],v.map={},q=d.getElementRule(w.name))){for(t=0,i=q.attributesOrder.length;i>t;t++){z=q.attributesOrder[t],z in y.map&&(x=y.map[z],v.map[z]=x,v.push({name:z,value:x}))}for(t=0,i=y.length;i>t;t++){z=y[t].name,z in v.map||(x=y.map[z],v.map[z]=x,v.push({name:z,value:x}))}y=v}if(e.start(w.name,y,r),!r){if(w=w.firstChild){do{j(w)}while(w=w.next)}e.end(A)}}}var h,g;return g=f.validate,h={3:function(i){e.text(i.value,i.raw)},8:function(i){e.comment(i.value)},7:function(i){e.pi(i.name,i.value)},10:function(i){e.doctype(i.value)},4:function(i){e.cdata(i.value)},11:function(i){if(i=i.firstChild){do{j(i)}while(i=i.next)}}},e.reset(),1!=k.type||f.inner?h[11](k):j(k),e.getContent()}}}),bx(cl,[bq,cg,cr,cu,ca,cx,cv,bP,bE,b6],function(x,C,k,b,q,j,A,D,m,z){function B(d){function a(h){return h&&"br"===h.name}var f,c;f=d.lastChild,a(f)&&(c=f.prev,a(c)&&(f.remove(),c.remove()))}var y=m.each,w=m.trim,v=x.DOM,g=["data-mce-selected"];return function(h,l){function c(p){var o=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+g.join("|")+')="[^"]+"'].join("|"),"gi");return p=z.trim(p.replace(o,""))}function f(){var H=l.getBody().innerHTML,E=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,G,u,p,F,o,I=l.schema;for(H=c(H),o=I.getShortEndedElements();F=E.exec(H);){u=E.lastIndex,p=F[0].length,G=o[F[1]]?u:k.findEndTag(I,H,u),H=H.substring(0,u-p)+H.substring(G),E.lastIndex=u-p}return w(H)}function d(o){-1===m.inArray(g,o)&&(i.addAttributeFilter(o,function(r,p){for(var s=r.length;s--;){r[s].attr(p,null)}}),g.push(o))}var n,a,i;return l&&(n=l.dom,a=l.schema),n=n||v,a=a||new A(h),h.entity_encoding=h.entity_encoding||"named",h.remove_trailing_brs="remove_trailing_brs" in h?h.remove_trailing_brs:!0,i=new C(h,a),i.addAttributeFilter("data-mce-tabindex",function(s,o){for(var u=s.length,p;u--;){p=s[u],p.attr("tabindex",p.attributes.map["data-mce-tabindex"]),p.attr(o,null)}}),i.addAttributeFilter("src,href,style",function(I,u){for(var e=I.length,F,p,H="data-mce-"+u,J=h.url_converter,E=h.url_converter_scope,G;e--;){F=I[e],p=F.attributes.map[H],p!==G?(F.attr(u,p.length>0?p:null),F.attr(H,null)):(p=F.attributes.map[u],"style"===u?p=n.serializeStyle(n.parseStyle(p),F.name):J&&(p=J.call(E,p,u,F.name)),F.attr(u,p.length>0?p:null))}}),i.addAttributeFilter("class",function(s){for(var o=s.length,u,p;o--;){u=s[o],p=u.attr("class"),p&&(p=u.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),u.attr("class",p.length>0?p:null))}}),i.addAttributeFilter("data-mce-type",function(u,p,E){for(var s=u.length,o;s--;){o=u[s],"bookmark"!==o.attributes.map["data-mce-type"]||E.cleanup||o.remove()}}),i.addNodeFilter("noscript",function(p){for(var o=p.length,r;o--;){r=p[o].firstChild,r&&(r.value=b.decode(r.value))}}),i.addNodeFilter("script,style",function(F,u){function H(o){return o.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var E=F.length,s,G,p;E--;){s=F[E],G=s.firstChild?s.firstChild.value:"","script"===u?(p=s.attr("type"),p&&s.attr("type","mce-no/type"==p?null:p.replace(/^mce\-/,"")),G.length>0&&(s.firstChild.value="// <![CDATA[\n"+H(G)+"\n// ]]>")):G.length>0&&(s.firstChild.value="<!--\n"+H(G)+"\n-->")}}),i.addNodeFilter("#comment",function(p){for(var o=p.length,r;o--;){r=p[o],0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=r.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))}}),i.addNodeFilter("xml:namespace,input",function(s,o){for(var u=s.length,p;u--;){p=s[u],7===p.type?p.remove():1===p.type&&("input"!==o||"type" in p.attributes.map||p.attr("type","text"))}}),h.fix_list_elements&&i.addNodeFilter("ul,ol",function(s){for(var o=s.length,u,p;o--;){u=s[o],p=u.parent,"ul"!==p.name&&"ol"!==p.name||u.prev&&"li"===u.prev.name&&u.prev.append(u)}}),i.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(p,o){for(var r=p.length;r--;){p[r].attr(o,null)}}),{schema:a,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:function(J,E){var e=this,u,I,G,H,s,F;return D.ie&&n.select("script,style,select,map").length>0?(s=J.innerHTML,J=J.cloneNode(!1),n.setHTML(J,s)):J=J.cloneNode(!0),u=J.ownerDocument.implementation,u.createHTMLDocument&&(I=u.createHTMLDocument(""),y("BODY"==J.nodeName?J.childNodes:[J],function(o){I.body.appendChild(I.importNode(o,!0))}),J="BODY"!=J.nodeName?I.body.firstChild:I.body,G=n.doc,n.doc=I),E=E||{},E.format=E.format||"html",E.selection&&(E.forced_root_block=""),E.no_events||(E.node=J,e.onPreProcess(E)),F=i.parse(w(E.getInner?J.innerHTML:n.getOuterHTML(J)),E),B(F),H=new q(h,a),E.content=H.serialize(F),E.cleanup||(E.content=z.trim(E.content),E.content=E.content.replace(/\uFEFF/g,"")),E.no_events||e.onPostProcess(E),G&&(n.doc=G),E.node=null,E.content},addRules:function(o){a.addValidElements(o)},setRules:function(o){a.setValidElements(o)},onPreProcess:function(o){l&&l.fire("PreProcess",o)},onPostProcess:function(o){l&&l.fire("PostProcess",o)},addTempAttr:d,trimHtml:c,getTrimmedContent:f}}}),bx(cb,[],function(){function a(f){function c(z,k){var e,p=0,j,x,A,m,w,y,v=-1,q;if(e=z.duplicate(),e.collapse(k),q=e.parentElement(),q.ownerDocument===f.dom.doc){for(;"false"===q.contentEditable;){q=q.parentNode}if(!q.hasChildNodes()){return{node:q,inside:1}}for(A=q.children,j=A.length-1;j>=p;){if(y=Math.floor((p+j)/2),m=A[y],e.moveToElementText(m),v=e.compareEndPoints(k?"StartToStart":"EndToEnd",z),v>0){j=y-1}else{if(!(0>v)){return{node:m}}p=y+1}}if(0>v){for(m?e.collapse(!1):(e.moveToElementText(q),e.collapse(!0),m=q,x=!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",1)&&q==e.parentElement();){w++}}else{for(e.collapse(!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",-1)&&q==e.parentElement();){w++}}return{node:m,position:v,offset:w,inside:x}}}function h(){function i(z){var B=c(e,z),y,w,x=0,o,A,v;if(y=B.node,w=B.offset,B.inside&&!y.hasChildNodes()){return void q[z?"setStart":"setEnd"](y,0)}if(w===A){return void q[z?"setStartBefore":"setEndAfter"](y)}if(B.position<0){if(o=B.inside?y.firstChild:y.nextSibling,!o){return void q[z?"setStartAfter":"setEndAfter"](y)}if(!w){return void (3==o.nodeType?q[z?"setStart":"setEnd"](o,0):q[z?"setStartBefore":"setEndBefore"](o))}for(;o;){if(3==o.nodeType&&(v=o.nodeValue,x+=v.length,x>=w)){y=o,x-=w,x=v.length-x;break}o=o.nextSibling}}else{if(o=y.previousSibling,!o){return q[z?"setStartBefore":"setEndBefore"](y)}if(!w){return void (3==y.nodeType?q[z?"setStart":"setEnd"](o,y.nodeValue.length):q[z?"setStartAfter":"setEndAfter"](o))}for(;o;){if(3==o.nodeType&&(x+=o.nodeValue.length,x>=w)){y=o,x-=w;break}o=o.previousSibling}}q[z?"setStart":"setEnd"](y,x)}var e=f.getRng(),q=b.createRng(),t,j,p,r,m;if(t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=b.doc){return q}if(j=f.isCollapsed(),e.item){return q.setStart(t.parentNode,b.nodeIndex(t)),q.setEnd(q.startContainer,q.startOffset+1),q}try{i(!0),j||i()}catch(k){if(-2147024809!=k.number){throw k}m=d.getBookmark(2),p=e.duplicate(),p.collapse(!0),t=p.parentElement(),j||(p=e.duplicate(),p.collapse(!1),r=p.parentElement(),r.innerHTML=r.innerHTML),t.innerHTML=t.innerHTML,d.moveToBookmark(m),e=f.getRng(),i(!0),j||i()}return q}var d=this,b=f.dom,g=!1;this.getBookmark=function(l){function j(s){var p,v,q,u,m=[];for(p=s.parentNode,v=b.getRoot().parentNode;p!=v&&9!==p.nodeType;){for(q=p.children,u=q.length;u--;){if(s===q[u]){m.push(u);break}}s=p,p=p.parentNode}return m}function k(m){var o;return o=c(e,m),o?{position:o.position,offset:o.offset,indexes:j(o.node),inside:o.inside}:void 0}var e=f.getRng(),i={};return 2===l&&(e.item?i.start={ctrl:!0,indexes:j(e.item(0))}:(i.start=k(!0),f.isCollapsed()||(i.end=k()))),i},this.moveToBookmark=function(k){function i(s){var p,v,q,u;for(p=b.getRoot(),v=s.length-1;v>=0;v--){u=p.children,q=s[v],q<=u.length-1&&(p=u[q])}return p}function m(t){var p=k[t?"start":"end"],o,q,e,r;p&&(o=p.position>0,q=l.createTextRange(),q.moveToElementText(i(p.indexes)),r=p.offset,r!==e?(q.collapse(p.inside||o),q.moveStart("character",o?-r:r)):q.collapse(t),j.setEndPoint(t?"StartToStart":"EndToStart",q),t&&j.collapse(!0))}var j,l=b.doc.body;k.start&&(k.start.ctrl?(j=l.createControlRange(),j.addElement(i(k.start.indexes)),j.select()):(j=l.createTextRange(),m(!0),m(),j.select()))},this.addRange=function(B){function j(s){var m,D,l,u,r;l=b.create("a"),m=s?C:y,D=s?o:A,u=e.duplicate(),m!=w&&m!=w.documentElement||(m=q,D=0),3==m.nodeType?(m.parentNode.insertBefore(l,m),u.moveToElementText(l),u.moveStart("character",D),b.remove(l),e.setEndPoint(s?"StartToStart":"EndToEnd",u)):(r=m.childNodes,r.length?(D>=r.length?b.insertAfter(l,r[r.length-1]):m.insertBefore(l,r[D]),u.moveToElementText(l)):m.canHaveHTML&&(m.innerHTML="<span>&#xFEFF;</span>",l=m.firstChild,u.moveToElementText(l),u.collapse(g)),e.setEndPoint(s?"StartToStart":"EndToEnd",u),b.remove(l))}var e,z,C,o,y,A,x,w=f.dom.doc,q=w.body,i,k;if(C=B.startContainer,o=B.startOffset,y=B.endContainer,A=B.endOffset,e=q.createTextRange(),C==y&&1==C.nodeType){if(o==A&&!C.hasChildNodes()){if(C.canHaveHTML){return x=C.previousSibling,x&&!x.hasChildNodes()&&b.isBlock(x)?x.innerHTML="&#xFEFF;":x=null,C.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",e.moveToElementText(C.lastChild),e.select(),b.doc.selection.clear(),C.innerHTML="",void (x&&(x.innerHTML=""))}o=b.nodeIndex(C),C=C.parentNode}if(o==A-1){try{if(k=C.childNodes[o],z=q.createControlRange(),z.addElement(k),z.select(),i=f.getRng(),i.item&&k===i.item(0)){return}}catch(v){}}}j(!0),j(),e.select()},this.getRangeAt=h}return a}),bx(ck,[bP],function(a){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey||this.metaKeyPressed(b)},metaKeyPressed:function(b){return a.mac?b.metaKey:b.ctrlKey&&!b.altKey}}}),bx(co,[ck,bE,bs,bP,bU],function(h,d,k,g,c){function j(i,a){for(;a&&a!=i;){if(f(a)||b(a)){return a}a=a.parentNode}return null}var b=c.isContentEditableFalse,f=c.isContentEditableTrue;return function(dg,c9){function dd(l){var i=c9.settings.object_resizing;return i===!1||g.iOS?!1:("string"!=typeof i&&(i="table,img,div"),"false"===l.getAttribute("data-mce-resize")?!1:l==c9.getBody()?!1:c9.dom.is(l,i))}function dl(p){var u,q,m,s,l;u=p.screenX-ce,q=p.screenY-bt,r=u*c0[2]+at,n=q*c0[3]+cT,r=5>r?5:r,n=5>n?5:n,m="IMG"==de.nodeName&&c9.settings.resize_img_proportional!==!1?!h.modifierPressed(p):h.modifierPressed(p)||"IMG"==de.nodeName&&c0[2]*c0[3]!==0,m&&(df(u)>df(q)?(n=a(r*cW),r=a(n/cW)):(r=a(n/cW),n=a(r*cW))),dn.setStyles(t,{width:r,height:n}),s=c0.startPos.x+u,l=c0.startPos.y+q,s=s>0?s:0,l=l>0?l:0,dn.setStyles(Z,{left:s,top:l,display:"block"}),Z.innerHTML=r+" &times; "+n,c0[2]<0&&t.clientWidth<=r&&dn.setStyle(t,"left",ae+(at-r)),c0[3]<0&&t.clientHeight<=n&&dn.setStyle(t,"top",cU+(cT-n)),u=e.scrollWidth-ct,q=e.scrollHeight-cV,u+q!==0&&dn.setStyles(Z,{left:s-u,top:l-q}),c3||(c9.fire("ObjectResizeStart",{target:de,width:at,height:cT}),c3=!0)}function c8(){function i(m,l){l&&(de.style[m]||!c9.schema.isValid(de.nodeName.toLowerCase(),m)?dn.setStyle(de,m,l):dn.setAttrib(de,m,l))}c3=!1,i("width",r),i("height",n),dn.unbind(o,"mousemove",dl),dn.unbind(o,"mouseup",c8),c2!=o&&(dn.unbind(c2,"mousemove",dl),dn.unbind(c2,"mouseup",c8)),dn.remove(t),dn.remove(Z),da&&"TABLE"!=de.nodeName||dk(de),c9.fire("ObjectResized",{target:de,width:r,height:n}),dn.setAttrib(de,"style",dn.getAttrib(de,"style")),c9.nodeChanged()}function dk(s,p,w){var m,v,l,u,q;dj(),c5(),m=dn.getPos(s,e),ae=m.x,cU=m.y,q=s.getBoundingClientRect(),v=q.width||q.right-q.left,l=q.height||q.bottom-q.top,de!=s&&(cZ(),de=s,r=n=0),u=c9.fire("ObjectSelected",{target:s}),dd(s)&&!u.isDefaultPrevented()?Q(c1,function(A,y){function z(i){ce=i.screenX,bt=i.screenY,at=de.clientWidth,cT=de.clientHeight,cW=cT/at,c0=A,A.startPos={x:v*A[0]+ae,y:l*A[1]+cU},ct=e.scrollWidth,cV=e.scrollHeight,t=de.cloneNode(!0),dn.addClass(t,"mce-clonedresizable"),dn.setAttrib(t,"data-mce-bogus","all"),t.contentEditable=!1,t.unSelectabe=!0,dn.setStyles(t,{left:ae,top:cU,margin:0}),t.removeAttribute("data-mce-selected"),e.appendChild(t),dn.bind(o,"mousemove",dl),dn.bind(o,"mouseup",c8),c2!=o&&(dn.bind(c2,"mousemove",dl),dn.bind(c2,"mouseup",c8)),Z=dn.add(e,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},at+" &times; "+cT)}var x;return p?void (y==p&&z(w)):(x=dn.get("mceResizeHandle"+y),x&&dn.remove(x),x=dn.add(e,"div",{id:"mceResizeHandle"+y,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+y+"-resize; margin:0; padding:0"}),g.ie&&(x.contentEditable=!1),dn.bind(x,"mousedown",function(i){i.stopImmediatePropagation(),i.preventDefault(),z(i)}),A.elm=x,void dn.setStyles(x,{left:v*A[0]+ae-x.offsetWidth/2,top:l*A[1]+cU-x.offsetHeight/2}))}):dj(),de.setAttribute("data-mce-selected","1")}function dj(){var l,i;c5(),de&&de.removeAttribute("data-mce-selected");for(l in c1){i=dn.get("mceResizeHandle"+l),i&&(dn.unbind(i),dn.remove(i))}}function dh(m){function i(s,q){if(s){do{if(s===q){return !0}}while(s=s.parentNode)}}var p,l;if(!c3&&!c9.removed){return Q(dn.select("img[data-mce-selected],hr[data-mce-selected]"),function(q){q.removeAttribute("data-mce-selected")}),l="mousedown"==m.type?m.target:dg.getNode(),l=dn.$(l).closest(da?"table":"table,img,hr")[0],i(l,e)&&(c6(),p=dg.getStart(!0),i(p,l)&&i(dg.getEnd(!0),l)&&(!da||l!=p&&"IMG"!==p.nodeName))?void dk(l):void dj()}}function db(l,i,m){l&&l.attachEvent&&l.attachEvent("on"+i,m)}function dc(l,i,m){l&&l.detachEvent&&l.detachEvent("on"+i,m)}function di(v){var y=v.srcElement,q,m,u,p,x,s,w;q=y.getBoundingClientRect(),s=cY.clientX-q.left,w=cY.clientY-q.top;for(m in c1){if(u=c1[m],p=y.offsetWidth*u[0],x=y.offsetHeight*u[1],df(p-s)<8&&df(x-w)<8){c0=u;break}}c3=!0,c9.fire("ObjectResizeStart",{target:de,width:de.clientWidth,height:de.clientHeight}),c9.getDoc().selection.empty(),dk(y,m,cY)}function c7(i){i.preventDefault?i.preventDefault():i.returnValue=!1}function c4(i){return b(j(c9.getBody(),i))}function dm(l){var i=l.srcElement;if(c4(i)){return void c7(l)}if(i!=de){if(c9.fire("ObjectSelected",{target:i}),cZ(),0===i.id.indexOf("mceResizeHandle")){return void (l.returnValue=!1)}"IMG"!=i.nodeName&&"TABLE"!=i.nodeName||(dj(),de=i,db(i,"resizestart",di))}}function cZ(){dc(de,"resizestart",di)}function c5(){for(var l in c1){var i=c1[l];i.elm&&(dn.unbind(i.elm),delete i.elm)}}function c6(){try{c9.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(i){}}function be(l){var i;if(da){i=o.body.createControlRange();try{return i.addElement(l),i.select(),!0}catch(m){}}}function cX(){de=t=null,da&&(cZ(),dc(e,"controlselect",dm))}var dn=c9.dom,Q=d.each,de,t,Z,c1,c0,cY,ce,bt,ae,cU,at,cT,cW,c3,r,n,o=c9.getDoc(),c2=document,da=g.ie&&g.ie<11,df=Math.abs,a=Math.round,e=c9.getBody(),ct,cV;c1={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var cS=".mce-content-body";return c9.contentStyles.push(cS+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+cS+" .mce-resizehandle:hover {background: #000}"+cS+" img[data-mce-selected],"+cS+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+cS+" .mce-clonedresizable {position: absolute;"+(g.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+cS+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),c9.on("init",function(){da?(c9.on("ObjectResized",function(l){"TABLE"!=l.target.nodeName&&(dj(),be(l.target))}),db(e,"controlselect",dm),c9.on("mousedown",function(l){cY=l})):(c6(),g.ie>=11&&(c9.on("mousedown click",function(m){var l=m.target,p=l.nodeName;c3||!/^(TABLE|IMG|HR)$/.test(p)||c4(l)||(c9.selection.select(l,"TABLE"==p),"mousedown"==m.type&&c9.nodeChanged())}),c9.dom.bind(e,"mscontrolselect",function(m){function l(p){k.setEditorTimeout(c9,function(){c9.selection.select(p)})}return c4(m.target)?(m.preventDefault(),void l(m.target)):void (/^(TABLE|IMG|HR)$/.test(m.target.nodeName)&&(m.preventDefault(),"IMG"==m.target.tagName&&l(m.target)))})));var i=k.throttle(function(l){c9.composing||dh(l)});c9.on("nodechange ResizeEditor ResizeWindow drop",i),c9.on("keyup compositionend",function(l){de&&"TABLE"==de.nodeName&&i(l)}),c9.on("hide blur",dj)}),c9.on("remove",c5),{isResizable:dd,showResizeRect:dk,hideResizeRect:dj,updateResizeRect:dh,controlSelect:be,destroy:cX}}}),bx(bm,[],function(){function g(a){return function(){return a}}function d(a){return function(e){return !a(e)}}function j(i,a){return function(e){return i(a(e))}}function f(){var a=b.call(arguments);return function(e){for(var i=0;i<a.length;i++){if(a[i](e)){return !0}}return !1}}function c(){var a=b.call(arguments);return function(e){for(var i=0;i<a.length;i++){if(!a[i](e)){return !1}}return !0}}function h(i){var a=b.call(arguments);return a.length-1>=i.length?i.apply(this,a.slice(1)):function(){var k=a.concat([].slice.call(arguments));return h.apply(this,k)}}var b=[].slice;return{constant:g,negate:d,and:c,or:f,curry:h,compose:j}}),bx(b3,[bU,bA,bG],function(z,E,k){function b(a){return q(a)?!1:A(a)?!y(a.parentNode):x(a)||D(a)||g(a)||B(a)}function w(c,a){for(c=c.parentNode;c&&c!=a;c=c.parentNode){if(B(c)){return !1}if(v(c)){return !0}}return !0}function j(a){return B(a)?E.reduce(a.getElementsByTagName("*"),function(d,c){return d||v(c)},!1)!==!0:!1}function C(a){return x(a)||j(a)}function F(c,a){return b(c)&&w(c,a)}var v=z.isContentEditableTrue,B=z.isContentEditableFalse,D=z.isBr,A=z.isText,y=z.matchNodeNames("script style textarea"),x=z.matchNodeNames("img input textarea hr iframe video audio object"),g=z.matchNodeNames("table"),q=k.isCaretContainer;return{isCaretCandidate:b,isInEditable:w,isAtomic:C,isEditableCaretCandidate:F}}),bx(b0,[],function(){function j(a){return a?{left:p(a.left),top:p(a.top),bottom:p(a.bottom),right:p(a.right),width:p(a.width),height:p(a.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function q(a,c){return a=j(a),c?a.right=a.left:(a.left=a.left+a.width,a.right=a.left),a.width=0,a}function f(c,a){return c.left===a.left&&c.top===a.top&&c.bottom===a.bottom&&c.right===a.right}function b(c,a,i){return c>=0&&c<=Math.min(a.height,i.height)/2}function h(c,a){return c.bottom<a.top?!0:c.top>a.bottom?!1:b(a.top-c.bottom,c,a)}function d(c,a){return c.top>a.bottom?!0:c.bottom<a.top?!1:b(a.bottom-c.top,c,a)}function m(c,a){return c.left<a.left}function v(c,a){return c.right>a.right}function g(c,a){return h(c,a)?-1:d(c,a)?1:m(c,a)?-1:v(c,a)?1:0}function k(c,a,i){return a>=c.left&&a<=c.right&&i>=c.top&&i<=c.bottom}var p=Math.round;return{clone:j,collapse:q,isEqual:f,isAbove:h,isBelow:d,isLeft:m,isRight:v,compare:g,containsXY:k}}),bx(b1,[],function(){function b(c){return"string"==typeof c&&c.charCodeAt(0)>=768&&a.test(c)}var a=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:b}}),bx(cH,[bm,bU,bq,b4,b3,b0,b1],function(N,z,G,D,J,F,R){function A(a){return"createRange" in a?a.createRange():G.DOM.createRng()}function I(a){return a&&/[\r\n\t ]/.test(a)}function P(c){var a=c.startContainer,d=c.startOffset,b;return !!(I(c.toString())&&q(a.parentNode)&&(b=a.data,I(b[d-1])||I(b[d+1])))}function w(m){function s(v){var l=v.ownerDocument,x=A(l),u=l.createTextNode("\xa0"),h=v.parentNode,d;return h.insertBefore(u,v),x.setStart(u,0),x.setEnd(u,1),d=F.clone(x.getBoundingClientRect()),h.removeChild(u),d}function b(h){var i,d;return d=h.getClientRects(),i=d.length>0?F.clone(d[0]):F.clone(h.getBoundingClientRect()),Q(h)&&0===i.left?s(h):i}function a(h,d){return h=F.collapse(h,d),h.width=1,h.right=h.left+1,h}function f(d){0!==d.height&&(p.length>0&&F.isEqual(d,p[p.length-1])||p.push(d))}function c(h,d){var i=A(h.ownerDocument);if(d<h.data.length){if(R.isExtendingChar(h.data[d])){return p}if(R.isExtendingChar(h.data[d-1])&&(i.setStart(h,d),i.setEnd(h,d+1),!P(i))){return f(a(b(i),!1)),p}}d>0&&(i.setStart(h,d-1),i.setEnd(h,d),P(i)||f(a(b(i),!1))),d<h.data.length&&(i.setStart(h,d),i.setEnd(h,d+1),P(i)||f(a(b(i),!0)))}var p=[],o,g;if(j(m.container())){return c(m.container(),m.offset()),p}if(M(m.container())){if(m.isAtEnd()){g=k(m.container(),m.offset()),j(g)&&c(g,g.data.length),L(g)&&!Q(g)&&f(a(b(g),!1))}else{if(g=k(m.container(),m.offset()),j(g)&&c(g,0),L(g)&&m.isAtEnd()){return f(a(b(g),!1)),p}o=k(m.container(),m.offset()-1),L(o)&&!Q(o)&&(E(o)||E(g)||!L(g))&&f(a(b(o),!1)),L(g)&&f(a(b(g),!0))}}return p}function O(x,e,b){function m(){return j(x)?0===e:0===e}function d(){return j(x)?e>=x.data.length:e>=x.childNodes.length}function v(){var a;return a=A(x.ownerDocument),a.setStart(x,e),a.setEnd(x,e),a}function g(){return b||(b=w(new O(x,e))),b}function u(){return g().length>0}function s(a){return a&&x===a.container()&&e===a.offset()}function p(a){return k(x,a?e-1:e)}return{container:N.constant(x),offset:N.constant(e),toRange:v,getClientRects:g,isVisible:u,isAtStart:m,isAtEnd:d,isEqual:s,getNode:p}}var M=z.isElement,K=J.isCaretCandidate,E=z.matchStyleValues("display","block table"),H=z.matchStyleValues("float","left right"),L=N.and(M,K,N.negate(H)),q=N.negate(z.matchStyleValues("white-space","pre pre-line pre-wrap")),j=z.isText,Q=z.isBr,B=G.nodeIndex,k=D.getNode;return O.fromRangeStart=function(a){return new O(a.startContainer,a.startOffset)},O.fromRangeEnd=function(a){return new O(a.endContainer,a.endOffset)},O.after=function(a){return new O(a.parentNode,B(a)+1)},O.before=function(a){return new O(a.parentNode,B(a))},O}),bx(by,[bU,bq,bm,bA,cH],function(I,q,B,x,E){function A(c){var a=c.parentNode;return j(a)?A(a):a}function L(a){return a?x.reduce(a.childNodes,function(d,c){return j(c)&&"BR"!=c.nodeName?d=d.concat(L(c)):d.push(c),d},[]):[]}function w(c,a){for(;(c=c.previousSibling)&&G(c);){a+=c.data.length}return a}function D(a){return function(c){return a===c}}function K(c){var e,a,d;return e=L(A(c)),a=x.findIndex(e,D(c),c),e=e.slice(0,a+1),d=x.reduce(e,function(h,f,g){return G(f)&&G(e[g-1])&&h++,h},0),e=x.filter(e,I.matchNodeNames(c.nodeName)),a=x.findIndex(e,D(c),c),a-d}function k(c){var a;return a=G(c)?"text()":c.nodeName.toLowerCase(),a+"["+K(c)+"]"}function J(d,a,f){var c=[];for(a=a.parentNode;a!=d&&(!f||!f(a));a=a.parentNode){c.push(a)}return c}function H(m,g){var r,e,d=[],s,p,n;return r=g.container(),e=g.offset(),G(r)?s=w(r,e):(p=r.childNodes,e>=p.length?(s="after",e=p.length-1):s="before",r=p[e]),d.push(k(r)),n=J(m,r),n=x.filter(n,B.negate(I.isBogus)),d=d.concat(x.map(n,function(a){return k(a)})),d.reverse().join("/")+","+s}function F(c,e,a){var d=L(c);return d=x.filter(d,function(g,f){return !G(g)||!G(d[f-1])}),d=x.filter(d,I.matchNodeNames(e)),d[a]}function z(d,a){for(var g=d,c=0,f;G(g);){if(f=g.data.length,a>=c&&c+f>=a){d=g,a-=c;break}if(!G(g.nextSibling)){d=g,a=f;break}c+=f,g=g.nextSibling}return a>d.data.length&&(a=d.data.length),new E(d,a)}function C(f,d){var h,g,c;return d?(h=d.split(","),d=h[0].split("/"),c=h.length>1?h[1]:"before",g=x.reduce(d,function(i,a){return(a=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(a))?("text()"===a[1]&&(a[1]="#text"),F(i,a[1],parseInt(a[2],10))):null},f),g?G(g)?z(g,parseInt(c,10)):(c="after"===c?b(g)+1:b(g),new E(g.parentNode,c)):null):null}var G=I.isText,j=I.isBogus,b=q.nodeIndex;return{create:H,resolve:C}}),bx(bH,[bP,bE,bG,by,cH,bU],function(h,d,k,g,c,j){function b(i){var e=i.dom;this.getBookmark=function(s,z){function G(p,u){var m=0;return d.each(e.select(p),function(v){return"all"!==v.getAttribute("data-mce-bogus")?v==u?!1:void m++:void 0}),m}function t(p){function m(v){var y,w,u,x=v?"start":"end";y=p[x+"Container"],w=p[x+"Offset"],1==y.nodeType&&"TR"==y.nodeName&&(u=y.childNodes,y=u[Math.min(v?w:w-1,u.length-1)],y&&(w=v?0:y.childNodes.length,p["set"+(v?"Start":"End")](y,w)))}return m(!0),m(),p}function r(u){function m(J,C){var I=J[C?"startContainer":"endContainer"],y=J[C?"startOffset":"endOffset"],K=[],w,H,x=0;if(3==I.nodeType){if(z){for(w=I.previousSibling;w&&3==w.nodeType;w=w.previousSibling){y+=w.nodeValue.length}}K.push(y)}else{H=I.childNodes,y>=H.length&&H.length&&(x=1,y=Math.max(0,H.length-1)),K.push(e.nodeIndex(H[y],z)+x)}for(;I&&I!=v;I=I.parentNode){K.push(e.nodeIndex(I,z))}return K}var v=e.getRoot(),p={};return p.start=m(u,!0),i.isCollapsed()||(p.end=m(u)),p}function o(p){function m(v){var u;if(k.isCaretContainer(v)){if(j.isText(v)&&k.isCaretContainerBlock(v)&&(v=v.parentNode),u=v.previousSibling,f(u)){return u}if(u=v.nextSibling,f(u)){return u}}}return m(p.startContainer)||m(p.endContainer)}var l,n,q,F,B,A,a="&#xFEFF;",D;if(2==s){return A=i.getNode(),B=A?A.nodeName:null,l=i.getRng(),f(A)||"IMG"==B?{name:B,index:G(B,A)}:i.tridentSel?i.tridentSel.getBookmark(s):(A=o(l),A?(B=A.tagName,{name:B,index:G(B,A)}):r(l))}if(3==s){return l=i.getRng(),{start:g.create(e.getRoot(),c.fromRangeStart(l)),end:g.create(e.getRoot(),c.fromRangeEnd(l))}}if(s){return{rng:i.getRng()}}if(l=i.getRng(),q=e.uniqueId(),F=i.isCollapsed(),D="overflow:hidden;line-height:0px",l.duplicate||l.item){if(l.item){return A=l.item(0),B=A.nodeName,{name:B,index:G(B,A)}}n=l.duplicate();try{l.collapse(),l.pasteHTML('<span data-mce-type="bookmark" id="'+q+'_start" style="'+D+'">'+a+"</span>"),F||(n.collapse(!1),l.moveToElementText(n.parentElement()),0===l.compareEndPoints("StartToEnd",n)&&n.move("character",-1),n.pasteHTML('<span data-mce-type="bookmark" id="'+q+'_end" style="'+D+'">'+a+"</span>"))}catch(E){return null}}else{if(A=i.getNode(),B=A.nodeName,"IMG"==B){return{name:B,index:G(B,A)}}n=t(l.cloneRange()),F||(n.collapse(!1),n.insertNode(e.create("span",{"data-mce-type":"bookmark",id:q+"_end",style:D},a))),l=t(l),l.collapse(!0),l.insertNode(e.create("span",{"data-mce-type":"bookmark",id:q+"_start",style:D},a))}return i.moveToBookmark({id:q,keep:1}),{id:q}},this.moveToBookmark=function(q){function t(u){var p=q[u?"start":"end"],s,n,B,m;if(p){for(B=p[0],n=x,s=p.length-1;s>=1;s--){if(m=n.childNodes,p[s]>m.length-1){return}n=m[p[s]]}3===n.nodeType&&(B=Math.min(p[0],n.nodeValue.length)),1===n.nodeType&&(B=Math.min(p[0],n.childNodes.length)),u?z.setStart(n,B):z.setEnd(n,B)}return !0}function l(C){var p=e.get(q.id+"_"+C),D,m,B,E,n=q.keep;if(p&&(D=p.parentNode,"start"==C?(n?(D=p.firstChild,m=1):m=e.nodeIndex(p),w=v=D,a=r=m):(n?(D=p.firstChild,m=1):m=e.nodeIndex(p),v=D,r=m),!n)){for(E=p.previousSibling,B=p.nextSibling,d.each(d.grep(p.childNodes),function(o){3==o.nodeType&&(o.nodeValue=o.nodeValue.replace(/\uFEFF/g,""))});p=e.get(q.id+"_"+C);){e.remove(p,1)}E&&B&&E.nodeType==B.nodeType&&3==E.nodeType&&!h.opera&&(m=E.nodeValue.length,E.appendData(B.nodeValue),e.remove(B),"start"==C?(w=v=E,a=r=m):(v=E,r=m))}}function A(m){return !e.isBlock(m)||m.innerHTML||h.ie||(m.innerHTML='<br data-mce-bogus="1" />'),m}function y(){var n,m;return n=e.createRng(),m=g.resolve(e.getRoot(),q.start),n.setStart(m.container(),m.offset()),m=g.resolve(e.getRoot(),q.end),n.setEnd(m.container(),m.offset()),n}var z,x,w,v,a,r;if(q){if(d.isArray(q.start)){if(z=e.createRng(),x=e.getRoot(),i.tridentSel){return i.tridentSel.moveToBookmark(q)}t(!0)&&t()&&i.setRng(z)}else{"string"==typeof q.start?i.setRng(y(q)):q.id?(l("start"),l("end"),w&&(z=e.createRng(),z.setStart(A(w),a),z.setEnd(A(v),r),i.setRng(z))):q.name?i.select(e.select(q.name)[q.index]):q.rng&&i.setRng(q.rng)}}}}var f=j.isContentEditableFalse;return b.isBookmarkNode=function(a){return a&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")},b}),bx(bY,[bn,cb,co,b4,bH,bU,bP,bE,cH],function(t,j,b,m,g,x,z,k,w){function y(l,f,d,c){var h=this;h.dom=l,h.win=f,h.serializer=d,h.editor=c,h.bookmarkManager=new g(h),h.controlSelection=new b(h,c),h.win.getSelection||(h.tridentSel=new j(h))}var v=k.each,q=k.trim,p=z.ie;return y.prototype={setCursorLocation:function(d,a){var f=this,c=f.dom.createRng();d?(c.setStart(d,a),c.setEnd(d,a),f.setRng(c),f.collapse(!1)):(f._moveEndPoint(c,f.editor.getBody(),!0),f.setRng(c))},getContent:function(A){var C=this,u=C.getRng(),f=C.dom.create("body"),B=C.getSel(),d,h,c;return A=A||{},d=h="",A.get=!0,A.format=A.format||"html",A.selection=!0,C.editor.fire("BeforeGetContent",A),"text"==A.format?C.isCollapsed()?"":u.text||(B.toString?B.toString():""):(u.cloneContents?(c=u.cloneContents(),c&&f.appendChild(c)):u.item!==bv||u.htmlText!==bv?(f.innerHTML="<br>"+(u.item?u.item(0).outerHTML:u.htmlText),f.removeChild(f.firstChild)):f.innerHTML=u.toString(),/^\s/.test(f.innerHTML)&&(d=" "),/\s+$/.test(f.innerHTML)&&(h=" "),A.getInner=!0,A.content=C.isCollapsed()?"":d+C.serializer.serialize(f,A)+h,C.editor.fire("GetContent",A),A.content)},setContent:function(A,C){var f=this,c=f.getRng(),u,d=f.win.document,B,D;if(C=C||{format:"html"},C.set=!0,C.selection=!0,C.content=A,C.no_events||f.editor.fire("BeforeSetContent",C),A=C.content,c.insertNode){A+='<span id="__caret">_</span>',c.startContainer==d&&c.endContainer==d?d.body.innerHTML=A:(c.deleteContents(),0===d.body.childNodes.length?d.body.innerHTML=A:c.createContextualFragment?c.insertNode(c.createContextualFragment(A)):(B=d.createDocumentFragment(),D=d.createElement("div"),B.appendChild(D),D.outerHTML=A,c.insertNode(B))),u=f.dom.get("__caret"),c=d.createRange(),c.setStartBefore(u),c.setEndBefore(u),f.setRng(c),f.dom.remove("__caret");try{f.setRng(c)}catch(h){}}else{c.item&&(d.execCommand("Delete",!1,null),c=f.getRng()),/^\s+/.test(A)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+A),f.dom.remove("__mce_tmp")):c.pasteHTML(A)}C.no_events||f.editor.fire("SetContent",C)},getStart:function(l){var f=this,u=f.getRng(),h,d,s,c;if(u.duplicate||u.item){if(u.item){return u.item(0)}for(s=u.duplicate(),s.collapse(1),h=s.parentElement(),h.ownerDocument!==f.dom.doc&&(h=f.dom.getRoot()),d=c=u.parentElement();c=c.parentNode;){if(c==h){h=d;break}}return h}return h=u.startContainer,1==h.nodeType&&h.hasChildNodes()&&(l&&u.collapsed||(h=h.childNodes[Math.min(h.childNodes.length-1,u.startOffset)])),h&&3==h.nodeType?h.parentNode:h},getEnd:function(f){var c=this,h=c.getRng(),d,a;return h.duplicate||h.item?h.item?h.item(0):(h=h.duplicate(),h.collapse(0),d=h.parentElement(),d.ownerDocument!==c.dom.doc&&(d=c.dom.getRoot()),d&&"BODY"==d.nodeName?d.lastChild||d:d):(d=h.endContainer,a=h.endOffset,1==d.nodeType&&d.hasChildNodes()&&(f&&h.collapsed||(d=d.childNodes[a>0?a-1:a])),d&&3==d.nodeType?d.parentNode:d)},getBookmark:function(c,a){return this.bookmarkManager.getBookmark(c,a)},moveToBookmark:function(a){return this.bookmarkManager.moveToBookmark(a)},select:function(f,c){var l=this,d=l.dom,a=d.createRng(),h;if(l.lastFocusBookmark=null,f){if(!c&&l.controlSelection.controlSelect(f)){return}h=d.nodeIndex(f),a.setStart(f.parentNode,h),a.setEnd(f.parentNode,h+1),c&&(l._moveEndPoint(a,f,!0),l._moveEndPoint(a,f)),l.setRng(a)}return f},isCollapsed:function(){var c=this,a=c.getRng(),d=c.getSel();return !a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!d||a.collapsed},collapse:function(d){var a=this,f=a.getRng(),c;f.item&&(c=f.item(0),f=a.win.document.body.createTextRange(),f.moveToElementText(c)),f.collapse(!!d),a.setRng(f)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(C){function G(i,a,l){try{return a.compareBoundaryPoints(i,l)}catch(c){return -1}}var h=this,d,B,f,E,H,A;if(!h.win){return null}if(E=h.win.document,!C&&h.lastFocusBookmark){var D=h.lastFocusBookmark;return D.startContainer?(B=E.createRange(),B.setStart(D.startContainer,D.startOffset),B.setEnd(D.endContainer,D.endOffset)):B=D,B}if(C&&h.tridentSel){return h.tridentSel.getRangeAt(0)}try{(d=h.getSel())&&(B=d.rangeCount>0?d.getRangeAt(0):d.createRange?d.createRange():E.createRange())}catch(F){}if(A=h.editor.fire("GetSelectionRange",{range:B}),A.range!==B){return A.range}if(p&&B&&B.setStart&&E.selection){try{H=E.selection.createRange()}catch(F){}H&&H.item&&(f=H.item(0),B=E.createRange(),B.setStartBefore(f),B.setEndAfter(f))}return B||(B=E.createRange?E.createRange():E.body.createTextRange()),B.setStart&&9===B.startContainer.nodeType&&B.collapsed&&(f=h.dom.getRoot(),B.setStart(f,0),B.setEnd(f,0)),h.selectedRange&&h.explicitRange&&(0===G(B.START_TO_START,B,h.selectedRange)&&0===G(B.END_TO_END,B,h.selectedRange)?B=h.explicitRange:(h.selectedRange=null,h.explicitRange=null)),B},setRng:function(l,f){var u=this,h,d,s;if(l){if(l.select){u.explicitRange=null;try{l.select()}catch(c){}}else{if(u.tridentSel){if(l.cloneRange){try{u.tridentSel.addRange(l)}catch(c){}}}else{if(h=u.getSel(),s=u.editor.fire("SetSelectionRange",{range:l}),l=s.range,h){u.explicitRange=l;try{h.removeAllRanges(),h.addRange(l)}catch(c){}f===!1&&h.extend&&(h.collapse(l.endContainer,l.endOffset),h.extend(l.startContainer,l.startOffset)),u.selectedRange=h.rangeCount>0?h.getRangeAt(0):null}l.collapsed||l.startContainer!=l.endContainer||!h.setBaseAndExtent||z.ie||l.endOffset-l.startOffset<2&&l.startContainer.hasChildNodes()&&(d=l.startContainer.childNodes[l.startOffset],d&&"IMG"==d.tagName&&u.getSel().setBaseAndExtent(d,0,d,1))}}}},setNode:function(c){var a=this;return a.setContent(a.dom.getOuterHTML(c)),c},getNode:function(){function A(i,a){for(var l=i;i&&3===i.nodeType&&0===i.length;){i=a?i.nextSibling:i.previousSibling}return i||l}var C=this,f=C.getRng(),c,u,d,B,D,h=C.dom.getRoot();return f?(u=f.startContainer,d=f.endContainer,B=f.startOffset,D=f.endOffset,f.setStart?(c=f.commonAncestorContainer,!f.collapsed&&(u==d&&2>D-B&&u.hasChildNodes()&&(c=u.childNodes[B]),3===u.nodeType&&3===d.nodeType&&(u=u.length===B?A(u.nextSibling,!0):u.parentNode,d=0===D?A(d.previousSibling,!1):d.parentNode,u&&u===d))?u:c&&3==c.nodeType?c.parentNode:c):(c=f.item?f.item(0):f.parentElement(),c.ownerDocument!==C.win.document&&(c=h),c)):h},getSelectedBlocks:function(f,B){var u=this,e=u.dom,A,d,h=[];if(d=e.getRoot(),f=e.getParent(f||u.getStart(),e.isBlock),B=e.getParent(B||u.getEnd(),e.isBlock),f&&f!=d&&h.push(f),f&&B&&f!=B){A=f;for(var c=new t(f,d);(A=c.next())&&A!=B;){e.isBlock(A)&&h.push(A)}}return B&&f!=B&&B!=d&&h.push(B),h},isForward:function(){var d=this.dom,a=this.getSel(),f,c;return a&&a.anchorNode&&a.focusNode?(f=d.createRng(),f.setStart(a.anchorNode,a.anchorOffset),f.collapse(!0),c=d.createRng(),c.setStart(a.focusNode,a.focusOffset),c.collapse(!0),f.compareBoundaryPoints(f.START_TO_START,c)<=0):!0},normalize:function(){var c=this,a=c.getRng();return z.range&&new m(c.dom).normalize(a)&&c.setRng(a,c.isForward()),a},selectorChanged:function(d,a){var f=this,c;return f.selectorChangedData||(f.selectorChangedData={},c={},f.editor.on("NodeChange",function(r){var n=r.element,l=f.dom,s=l.getParents(n,null,l.getRoot()),h={};v(f.selectorChangedData,function(o,i){v(s,function(e){return l.is(e,i)?(c[i]||(v(o,function(u){u(!0,{node:e,selector:i,parents:s})}),c[i]=o),h[i]=o,!1):void 0})}),v(c,function(i,o){h[o]||(delete c[o],v(i,function(u){u(!1,{node:n,selector:o,parents:s})}))})})),f.selectorChangedData[d]||(f.selectorChangedData[d]=[]),f.selectorChangedData[d].push(a),f},getScrollContainer:function(){for(var c,a=this.dom.getRoot();a&&"BODY"!=a.nodeName;){if(a.scrollHeight>a.clientHeight){c=a;break}a=a.parentNode}return c},scrollIntoView:function(E,I){function A(f){for(var c=0,i=0,d=f;d&&d.nodeType;){c+=d.offsetLeft||0,i+=d.offsetTop||0,d=d.offsetParent}return{x:c,y:i}}var a,C,h=this,J=h.dom,B=J.getRoot(),G,H,F=0;if(x.isElement(E)){if(I===!1&&(F=E.offsetHeight),"BODY"!=B.nodeName){var D=h.getScrollContainer();if(D){return a=A(E).y-A(D).y+F,H=D.clientHeight,G=D.scrollTop,void ((G>a||a+25>G+H)&&(D.scrollTop=G>a?a:a-H+25))}}C=J.getViewPort(h.editor.getWin()),a=J.getPos(E).y+F,G=C.y,H=C.h,(a<C.y||a+25>G+H)&&h.editor.getWin().scrollTo(0,G>a?a:a-H+25)}},placeCaretAt:function(c,a){this.setRng(m.getCaretRangeFromPoint(c,a,this.editor.getDoc()))},_moveEndPoint:function(e,l,f){var d=l,h=new t(l,d),c=this.dom.schema.getNonEmptyElements();do{if(3==l.nodeType&&0!==q(l.nodeValue).length){return void (f?e.setStart(l,0):e.setEnd(l,l.nodeValue.length))}if(c[l.nodeName]&&!/^(TD|TH)$/.test(l.nodeName)){return void (f?e.setStartBefore(l):"BR"==l.nodeName?e.setEndBefore(l):e.setEndAfter(l))}if(z.ie&&z.ie<11&&this.dom.isBlock(l)&&this.dom.isEmpty(l)){return void (f?e.setStart(l,0):e.setEnd(l,0))}}while(l=f?h.next():h.prev());"BODY"==d.nodeName&&(f?e.setStart(d,0):e.setEnd(d,d.childNodes.length))},getBoundingClientRect:function(){var a=this.getRng();return a.collapsed?w.fromRangeStart(a).getClientRects()[0]:a.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},y}),bx(bZ,[bH,bE],function(c,a){function d(e){this.compare=function(j,g){function h(i){var k={};return b(e.getAttribs(i),function(m){var l=m.nodeName.toLowerCase();0!==l.indexOf("_")&&"style"!==l&&"data-mce-style"!==l&&"data-mce-fragment"!=l&&(k[l]=e.getAttrib(i,l))}),k}function f(l,i){var m,k;for(k in l){if(l.hasOwnProperty(k)){if(m=i[k],"undefined"==typeof m){return !1}if(l[k]!=m){return !1}delete i[k]}}for(k in i){if(i.hasOwnProperty(k)){return !1}}return !0}return j.nodeName!=g.nodeName?!1:f(h(j),h(g))&&f(e.parseStyle(e.getAttrib(j,"style")),e.parseStyle(e.getAttrib(g,"style")))?!c.isBookmarkNode(j)&&!c.isBookmarkNode(g):!1}}var b=a.each;return d}),bx(ch,[bE],function(b){function a(j,n){function d(i){return i.replace(/%(\w+)/g,"")}var h,f,m=j.dom,p="",g,k;if(k=j.settings.preview_styles,k===!1){return""}if(k||(k="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof n){if(n=j.formatter.get(n),!n){return}n=n[0]}return h=n.block||n.inline||"span",f=m.create(h),c(n.styles,function(l,i){l=d(l),l&&m.setStyle(f,i,l)}),c(n.attributes,function(l,i){l=d(l),l&&m.setAttrib(f,i,l)}),c(n.classes,function(i){i=d(i),m.hasClass(f,i)||m.addClass(f,i)}),j.fire("PreviewFormats"),m.setStyles(f,{position:"absolute",left:-65535}),j.getBody().appendChild(f),g=m.getStyle(j.getBody(),"fontSize",!0),g=/px$/.test(g)?parseInt(g,10):0,c(k.split(" "),function(e){var i=m.getStyle(f,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(i)&&(i=m.getStyle(j.getBody(),e,!0),"#ffffff"==m.toHex(i).toLowerCase())||"color"==e&&"#000000"==m.toHex(i).toLowerCase())){if("font-size"==e&&/em|%$/.test(i)){if(0===g){return}i=parseFloat(i,10)/(/%$/.test(i)?100:1),i=i*g+"px"}"border"==e&&i&&(p+="padding:0 2px;"),p+=e+":"+i+";"}}),j.fire("AfterPreviewFormats"),m.remove(f),p}var c=b.each;return{getCssText:a}}),bx(cm,[bA,bU,bL],function(h,d,k){function g(i,a){var l=j[i];l||(j[i]=l=[]),j[i].push(a)}function c(i,a){f(j[i],function(l){l(a)})}var j=[],b=h.filter,f=h.each;return g("pre",function(n){function m(i){return q(i.previousSibling)&&-1!=h.indexOf(e,i.previousSibling)}function p(l,i){k(i).remove(),k(l).append("<br><br>").append(i.childNodes)}var a=n.selection.getRng(),q,e;q=d.matchNodeNames("pre"),a.collapsed||(e=n.selection.getSelectedBlocks(),f(b(b(e,q),m),function(i){p(i.previousSibling,i)}))}),{postProcess:c}}),bx(cj,[bn,b4,bH,bZ,bE,ch,cm],function(g,d,j,f,c,h,b){return function(ds){function dw(k){return k.nodeType&&(k=k.nodeName),!!ds.schema.getTextBlockElements()[k.toLowerCase()]}function dD(k){return/^(TH|TD)$/.test(k.nodeName)}function dr(k){return k&&/^(IMG)$/.test(k.nodeName)}function dC(l,k){return i.getParents(l,k,i.getRoot())}function dB(k){return 1===k.nodeType&&"_mce_caret"===k.id}function dz(){dA({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return !0},onformat:function(l,k,m){dp(m,function(p,q){i.setAttrib(l,q,p)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),dp("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(k){dA(k,{block:k,remove:"all"})}),dA(ds.settings.formats)}function du(){ds.addShortcut("meta+b","bold_desc","Bold"),ds.addShortcut("meta+i","italic_desc","Italic"),ds.addShortcut("meta+u","underline_desc","Underline");for(var k=1;6>=k;k++){ds.addShortcut("access+"+k,"",["FormatBlock",!1,"h"+k])}ds.addShortcut("access+7","",["FormatBlock",!1,"p"]),ds.addShortcut("access+8","",["FormatBlock",!1,"div"]),ds.addShortcut("access+9","",["FormatBlock",!1,"address"])}function dv(k){return k?dy[k]:dy}function dA(l,k){l&&("string"!=typeof l?dp(l,function(p,m){dA(m,p)}):(k=k.length?k:[k],dp(k,function(m){m.deep===di&&(m.deep=!m.selector),m.split===di&&(m.split=!m.selector||m.inline),m.remove===di&&m.selector&&!m.inline&&(m.remove="none"),m.selector&&m.inline&&(m.mixed=!0,m.block_expand=!0),"string"==typeof m.classes&&(m.classes=m.classes.split(/\s+/))}),dy[l]=k))}function dq(k){return k&&dy[k]&&delete dy[k],dy}function dk(m,k){var p=dv(k);if(p){for(var l=0;l<p.length;l++){if(p[l].inherit===!1&&i.is(m,p[l].selector)){return !0}}}return !1}function dE(l){var k;return ds.dom.getParent(l,function(m){return k=ds.dom.getStyle(m,"text-decoration"),k&&"none"!==k}),k}function c7(l){var k;1===l.nodeType&&l.parentNode&&1===l.parentNode.nodeType&&(k=dE(l.parentNode),ds.dom.getStyle(l,"color")&&k?ds.dom.setStyle(l,"text-decoration",k):ds.dom.getStyle(l,"text-decoration")===k&&ds.dom.setStyle(l,"text-decoration",null))}function dm(F,q,k){function s(v,u){if(u=u||z,v){if(u.onformat&&u.onformat(v,u,q,k),dp(u.styles,function(y,G){i.setStyle(v,G,cW(y,q))}),u.styles){var p=i.getAttrib(v,"style");p&&v.setAttribute("data-mce-style",p)}dp(u.attributes,function(y,G){i.setAttrib(v,G,cW(y,q))}),dp(u.classes,function(y){y=cW(y,q),i.hasClass(v,y)||i.addClass(v,y)})}}function m(){function y(J,K){var I=new g(K);for(k=I.prev2();k;k=I.prev2()){if(3==k.nodeType&&k.data.length>0){return k}if(k.childNodes.length>1||k==J||"BR"==k.tagName){return k}}}var H=ds.selection.getRng(),v=H.startContainer,G=H.endContainer;if(v!=G&&0===H.endOffset){var u=y(v,G),p=3==u.nodeType?u.data.length:u.childNodes.length;H.setEnd(u,p)}return H}function A(G,y,H){var p=[],v,I,u=!0;v=z.inline||z.block,I=i.create(v),s(I),cY.walk(G,function(L){function J(P){var N,O,R,M,Q;return Q=u,N=P.nodeName.toLowerCase(),O=P.parentNode.nodeName.toLowerCase(),1===P.nodeType&&c5(P)&&(Q=u,u="true"===c5(P),M=!0),c9(N,"br")?(K=0,void (z.block&&i.remove(P))):z.wrapper&&c4(P,F,q)?void (K=0):u&&!M&&z.block&&!z.wrapper&&dw(N)&&c2(O,v)?(P=i.rename(P,v),s(P),p.push(P),void (K=0)):z.selector&&(dp(E,function(S){return"collapsed" in S&&S.collapsed!==x?void 0:i.is(P,S.selector)&&!dB(P)?(s(P,S),R=!0,!1):void 0}),!z.inline||R)?void (K=0):void (!u||M||!c2(v,N)||!c2(O,v)||!H&&3===P.nodeType&&1===P.nodeValue.length&&65279===P.nodeValue.charCodeAt(0)||dB(P)||z.inline&&cZ(P)?(K=0,dp(c8(P.childNodes),J),M&&(u=Q),K=0):(K||(K=i.clone(I,a),P.parentNode.insertBefore(K,P),p.push(K)),K.appendChild(P)))}var K;dp(L,J)}),z.links===!0&&dp(p,function(K){function J(L){"A"===L.nodeName&&s(L,z),dp(c8(L.childNodes),J)}J(K)}),dp(p,function(L){function K(O){var N=0;return dp(O.childNodes,function(P){cT(P)||dd(P)||N++}),N}function M(O){var N,P;return dp(O.childNodes,function(Q){return 1!=Q.nodeType||dd(Q)||dB(Q)?void 0:(N=Q,a)}),N&&!dd(N)&&da(N,z)&&(P=i.clone(N,a),s(P),i.replace(P,O,dl),i.remove(N,1)),P||O}var J;if(J=K(L),(p.length>1||!cZ(L))&&0===J){return void i.remove(L,1)}if(z.inline||z.wrapper){if(z.exact||1!==J||(L=M(L)),dp(E,function(N){dp(i.select(N.inline,L),function(O){dd(O)||c3(N,q,O,N.exact?O:null)})}),c4(L.parentNode,F,q)){return i.remove(L,1),L=0,dl}z.merge_with_parents&&i.getParent(L.parentNode,function(N){return c4(N,F,q)?(i.remove(L,1),L=0,dl):void 0}),L&&z.merge_siblings!==!1&&(L=r(at(L),L),L=r(L,at(L,dl)))}})}var E=dv(F),z=E[0],w,l,x=!k&&n.isCollapsed();if("false"!==c5(n.getNode())){if(z){if(k){k.nodeType?(l=i.createRng(),l.setStartBefore(k),l.setEndAfter(k),A(cU(l,E),null,!0)):A(k,null,!0)}else{if(x&&z.inline&&!i.select("td[data-mce-selected],th[data-mce-selected]").length){dc("apply",F,q)}else{var D=ds.selection.getNode();cS||!E[0].defaultBlock||i.getParent(D,i.isBlock)||dm(E[0].defaultBlock),ds.selection.setRng(m()),w=n.getBookmark(),A(cU(n.getRng(dl),E),w),z.styles&&(z.styles.color||z.styles.textDecoration)&&(df(D,c7,"childNodes"),c7(D)),n.moveToBookmark(w),dt(n.getRng(dl)),ds.nodeChanged()}}b.postProcess(F,ds)}}else{k=n.getNode();for(var C=0,B=E.length;B>C;C++){if(E[C].ceFalseOverride&&i.is(k,E[C].selector)){return void s(k,E[C])}}}}function dn(F,L,w,k){function A(v){var y,u,x,l,p;if(1===v.nodeType&&c5(v)&&(l=G,G="true"===c5(v),p=!0),y=c8(v.childNodes),G&&!p){for(u=0,x=B.length;x>u&&!c3(B[u],L,v,v);u++){}}if(q.deep&&y.length){for(u=0,x=y.length;x>u;u++){A(y[u])}p&&(G=l)}}function s(p){var l;return dp(dC(p.parentNode).reverse(),function(v){var u;l||"_start"==v.id||"_end"==v.id||(u=c4(v,F,L,k),u&&u.split!==!1&&(l=v))}),l}function I(M,x,p,C){var v,O,Q,y,N,P;if(M){for(P=M.parentNode,v=x.parentNode;v&&v!=P;v=v.parentNode){for(O=i.clone(v,a),N=0;N<B.length;N++){if(c3(B[N],L,O,O)){O=0;break}}O&&(Q&&O.appendChild(Q),y||(y=O),Q=O)}!C||q.mixed&&cZ(M)||(x=i.split(M,x)),Q&&(p.parentNode.insertBefore(Q,p),y.appendChild(p))}return x}function z(l){return I(s(l),l,l,!0)}function K(p){var l=i.get(p?"_start":"_end"),u=l[p?"firstChild":"lastChild"];return dd(u)&&(u=u[p?"firstChild":"lastChild"]),3==u.nodeType&&0===u.data.length&&(u=p?l.previousSibling||l.nextSibling:l.nextSibling||l.previousSibling),i.remove(l,!0),u}function E(u){var l,v,p=u.commonAncestorContainer;if(u=cU(u,B,dl),q.split){if(l=t(u,dl),v=t(u),l!=v){if(/^(TR|TH|TD)$/.test(l.nodeName)&&l.firstChild&&(l="TR"==l.nodeName?l.firstChild.firstChild||l:l.firstChild||l),p&&/^T(HEAD|BODY|FOOT|R)$/.test(p.nodeName)&&dD(v)&&v.firstChild&&(v=v.firstChild||v),i.isChildOf(l,v)&&!cZ(v)&&!dD(l)&&!dD(v)){return l=c1(l,"span",{id:"_start","data-mce-type":"bookmark"}),z(l),void (l=K(dl))}l=c1(l,"span",{id:"_start","data-mce-type":"bookmark"}),v=c1(v,"span",{id:"_end","data-mce-type":"bookmark"}),z(l),z(v),l=K(dl),v=K()}else{l=v=z(l)}u.startContainer=l.parentNode?l.parentNode:l,u.startOffset=e(l),u.endContainer=v.parentNode?v.parentNode:v,u.endOffset=e(v)+1}cY.walk(u,function(x){dp(x,function(y){A(y),1===y.nodeType&&"underline"===ds.dom.getStyle(y,"text-decoration")&&y.parentNode&&"underline"===dE(y.parentNode)&&c3({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,y)})})}var B=dv(F),q=B[0],D,J,G=!0;if(w){return void (w.nodeType?(J=i.createRng(),J.setStartBefore(w),J.setEndAfter(w),E(J)):E(w))}if("false"!==c5(n.getNode())){n.isCollapsed()&&q.inline&&!i.select("td[data-mce-selected],th[data-mce-selected]").length?dc("remove",F,L,k):(D=n.getBookmark(),E(n.getRng(dl)),n.moveToBookmark(D),q.inline&&dH(F,L,n.getStart())&&dt(n.getRng(!0)),ds.nodeChanged())}else{w=n.getNode();for(var m=0,H=B.length;H>m&&(!B[m].ceFalseOverride||!c3(B[m],L,w,w));m++){}}}function cV(m,k,p){var l=dv(m);!dH(m,k,p)||"toggle" in l[0]&&!l[0].toggle?dm(m,k,p):dn(m,k,p)}function c4(v,x,p,k){function u(E,C,B){var F,A,D=C[B],z;if(C.onmatch){return C.onmatch(E,C,B)}if(D){if(D.length===di){for(F in D){if(D.hasOwnProperty(F)){if(A="attributes"===B?i.getAttrib(E,F):c6(E,F),k&&!A&&!C.exact){return}if((!k||C.exact)&&!c9(A,cX(cW(D[F],p),F))){return}}}}else{for(z=0;z<D.length;z++){if("attributes"===B?i.getAttrib(E,D[z]):c6(E,D[z])){return C}}}}return C}var m=dv(x),w,y,q;if(m&&v){for(y=0;y<m.length;y++){if(w=m[y],da(v,w)&&u(v,w,"attributes")&&u(v,w,"styles")){if(q=w.classes){for(y=0;y<q.length;y++){if(!i.hasClass(v,q[y])){return}}}return w}}}}function dH(p,l,q){function m(u){var s=i.getRoot();return u===s?!1:(u=i.getParent(u,function(v){return dk(v,p)?!0:v.parentNode===s||!!c4(v,p,l,!0)}),c4(u,p,l))}var k;return q?m(q):(q=n.getNode(),m(q)?dl:(k=n.getStart(),k!=q&&m(k)?dl:a))}function bt(p,l){var q,m=[],k={};return q=n.getStart(),i.getParent(q,function(v){var u,s;for(u=0;u<p.length;u++){s=p[u],!k[s]&&c4(v,s,l)&&(k[s]=!0,m.push(s))}},i.getRoot()),m}function dx(q){var m=dv(q),u,p,l,s,k;if(m){for(u=n.getStart(),p=dC(u),s=m.length-1;s>=0;s--){if(k=m[s].selector,!k||m[s].defaultBlock){return dl}for(l=p.length-1;l>=0;l--){if(i.is(p[l],k)){return dl}}}}return a}function be(m,k,p){var l;return dg||(dg={},l={},ds.on("NodeChange",function(s){var q=dC(s.element),u={};q=c.grep(q,function(v){return 1==v.nodeType&&!v.getAttribute("data-mce-bogus")}),dp(dg,function(w,v){dp(q,function(x){return c4(x,v,{},w.similar)?(l[v]||(dp(w,function(y){y(!0,{node:x,format:v,parents:q})}),l[v]=w),u[v]=w,!1):dk(x,v)?!1:void 0})}),dp(l,function(v,w){u[w]||(delete l[w],dp(v,function(x){x(!1,{node:s.element,format:w,parents:q})}))})})),dp(m.split(","),function(q){dg[q]||(dg[q]=[],dg[q].similar=p),dg[q].push(k)}),this}function ct(k){return h.getCssText(ds,k)}function da(l,k){return c9(l,k.inline)?dl:c9(l,k.block)?dl:k.selector?1==l.nodeType&&i.is(l,k.selector):void 0}function c9(l,k){return l=l||"",k=k||"",l=""+(l.nodeName||l),k=""+(k.nodeName||k),l.toLowerCase()==k.toLowerCase()}function c6(l,k){return cX(i.getStyle(l,k),k)}function cX(l,k){return"color"!=k&&"backgroundColor"!=k||(l=i.toHex(l)),"fontWeight"==k&&700==l&&(l="bold"),"fontFamily"==k&&(l=l.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+l}function cW(l,k){return"string"!=typeof l?l=l(k):k&&(l=l.replace(/%(\w+)/g,function(m,p){return k[p]||m})),l}function cT(k){return k&&3===k.nodeType&&/^([\t \r\n]+|)$/.test(k.nodeValue)}function c1(m,k,p){var l=i.create(k,p);return m.parentNode.insertBefore(l,m),l.appendChild(m),l}function cU(I,s,k){function x(J){function u(L){return"BR"==L.nodeName&&L.getAttribute("data-mce-bogus")&&!L.nextSibling}var y,p,K,m,v;if(y=p=J?A:E,m=J?"previousSibling":"nextSibling",v=i.getRoot(),3==y.nodeType&&!cT(y)&&(J?G>0:D<y.nodeValue.length)){return y}for(;;){if(!s[0].block_expand&&cZ(p)){return p}for(K=p[m];K;K=K[m]){if(!dd(K)&&!cT(K)&&!u(K)){return p}}if(p==v||p.parentNode==v){y=p;break}p=p.parentNode}return y}function q(p,m){for(m===di&&(m=3===p.nodeType?p.length:p.childNodes.length);p&&p.hasChildNodes();){p=p.childNodes[m],p&&(m=3===p.nodeType?p.length:p.childNodes.length)}return{node:p,offset:m}}function F(p){for(var m=p;m;){if(1===m.nodeType&&c5(m)){return"false"===c5(m)?m:p}m=m.parentNode}return p}function C(J,M,y){function K(O,N){var Q,P,u=O.nodeValue;return"undefined"==typeof N&&(N=y?u.length:0),y?(Q=u.lastIndexOf(" ",N),P=u.lastIndexOf("\xa0",N),Q=Q>P?Q:P,-1===Q||k||Q++):(Q=u.indexOf(" ",N),P=u.indexOf("\xa0",N),Q=-1!==Q&&(-1===P||P>Q)?Q:P),Q}var p,m,L,v;if(3===J.nodeType){if(L=K(J,M),-1!==L){return{container:J,offset:L}}v=J}for(p=new g(J,i.getParent(J,cZ)||ds.getBody());m=p[y?"prev":"next"]();){if(3===m.nodeType){if(v=m,L=K(m),-1!==L){return{container:m,offset:L}}}else{if(cZ(m)){break}}}return v?(M=y?0:v.length,{container:v,offset:M}):void 0}function H(y,v){var p,J,m,u;for(3==y.nodeType&&0===y.nodeValue.length&&y[v]&&(y=y[v]),p=dC(y),J=0;J<p.length;J++){for(m=0;m<s.length;m++){if(u=s[m],!("collapsed" in u&&u.collapsed!==I.collapsed)&&i.is(p[J],u.selector)){return p[J]}}}return y}function B(v,p){var u,m=i.getRoot();if(s[0].wrapper||(u=i.getParent(v,s[0].block,m)),u||(u=i.getParent(3==v.nodeType?v.parentNode:v,function(y){return y!=m&&dw(y)})),u&&s[0].wrapper&&(u=dC(u,"ul,ol").reverse()[0]||u),!u){for(u=v;u[p]&&!cZ(u[p])&&(u=u[p],!c9(u,"br"));){}}return u||v}var z,l,w,A=I.startContainer,G=I.startOffset,E=I.endContainer,D=I.endOffset;if(1==A.nodeType&&A.hasChildNodes()&&(z=A.childNodes.length-1,A=A.childNodes[G>z?z:G],3==A.nodeType&&(G=0)),1==E.nodeType&&E.hasChildNodes()&&(z=E.childNodes.length-1,E=E.childNodes[D>z?z:D-1],3==E.nodeType&&(D=E.nodeValue.length)),A=F(A),E=F(E),(dd(A.parentNode)||dd(A))&&(A=dd(A)?A:A.parentNode,A=A.nextSibling||A,3==A.nodeType&&(G=0)),(dd(E.parentNode)||dd(E))&&(E=dd(E)?E:E.parentNode,E=E.previousSibling||E,3==E.nodeType&&(D=E.length)),s[0].inline&&(I.collapsed&&(w=C(A,G,!0),w&&(A=w.container,G=w.offset),w=C(E,D),w&&(E=w.container,D=w.offset)),l=q(E,D),l.node)){for(;l.node&&0===l.offset&&l.node.previousSibling;){l=q(l.node.previousSibling)}l.node&&l.offset>0&&3===l.node.nodeType&&" "===l.node.nodeValue.charAt(l.offset-1)&&l.offset>1&&(E=l.node,E.splitText(l.offset-1))}return(s[0].inline||s[0].block_expand)&&(s[0].inline&&3==A.nodeType&&0!==G||(A=x(!0)),s[0].inline&&3==E.nodeType&&D!==E.nodeValue.length||(E=x())),s[0].selector&&s[0].expand!==a&&!s[0].inline&&(A=H(A,"previousSibling"),E=H(E,"nextSibling")),(s[0].block||s[0].selector)&&(A=B(A,"previousSibling"),E=B(E,"nextSibling"),s[0].block&&(cZ(A)||(A=x(!0)),cZ(E)||(E=x()))),1==A.nodeType&&(G=e(A),A=A.parentNode),1==E.nodeType&&(D=e(E)+1,E=E.parentNode),{startContainer:A,startOffset:G,endContainer:E,endOffset:D}}function c0(l,k){return k.links&&"A"==l.tagName}function c3(q,m,u,p){var l,s,k;if(!da(u,q)&&!c0(u,q)){return a}if("all"!=q.remove){for(dp(q.styles,function(v,w){v=cX(cW(v,m),w),"number"==typeof w&&(w=v,p=0),(q.remove_similar||!p||c9(c6(p,w),v))&&i.setStyle(u,w,""),k=1}),k&&""===i.getAttrib(u,"style")&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),dp(q.attributes,function(w,v){var x;if(w=cW(w,m),"number"==typeof v&&(v=w,p=0),!p||c9(i.getAttrib(p,v),w)){if("class"==v&&(w=i.getAttrib(u,v),w&&(x="",dp(w.split(/\s+/),function(y){/mce\-\w+/.test(y)&&(x+=(x?" ":"")+y)}),x))){return void i.setAttrib(u,v,x)}"class"==v&&u.removeAttribute("className"),o.test(v)&&u.removeAttribute("data-mce-"+v),u.removeAttribute(v)}}),dp(q.classes,function(v){v=cW(v,m),p&&!i.hasClass(p,v)||i.removeClass(u,v)}),s=i.getAttribs(u),l=0;l<s.length;l++){if(0!==s[l].nodeName.indexOf("_")){return a}}}return"none"!=q.remove?(dj(u,q),dl):void 0}function dj(p,l){function q(u,s,v){return u=at(u,s,v),!u||"BR"==u.nodeName||cZ(u)}var m=p.parentNode,k;l.block&&(cS?m==i.getRoot()&&(l.list_block&&c9(p,l.list_block)||dp(c8(p.childNodes),function(s){c2(cS,s.nodeName.toLowerCase())?k?k.appendChild(s):(k=c1(s,cS),i.setAttribs(k,ds.settings.forced_root_block_attrs)):k=0})):cZ(p)&&!cZ(m)&&(q(p,a)||q(p.firstChild,dl,1)||p.insertBefore(i.create("br"),p.firstChild),q(p,dl)||q(p.lastChild,a,1)||p.appendChild(i.create("br")))),l.selector&&l.inline&&!c9(l.inline,p)||i.remove(p,1)}function at(l,k,m){if(l){for(k=k?"nextSibling":"previousSibling",l=m?l:l[k];l;l=l[k]){if(1==l.nodeType||!cT(l)){return l}}}}function r(p,m){function s(v,u){for(l=v;l;l=l[u]){if(3==l.nodeType&&0!==l.nodeValue.length){return v}if(1==l.nodeType&&!dd(l)){return l}}return v}var l,q,k=new f(i);if(p&&m&&(p=s(p,"previousSibling"),m=s(m,"nextSibling"),k.compare(p,m))){for(l=p.nextSibling;l&&l!=m;){q=l,l=l.nextSibling,p.appendChild(q)}return i.remove(m),dp(c8(m.childNodes),function(u){p.appendChild(u)}),p}return m}function t(l,q){var m,k,p;return m=l[q?"startContainer":"endContainer"],k=l[q?"startOffset":"endOffset"],1==m.nodeType&&(p=m.childNodes.length-1,!q&&k&&k--,m=m.childNodes[k>p?p:k]),3===m.nodeType&&q&&k>=m.nodeValue.length&&(m=new g(m,ds.getBody()).next()||m),3!==m.nodeType||q||0!==k||(m=new g(m,ds.getBody()).prev()||m),m}function dc(E,q,k,s){function m(u){var p=i.create("span",{id:x,"data-mce-bogus":!0,style:C?"color:red":""});return u&&p.appendChild(ds.getDoc().createTextNode(dF)),p}function B(u,p){for(;u;){if(3===u.nodeType&&u.nodeValue!==dF||u.childNodes.length>1){return !1}p&&1===u.nodeType&&p.push(u),u=u.firstChild}return !0}function A(p){for(;p;){if(p.id===x){return p}p=p.parentNode}}function D(p){var u;if(p){for(u=new g(p,p),p=u.current();p;p=u.next()){if(3===p.nodeType){return p}}}}function z(v,p){var F,u;if(v){u=n.getRng(!0),B(v)?(p!==!1&&(u.setStartBefore(v),u.setEndBefore(v)),i.remove(v)):(F=D(v),F.nodeValue.charAt(0)===dF&&(F.deleteData(0,1),u.startContainer==F&&u.startOffset>0&&u.setStart(F,u.startOffset-1),u.endContainer==F&&u.endOffset>0&&u.setEnd(F,u.endOffset-1)),i.remove(v,1)),n.setRng(u)}else{if(v=A(n.getStart()),!v){for(;v=i.get(x);){z(v,!1)}}}}function y(){var H,F,v,u,G,p,I;H=n.getRng(!0),u=H.startOffset,p=H.startContainer,I=p.nodeValue,F=A(n.getStart()),F&&(v=D(F)),I&&u>0&&u<I.length&&/\w/.test(I.charAt(u))&&/\w/.test(I.charAt(u-1))?(G=n.getBookmark(),H.collapse(!0),H=cU(H,dv(q)),H=cY.split(H),dm(q,k,H),n.moveToBookmark(G)):(F&&v.nodeValue===dF?dm(q,k,F):(F=m(!0),v=F.firstChild,H.insertNode(F),u=1,dm(q,k,F)),n.setCursorLocation(v,u))}function w(){var I=n.getRng(!0),N,L,O,K,M,J,H=[],F,v;for(N=I.startContainer,L=I.startOffset,M=N,3==N.nodeType&&(L!=N.nodeValue.length&&(K=!0),M=M.parentNode);M;){if(c4(M,q,k,s)){J=M;break}M.nextSibling&&(K=!0),H.push(M),M=M.parentNode}if(J){if(K){O=n.getBookmark(),I.collapse(!0),I=cU(I,dv(q),!0),I=cY.split(I),dn(q,k,I),n.moveToBookmark(O)}else{for(v=m(),M=v,F=H.length-1;F>=0;F--){M.appendChild(i.clone(H[F],!1)),M=M.firstChild}M.appendChild(i.doc.createTextNode(dF)),M=M.firstChild;var G=i.getParent(J,dw);G&&i.isEmpty(G)?J.parentNode.replaceChild(v,J):i.insertAfter(v,J),n.setCursorLocation(M,1),i.isEmpty(J)&&i.remove(J)}}}function l(){var p;p=A(n.getStart()),p&&!i.isEmpty(p)&&df(p,function(u){1!=u.nodeType||u.id===x||i.isEmpty(u)||i.setAttrib(u,"data-mce-bogus",null)},"childNodes")}var x="_mce_caret",C=ds.settings.caret_debug;ds._hasCaretEvents||(dh=function(){var u=[],p;if(B(A(n.getStart()),u)){for(p=u.length;p--;){i.setAttrib(u[p],"data-mce-bogus","1")}}},db=function(u){var p=u.keyCode;z(),8==p&&n.isCollapsed()&&n.getStart().innerHTML==dF&&z(A(n.getStart())),37!=p&&39!=p||z(A(n.getStart())),l()},ds.on("SetContent",function(p){p.selection&&l()}),ds._hasCaretEvents=!0),"apply"==E?y():w()}function dt(q){var x=q.startContainer,v=q.startOffset,p,w,m,u,k;if((q.startContainer!=q.endContainer||!dr(q.startContainer.childNodes[q.startOffset]))&&(3==x.nodeType&&v>=x.nodeValue.length&&(v=e(x),x=x.parentNode,p=!0),1==x.nodeType)){for(u=x.childNodes,x=u[Math.min(v,u.length-1)],w=new g(x,i.getParent(x,i.isBlock)),(v>u.length-1||p)&&w.next(),m=w.current();m;m=w.next()){if(3==m.nodeType&&!cT(m)){return k=i.create("a",{"data-mce-bogus":"all"},dF),m.parentNode.insertBefore(k,m),q.setStart(m,0),n.setRng(q),void i.remove(k)}}}}var dy={},i=ds.dom,n=ds.selection,cY=new d(i),c2=ds.schema.isValidChild,cZ=i.isBlock,cS=ds.settings.forced_root_block,e=i.nodeIndex,dF="\ufeff",o=/^(src|href|style)$/,a=!1,dl=!0,dg,di,c5=i.getContentEditable,db,dh,dd=j.isBookmarkNode,dp=c.each,c8=c.grep,df=c.walk,dG=c.extend;dG(this,{get:dv,register:dA,unregister:dq,apply:dm,remove:dn,toggle:cV,match:dH,matchAll:bt,matchNode:c4,canApply:dx,formatChanged:be,getCssText:ct}),dz(),du(),ds.on("BeforeGetContent",function(k){dh&&"raw"!=k.format&&dh()}),ds.on("mouseup keydown",function(k){db&&db(k)})}}),bx(b9,[ck,bP],function(b,a){return function(k){function g(){return k.serializer.getTrimmedContent()}function d(c){k.setDirty(c)}function j(c){f.typing=!1,f.add({},c)}var f=this,p=0,t=[],h,m,q=0;return k.on("init",function(){f.add()}),k.on("BeforeExecCommand",function(i){var c=i.command;"Undo"!=c&&"Redo"!=c&&"mceRepaint"!=c&&f.beforeChange()}),k.on("ExecCommand",function(i){var c=i.command;"Undo"!=c&&"Redo"!=c&&"mceRepaint"!=c&&j(i)}),k.on("ObjectResizeStart Cut",function(){f.beforeChange()}),k.on("SaveContent ObjectResized blur",j),k.on("DragEnd",j),k.on("KeyUp",function(e){var c=e.keyCode;e.isDefaultPrevented()||((c>=33&&36>=c||c>=37&&40>=c||45==c||13==c||e.ctrlKey)&&(j(),k.nodeChanged()),(46==c||8==c||a.mac&&(91==c||93==c))&&k.nodeChanged(),m&&f.typing&&(k.isDirty()||(d(t[0]&&g()!=t[0].content),k.isDirty()&&k.fire("change",{level:t[0],lastLevel:null})),k.fire("TypingUndo"),m=!1,k.nodeChanged()))}),k.on("KeyDown",function(i){var c=i.keyCode;if(!i.isDefaultPrevented()){if(c>=33&&36>=c||c>=37&&40>=c||45==c){return void (f.typing&&j(i))}var l=i.ctrlKey&&!i.altKey||i.metaKey;!(16>c||c>20)||224==c||91==c||f.typing||l||(f.beforeChange(),f.typing=!0,f.add({},i),m=!0)}}),k.on("MouseDown",function(c){f.typing&&j(c)}),k.addShortcut("meta+z","","Undo"),k.addShortcut("meta+y,meta+shift+z","","Redo"),k.on("AddUndo Undo Redo ClearUndos",function(c){c.isDefaultPrevented()||k.nodeChanged()}),f={data:t,typing:!1,beforeChange:function(){q||(h=k.selection.getBookmark(2,!0))},add:function(l,e){var s,u=k.settings,r;if(l=l||{},l.content=g(),q||k.removed){return null}if(r=t[p],k.fire("BeforeAddUndo",{level:l,lastLevel:r,originalEvent:e}).isDefaultPrevented()){return null}if(r&&r.content==l.content){return null}if(t[p]&&(t[p].beforeBookmark=h),u.custom_undo_redo_levels&&t.length>u.custom_undo_redo_levels){for(s=0;s<t.length-1;s++){t[s]=t[s+1]}t.length--,p=t.length}l.bookmark=k.selection.getBookmark(2,!0),p<t.length-1&&(t.length=p+1),t.push(l),p=t.length-1;var n={level:l,lastLevel:r,originalEvent:e};return k.fire("AddUndo",n),p>0&&(d(!0),k.fire("change",n)),l},undo:function(){var c;return f.typing&&(f.add(),f.typing=!1),p>0&&(c=t[--p],k.setContent(c.content,{format:"raw"}),k.selection.moveToBookmark(c.beforeBookmark),d(!0),k.fire("undo",{level:c})),c},redo:function(){var c;return p<t.length-1&&(c=t[++p],k.setContent(c.content,{format:"raw"}),k.selection.moveToBookmark(c.bookmark),d(!0),k.fire("redo",{level:c})),c},clear:function(){t=[],p=0,f.typing=!1,f.data=t,k.fire("ClearUndos")},hasUndo:function(){return p>0||f.typing&&t[0]&&g()!=t[0].content},hasRedo:function(){return p<t.length-1&&!this.typing},transact:function(c){f.beforeChange();try{q++,c()}finally{q--}return f.add()},extra:function(e,o){var l,c;f.transact(e)&&(c=t[p].bookmark,l=t[p-1],k.setContent(l.content,{format:"raw"}),k.selection.moveToBookmark(l.beforeBookmark),f.transact(o)&&(t[p-1].beforeBookmark=c))}}}}),bx(bW,[bn,b4,bP],function(c,a,d){var b=d.ie&&d.ie<11;return function(h){function e(cX){function c0(o){return o&&n.isBlock(o)&&!/^(TD|TH|CAPTION|FORM)$/.test(o.nodeName)&&!/^(fixed|absolute)/i.test(o.style.position)&&"true"!==n.getContentEditable(o)}function cW(o){return o&&/^(TD|TH|CAPTION)$/.test(o.nodeName)}function cY(v){var o;n.isBlock(v)&&(o=q.getRng(),v.appendChild(n.create("span",null,"\xa0")),q.select(v),v.lastChild.outerHTML="",q.setRng(o))}function c1(w){var o=w,x=[],v;if(o){for(;o=o.firstChild;){if(n.isBlock(o)){return}1!=o.nodeType||k[o.nodeName.toLowerCase()]||x.push(o)}for(v=x.length;v--;){o=x[v],!o.hasChildNodes()||o.firstChild==o.lastChild&&""===o.firstChild.nodeValue?n.remove(o):"A"==o.nodeName&&" "===(o.innerText||o.textContent)&&n.remove(o)}}}function bt(y){function z(o){for(;o;){if(1==o.nodeType||3==o.nodeType&&o.data&&/[\r\n\s]/.test(o.data)){return o}o=o.nextSibling}}var x,B,v,C=y,w;if(y){if(d.ie&&d.ie<9&&K&&K.firstChild&&K.firstChild==K.lastChild&&"BR"==K.firstChild.tagName&&n.remove(K.firstChild),/^(LI|DT|DD)$/.test(y.nodeName)){var A=z(y.firstChild);A&&/^(UL|OL|DL)$/.test(A.nodeName)&&y.insertBefore(n.doc.createTextNode("\xa0"),y.firstChild)}if(v=n.createRng(),d.ie||y.normalize(),y.hasChildNodes()){for(x=new c(y,y);B=x.current();){if(3==B.nodeType){v.setStart(B,0),v.setEnd(B,0);break}if(j[B.nodeName.toLowerCase()]){v.setStartBefore(B),v.setEndBefore(B);break}C=B,B=x.next()}B||(v.setStart(C,0),v.setEnd(C,0))}else{"BR"==y.nodeName?y.nextSibling&&n.isBlock(y.nextSibling)?((!u||9>u)&&(w=n.create("br"),y.parentNode.insertBefore(w,y)),v.setStartBefore(y),v.setEndBefore(y)):(v.setStartAfter(y),v.setEndAfter(y)):(v.setStart(y,0),v.setEnd(y,0))}q.setRng(v),n.remove(w),q.scrollIntoView(y)}}function Y(v){var o=g.forced_root_block;o&&o.toLowerCase()===v.tagName.toLowerCase()&&n.setAttribs(v,g.forced_root_block_attrs)}function c2(o){o.innerHTML=b?"":'<br data-mce-bogus="1">'}function cT(y){var w=cS,A,v,z,x=p.getTextInlineElements();if(y||"TABLE"==X?(A=n.create(y||f),Y(A)):A=K.cloneNode(!1),z=A,g.keep_styles!==!1){do{if(x[w.nodeName]){if("_mce_caret"==w.id){continue}v=w.cloneNode(!1),n.setAttrib(v,"id",""),A.hasChildNodes()?(v.appendChild(A.firstChild),A.appendChild(v)):(z=v,A.appendChild(v))}}while((w=w.parentNode)&&w!=cU)}return b||(z.innerHTML='<br data-mce-bogus="1">'),A}function ae(v){var x,w,o;if(3==cS.nodeType&&(v?Q>0:Q<cS.nodeValue.length)){return !1}if(cS.parentNode==K&&i&&!v){return !0}if(v&&1==cS.nodeType&&cS==K.firstChild){return !0}if("TABLE"===cS.nodeName||cS.previousSibling&&"TABLE"==cS.previousSibling.nodeName){return i&&!v||!i&&v}for(x=new c(cS,K),3==cS.nodeType&&(v&&0===Q?x.prev():v||Q!=cS.nodeValue.length||x.next());w=x.current();){if(1===w.nodeType){if(!w.getAttribute("data-mce-bogus")&&(o=w.nodeName.toLowerCase(),k[o]&&"br"!==o)){return !1}}else{if(3===w.nodeType&&!/^[ \t\r\n]*$/.test(w.nodeValue)){return !1}}v?x.prev():x.next()}return !0}function be(z,C){var x,v,w,D,y,B,A=f||"P";if(v=n.getParent(z,n.isBlock),!v||!c0(v)){if(v=v||cU,B=v==h.getBody()||cW(v)?v.nodeName.toLowerCase():v.parentNode.nodeName.toLowerCase(),!v.hasChildNodes()){return x=n.create(A),Y(x),v.appendChild(x),t.setStart(x,0),t.setEnd(x,0),x}for(D=z;D.parentNode!=v;){D=D.parentNode}for(;D&&!n.isBlock(D);){w=D,D=D.previousSibling}if(w&&p.isValidChild(B,A.toLowerCase())){for(x=n.create(A),Y(x),w.parentNode.insertBefore(x,w),D=w;D&&!n.isBlock(D);){y=D.nextSibling,x.appendChild(D),D=y}t.setStart(z,C),t.setEnd(z,C)}}return z}function J(){function v(y){for(var x=ce[y?"firstChild":"lastChild"];x&&1!=x.nodeType;){x=x[y?"nextSibling":"previousSibling"]}return x===K}function o(){var x=ce.parentNode;return/^(LI|DT|DD)$/.test(x.nodeName)?x:ce}if(ce!=h.getBody()){var w=ce.parentNode.nodeName;/^(OL|UL|LI)$/.test(w)&&(f="LI"),G=f?cT(f):n.create("BR"),v(!0)&&v()?"LI"==w?n.insertAfter(G,o()):n.replace(G,ce):v(!0)?"LI"==w?(n.insertAfter(G,o()),G.appendChild(n.doc.createTextNode(" ")),G.appendChild(ce)):ce.parentNode.insertBefore(G,ce):v()?(n.insertAfter(G,o()),cY(G)):(ce=o(),cV=t.cloneRange(),cV.setStartAfter(K),cV.setEndAfter(ce),Z=cV.extractContents(),"LI"==f&&"LI"==Z.firstChild.nodeName?(G=Z.firstChild,n.insertAfter(Z,ce)):(n.insertAfter(Z,ce),n.insertAfter(G,ce))),n.remove(K),bt(G),m.add()}}function ct(){h.execCommand("InsertLineBreak",!1,cX)}function c3(o){do{3===o.nodeType&&(o.nodeValue=o.nodeValue.replace(/^[\r\n]+/,"")),o=o.firstChild}while(o)}function s(w){var o=n.getRoot(),x,v;for(x=w;x!==o&&"false"!==n.getContentEditable(x);){"true"===n.getContentEditable(x)&&(v=x),x=x.parentNode}return x!==o?v:o}function cZ(v){var o;b||(v.normalize(),o=v.lastChild,o&&!/^(left|right)$/gi.test(n.getStyle(o,"float",!0))||n.add(v,"br"))}function r(){G=/^(H[1-6]|PRE|FIGURE)$/.test(X)&&"HGROUP"!=l?cT(f):cT(),g.end_container_on_empty_block&&c0(ce)&&n.isEmpty(K)?G=n.split(ce,K):n.insertAfter(G,K),bt(G)}var t,cV,cU,cS,Q,K,u,at,G,Z,ce,X,l,f,i;if(t=q.getRng(!0),!cX.isDefaultPrevented()){if(!t.collapsed){return void h.execCommand("Delete")}if(new a(n).normalize(t),cS=t.startContainer,Q=t.startOffset,f=(g.force_p_newlines?"p":"")||g.forced_root_block,f=f?f.toUpperCase():"",u=n.doc.documentMode,at=cX.shiftKey,1==cS.nodeType&&cS.hasChildNodes()&&(i=Q>cS.childNodes.length-1,cS=cS.childNodes[Math.min(Q,cS.childNodes.length-1)]||cS,Q=i&&3==cS.nodeType?cS.nodeValue.length:0),cU=s(cS)){if(m.beforeChange(),!n.isBlock(cU)&&cU!=n.getRoot()){return void (f&&!at||ct())}if((f&&!at||!f&&at)&&(cS=be(cS,Q)),K=n.getParent(cS,n.isBlock),ce=K?n.getParent(K.parentNode,n.isBlock):null,X=K?K.nodeName.toUpperCase():"",l=ce?ce.nodeName.toUpperCase():"","LI"!=l||cX.ctrlKey||(K=ce,X=l),/^(LI|DT|DD)$/.test(X)){if(!f&&at){return void ct()}if(n.isEmpty(K)){return void J()}}if("PRE"==X&&g.br_in_pre!==!1){if(!at){return void ct()}}else{if(!f&&!at&&"LI"!=X||f&&at){return void ct()}}f&&K===h.getBody()||(f=f||"P",ae()?r():ae(!0)?(G=K.parentNode.insertBefore(cT(),K),cY(G),bt(K)):(cV=t.cloneRange(),cV.setEndAfter(K),Z=cV.extractContents(),c3(Z),G=Z.firstChild,n.insertAfter(Z,K),c1(G),cZ(K),n.isEmpty(K)&&c2(K),G.normalize(),n.isEmpty(G)?(n.remove(G),r()):bt(G)),n.setAttrib(G,"id",""),h.fire("NewBlock",{newBlock:G}),m.add())}}}var n=h.dom,q=h.selection,g=h.settings,m=h.undoManager,p=h.schema,k=p.getNonEmptyElements(),j=p.getMoveCaretBeforeOnEnterElements();h.on("keydown",function(f){13==f.keyCode&&e(f)!==!1&&f.preventDefault()})}}),bx(a9,[],function(){return function(g){function d(){var F=c.getStart(),G=g.getBody(),k,w,E,r,q,n,e,i=-16777215,o,D,A,z,a;if(a=j.forced_root_block,F&&1===F.nodeType&&a){for(;F&&F!=G;){if(b[F.nodeName]){return}F=F.parentNode}if(k=c.getRng(),k.setStart){w=k.startContainer,E=k.startOffset,r=k.endContainer,q=k.endOffset;try{D=g.getDoc().activeElement===G}catch(B){}}else{k.item&&(F=k.item(0),k=g.getDoc().body.createTextRange(),k.moveToElementText(F)),D=k.parentElement().ownerDocument===g.getDoc(),A=k.duplicate(),A.collapse(!0),E=-1*A.move("character",i),A.collapsed||(A=k.duplicate(),A.collapse(!1),q=-1*A.move("character",i)-E)}for(F=G.firstChild,z=G.nodeName.toLowerCase();F;){if((3===F.nodeType||1==F.nodeType&&!b[F.nodeName])&&h.isValidChild(z,a.toLowerCase())){if(3===F.nodeType&&0===F.nodeValue.length){e=F,F=F.nextSibling,f.remove(e);continue}n||(n=f.create(a,g.settings.forced_root_block_attrs),F.parentNode.insertBefore(n,F),o=!0),e=F,F=F.nextSibling,n.appendChild(e)}else{n=null,F=F.nextSibling}}if(o&&D){if(k.setStart){k.setStart(w,E),k.setEnd(r,q),c.setRng(k)}else{try{k=g.getDoc().body.createTextRange(),k.moveToElementText(G),k.collapse(!0),k.moveStart("character",E),q>0&&k.moveEnd("character",q),k.select()}catch(B){}}g.nodeChanged()}}}var j=g.settings,f=g.dom,c=g.selection,h=g.schema,b=h.getBlockElements();j.forced_root_block&&g.on("NodeChange",d)}}),bx(aM,[bm,bn,bU,cH,bG,b3],function(X,H,O,K,T,M){function at(a){return a>0}function I(a){return 0>a}function Q(d,g,c,b,f){var a=new H(d,b);if(I(g)){if(J(d)&&(d=a.prev(!0),c(d))){return d}for(;d=a.prev(f);){if(c(d)){return d}}}if(at(g)){if(J(d)&&(d=a.next(!0),c(d))){return d}for(;d=a.next(f);){if(c(d)){return d}}}return null}function Z(b,a){for(b=b.parentNode;b&&b!=a;b=b.parentNode){if(ae(b)){return b}}return a}function F(b,a){for(;b&&b!=a;){if(A(b)){return b}b=b.parentNode}return null}function Y(b,a,c){return F(b.container(),c)==F(a.container(),c)}function W(b,a,c){return Z(b.container(),c)==Z(a.container(),c)}function U(c,a){var d,b;return a?(d=a.container(),b=a.offset(),G(d)?d.childNodes[b+c]:null):null}function L(b,a){var c=a.ownerDocument.createRange();return b?(c.setStartBefore(a),c.setEndBefore(a)):(c.setStartAfter(a),c.setEndAfter(a)),c}function P(b,a,c){return F(a,b)==F(c,b)}function V(d,b,f){var c,a;for(a=d?"previousSibling":"nextSibling";f&&f!=b;){if(c=f[a],B(c)&&(c=c[a]),J(c)){if(P(b,c,f)){return c}break}if(be(c)){break}f=f.parentNode}return null}function D(g,m,b){var d,i,n,f,h=q(V,!0,m),k=q(V,!1,m);if(i=b.startContainer,n=b.startOffset,T.isCaretContainerBlock(i)){if(G(i)||(i=i.parentNode),f=i.getAttribute("data-mce-caret"),"before"==f&&(d=i.nextSibling,J(d))){return j(d)}if("after"==f&&(d=i.previousSibling,J(d))){return R(d)}}if(!b.collapsed){return b}if(O.isText(i)){if(B(i)){if(1===g){if(d=k(i)){return j(d)}if(d=h(i)){return R(d)}}if(-1===g){if(d=h(i)){return R(d)}if(d=k(i)){return j(d)}}return b}if(T.endsWithCaretContainer(i)&&n>=i.data.length-1){return 1===g&&(d=k(i))?j(d):b}if(T.startsWithCaretContainer(i)&&1>=n){return -1===g&&(d=h(i))?R(d):b}if(n===i.data.length){return d=k(i),d?j(d):b}if(0===n){return d=h(i),d?R(d):b}}return b}function z(b,a){return J(U(b,a))}var ae=O.isContentEditableTrue,J=O.isContentEditableFalse,A=O.matchStyleValues("display","block table table-cell table-caption"),B=T.isCaretContainer,q=X.curry,G=O.isElement,be=M.isCaretCandidate,j=q(L,!0),R=q(L,!1);return{isForwards:at,isBackwards:I,findNode:Q,getEditingHost:Z,getParentBlock:F,isInSameBlock:Y,isInSameEditingHost:W,isBeforeContentEditableFalse:q(z,0),isAfterContentEditableFalse:q(z,-1),normalizeRange:D}}),bx(cy,[bU,b3,cH,aM,bA,bm],function(J,w,C,z,F,B){function N(b,a){for(var c=[];b&&b!=a;){c.push(b),b=b.parentNode}return c}function x(b,a){return b.hasChildNodes()&&a<b.childNodes.length?b.childNodes[a]:null}function E(b,a){if(D(b)){if(k(a.previousSibling)&&!I(a.previousSibling)){return C.before(a)}if(I(a)){return C(a,0)}}if(H(b)){if(k(a.nextSibling)&&!I(a.nextSibling)){return C.after(a)}if(I(a)){return C(a,a.data.length)}}return H(b)?A(a)?C.before(a):C.after(a):C.before(a)}function L(b,a){var c;return J.isBr(b)?(c=q(1,C.after(b),a),c?!z.isInSameBlock(C.before(b),C.before(c),a):!1):!1}function q(f,l,b){var a,g,h,d,m,i,c;if(!G(b)||!l){return null}if(c=l,a=c.container(),g=c.offset(),I(a)){if(H(f)&&g>0){return C(a,--g)}if(D(f)&&g<a.length){return C(a,++g)}h=a}else{if(H(f)&&g>0&&(d=x(a,g-1),k(d))){return !j(d)&&(m=z.findNode(d,f,M,d))?I(m)?C(m,m.data.length):C.after(m):I(d)?C(d,d.data.length):C.before(d)}if(D(f)&&g<a.childNodes.length&&(d=x(a,g),k(d))){return L(d,b)?q(f,C.after(d),b):!j(d)&&(m=z.findNode(d,f,M,d))?I(m)?C(m,0):C.before(m):I(d)?C(d,0):C.after(d)}h=c.getNode()}return(D(f)&&c.isAtEnd()||H(f)&&c.isAtStart())&&(h=z.findNode(h,f,B.constant(!0),b,!0),M(h))?E(f,h):(d=z.findNode(h,f,M,b),i=F.last(F.filter(N(a,b),K)),!i||d&&i.contains(d)?d?E(f,d):null:c=D(f)?C.after(i):C.before(i))}var K=J.isContentEditableFalse,I=J.isText,G=J.isElement,A=J.isBr,D=z.isForwards,H=z.isBackwards,k=w.isCaretCandidate,j=w.isAtomic,M=w.isEditableCaretCandidate;return function(a){return{next:function(b){return q(1,b,a)},prev:function(b){return q(-1,b,a)}}}}),bx(a4,[bE,cy,cH],function(G,k,z){var w=function(c){var a=c.firstChild,d=c.lastChild;return a&&"meta"===a.name&&(a=a.next),d&&"mce_marker"===d.attr("id")&&(d=d.prev),a&&a===d?"ul"===a.name||"ol"===a.name:!1},C=function(c){var a=c.firstChild,d=c.lastChild;return a&&"META"===a.nodeName&&a.parentNode.removeChild(a),d&&"mce_marker"===d.id&&d.parentNode.removeChild(d),c},y=function(d,a,g){var c=a.serialize(g),f=d.createFragment(c);return C(f)},J=function(a){return G.grep(a.childNodes,function(c){return"LI"===c.nodeName})},q=function(a){return !a.firstChild},B=function(a){return a.length>0&&q(a[a.length-1])?a.slice(0,-1):a},I=function(c,a){var d=c.getParent(a,c.isBlock);return d&&"LI"===d.nodeName?d:null},j=function(c,a){return !!I(c,a)},H=function(d,a){var f=a.cloneRange(),c=a.cloneRange();return f.setStartBefore(d),c.setEndAfter(d),[f.cloneContents(),c.cloneContents()]},F=function(g,f){var d=z.before(g),h=new k(f),c=h.next(d);return c?c.toRange():null},D=function(g,f){var d=z.after(g),h=new k(f),c=h.prev(d);return c?c.toRange():null},x=function(e,h,f,d){var g=H(e,d),c=e.parentNode;return c.insertBefore(g[0],e),G.each(h,function(a){c.insertBefore(a,e)}),c.insertBefore(g[1],e),c.removeChild(e),D(h[h.length-1],f)},A=function(c,e,d){var a=c.parentNode;return G.each(e,function(f){a.insertBefore(f,c)}),F(c,d)},E=function(d,a,f,c){return c.insertAfter(a.reverse(),d),D(a[0],f)},b=function(m,a,c,L){var K=y(a,m,L),n=I(a,c.startContainer),l=B(J(K.firstChild)),g=1,t=2,p=a.getRoot(),o=function(h){var i=z.fromRangeStart(c),d=new k(a.getRoot()),f=h===g?d.prev(i):d.next(i);return f?I(a,f.getNode())!==n:!0};return o(g)?A(n,l,p):o(t)?E(n,l,p,a):x(n,l,p,c)};return{isListFragment:w,insertAtCaret:b,isParentBlockLi:j,trimListItems:B,listItems:J}}),bx(aC,[bP,bE,ca,cy,cH,bZ,bU,a4],function(k,w,g,b,j,f,q,x){var h=q.matchNodeNames("td th"),p=function(ct,bt,J){function be(u){function c(A){return d[A]&&3==d[A].nodeType}var y,d,a;return y=O.getRng(!0),d=y.startContainer,a=y.startOffset,3==d.nodeType&&(a>0?u=u.replace(/^&nbsp;/," "):c("previousSibling")||(u=u.replace(/^ /,"&nbsp;")),a<d.length?u=u.replace(/&nbsp;(<br>|)$/," "):c("nextSibling")||(u=u.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),u}function at(){var c,a,d;c=O.getRng(!0),a=c.startContainer,d=c.startOffset,3==a.nodeType&&c.collapsed&&("\xa0"===a.data[d]?(a.deleteData(d,1),/[\u00a0| ]$/.test(bt)||(bt+=" ")):"\xa0"===a.data[d-1]&&(a.deleteData(d-1,1),/[\u00a0| ]$/.test(bt)||(bt=" "+bt)))}function Z(){if(V){var a=ct.getBody(),c=new f(s);w.each(s.select("*[data-mce-fragment]"),function(d){for(var u=d.parentNode;u&&u!=a;u=u.parentNode){U[d.nodeName.toLowerCase()]&&c.compare(u,d)&&s.remove(d,!0)}})}}function W(c){for(var a=c;a=a.walk();){1===a.type&&a.attr("data-mce-fragment","1")}}function X(a){w.each(a.getElementsByTagName("*"),function(c){c.removeAttribute("data-mce-fragment")})}function ae(a){return !!a.getAttribute("data-mce-fragment")}function I(a){return a&&!ct.schema.getShortEndedElements()[a.nodeName]}function t(d){function C(u){for(var c=ct.getBody();u&&u!==c;u=u.parentNode){if("false"===ct.dom.getContentEditable(u)){return u}}return null}function A(u){var c=j.fromRangeStart(u),D=new b(ct.getBody());return c=D.next(c),c?c.toRange():void 0}var y,B,a;if(d){if(O.scrollIntoView(d),y=C(d)){return s.remove(d),void O.select(y)}i=s.createRng(),Y=d.previousSibling,Y&&3==Y.nodeType?(i.setStart(Y,Y.nodeValue.length),k.ie||(e=d.nextSibling,e&&3==e.nodeType&&(Y.appendData(e.data),e.parentNode.removeChild(e)))):(i.setStartBefore(d),i.setEndBefore(d)),B=s.getParent(d,s.isBlock),s.remove(d),B&&s.isEmpty(B)&&(ct.$(B).empty(),i.setStart(B,0),i.setEnd(B,0),h(B)||ae(B)||!(a=A(i))?s.add(B,s.create("br",{"data-mce-bogus":"1"})):(i=a,s.remove(B))),O.setRng(i)}}var ce,Q,z,G,o,K,cS,i,Y,e,l,V,U=ct.schema.getTextInlineElements(),O=ct.selection,s=ct.dom;/^ | $/.test(bt)&&(bt=be(bt)),ce=ct.parser,V=J.merge,Q=new g({validate:ct.settings.validate},ct.schema),l='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',K={content:bt,format:"html",selection:!0},ct.fire("BeforeSetContent",K),bt=K.content,-1==bt.indexOf("{$caret}")&&(bt+="{$caret}"),bt=bt.replace(/\{\$caret\}/,l),i=O.getRng();var r=i.startContainer||(i.parentElement?i.parentElement():null),n=ct.getBody();r===n&&O.isCollapsed()&&s.isBlock(n.firstChild)&&I(n.firstChild)&&s.isEmpty(n.firstChild)&&(i=s.createRng(),i.setStart(n.firstChild,0),i.setEnd(n.firstChild,0),O.setRng(i)),O.isCollapsed()||(ct.selection.setRng(ct.selection.getRng()),ct.getDoc().execCommand("Delete",!1,null),at()),z=O.getNode();var F={context:z.nodeName.toLowerCase(),data:J.data};if(o=ce.parse(bt,F),J.paste===!0&&x.isListFragment(o)&&x.isParentBlockLi(s,z)){return i=x.insertAtCaret(Q,s,ct.selection.getRng(!0),o),ct.selection.setRng(i),void ct.fire("SetContent",K)}if(W(o),Y=o.lastChild,"mce_marker"==Y.attr("id")){for(cS=Y,Y=Y.prev;Y;Y=Y.walk(!0)){if(3==Y.type||!s.isBlock(Y.name)){ct.schema.isValidChild(Y.parent.name,"span")&&Y.parent.insert(cS,Y,"br"===Y.name);break}}}if(ct._selectionOverrides.showBlockCaretContainer(z),F.invalid){for(O.setContent(l),z=O.getNode(),G=ct.getBody(),9==z.nodeType?z=Y=G:Y=z;Y!==G;){z=Y,Y=Y.parentNode}bt=z==G?G.innerHTML:s.getOuterHTML(z),bt=Q.serialize(ce.parse(bt.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return Q.serialize(o)}))),z==G?s.setHTML(G,bt):s.setOuterHTML(z,bt)}else{bt=Q.serialize(o),Y=z.firstChild,e=z.lastChild,!Y||Y===e&&"BR"===Y.nodeName?s.setHTML(z,bt):O.setContent(bt)}Z(),t(s.get("mce_marker")),X(ct.getBody()),ct.fire("SetContent",K),ct.addVisual()},v=function(a){var c;return"string"!=typeof a?(c=w.extend({paste:a.paste,data:{paste:a.paste}},a),{content:a.content,details:c}):{content:a,details:{}}},m=function(c,a){var d=v(a);p(c,d.content,d.details)};return{insertAtCaret:m}}),bx(bV,[bP,bE,b4,bn,aC],function(t,j,b,m,g){var x=j.each,z=j.extend,k=j.map,w=j.inArray,y=j.explode,v=t.ie&&t.ie<11,q=!0,p=!1;return function(I){function H(E,B,D,A){var L,C,n=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(E)||A&&A.skip_focus||I.focus(),A=I.fire("BeforeExecCommand",{command:E,ui:B,value:D}),A.isDefaultPrevented()){return !1}if(C=E.toLowerCase(),L=F.exec[C]){return L(C,B,D),I.fire("ExecCommand",{command:E,ui:B,value:D}),!0}if(x(I.plugins,function(Q){return Q.execCommand&&Q.execCommand(E,B,D)?(I.fire("ExecCommand",{command:E,ui:B,value:D}),n=!0,!1):void 0}),n){return n}if(I.theme&&I.theme.execCommand&&I.theme.execCommand(E,B,D)){return I.fire("ExecCommand",{command:E,ui:B,value:D}),!0}try{n=I.getDoc().execCommand(E,B,D)}catch(N){}return n?(I.fire("ExecCommand",{command:E,ui:B,value:D}),!0):!1}function J(B){var n;if(!I.quirks.isHidden()){if(B=B.toLowerCase(),n=F.state[B]){return n(B)}try{return I.getDoc().queryCommandState(B)}catch(A){}return !1}}function M(B){var n;if(!I.quirks.isHidden()){if(B=B.toLowerCase(),n=F.value[B]){return n(B)}try{return I.getDoc().queryCommandValue(B)}catch(A){}}}function o(A,n){n=n||"exec",x(A,function(B,C){x(C.toLowerCase().split(","),function(D){F[n][D]=B})})}function h(B,n,A){B=B.toLowerCase(),F.exec[B]=function(E,D,L,C){return n.call(A||I,D,L,C)}}function O(A){if(A=A.toLowerCase(),F.exec[A]){return !0}try{return I.getDoc().queryCommandSupported(A)}catch(n){}return !1}function u(B,n,A){B=B.toLowerCase(),F.state[B]=function(){return n.call(A||I)}}function i(B,n,A){B=B.toLowerCase(),F.value[B]=function(){return n.call(A||I)}}function l(n){return n=n.toLowerCase(),!!F.exec[n]}function e(B,A,n){return A===bv&&(A=p),n===bv&&(n=null),I.getDoc().execCommand(B,A,n)}function r(n){return G.match(n)}function P(A,n){G.toggle(A,n?{value:n}:bv),I.nodeChanged()}function c(n){f=d.getBookmark(n)}function K(){d.moveToBookmark(f)}var a,d,G,F={state:{},exec:{},value:{}},s=I.settings,f;I.on("PreInit",function(){a=I.dom,d=I.selection,s=I.settings,G=I.formatter}),z(this,{execCommand:H,queryCommandState:J,queryCommandValue:M,queryCommandSupported:O,addCommands:o,addCommand:h,addQueryStateHandler:u,addQueryValueHandler:i,hasCustomCommand:l}),o({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){I.undoManager.add()},"Cut,Copy,Paste":function(B){var C=I.getDoc(),A;try{e(B)}catch(D){A=q}if("paste"!==B||C.queryCommandEnabled(B)||(A=!0),A||!C.queryCommandSupported(B)){var n=I.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");t.mac&&(n=n.replace(/Ctrl\+/g,"\u2318+")),I.notificationManager.open({text:n,type:"error"})}},unlink:function(){if(d.isCollapsed()){var n=d.getNode();return void ("A"==n.tagName&&I.dom.remove(n,!0))}G.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(A){var n=A.substring(7);"full"==n&&(n="justify"),x("left,center,right,justify".split(","),function(B){n!=B&&G.remove("align"+B)}),"none"!=n&&P("align"+n)},"InsertUnorderedList,InsertOrderedList":function(B){var A,C;e(B),A=a.getParent(d.getNode(),"ol,ul"),A&&(C=A.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(C.nodeName)&&(c(),a.split(C,A),K()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){P(n)},"ForeColor,HiliteColor,FontName":function(B,A,C){P(B,C)},FontSize:function(D,B,E){var C,A;E>=1&&7>=E&&(A=y(s.font_size_style_values),C=y(s.font_size_classes),E=C?C[E-1]||E:A[E-1]||E),P(D,E)},RemoveFormat:function(n){G.remove(n)},mceBlockQuote:function(){P("blockquote")},FormatBlock:function(B,A,C){return P(C||"p")},mceCleanup:function(){var n=d.getBookmark();I.setContent(I.getContent({cleanup:q}),{cleanup:q}),d.moveToBookmark(n)},mceRemoveNode:function(C,A,B){var n=B||d.getNode();n!=I.getBody()&&(c(),I.dom.remove(n,q),K())},mceSelectNodeDepth:function(C,A,B){var n=0;a.getParent(d.getNode(),function(D){return 1==D.nodeType&&n++==B?(d.select(D),p):void 0},I.getBody())},mceSelectNode:function(B,A,C){d.select(C)},mceInsertContent:function(B,n,A){g.insertAtCaret(I,A)},mceInsertRawHTML:function(B,n,A){d.setContent("tiny_mce_marker"),I.setContent(I.getContent().replace(/tiny_mce_marker/g,function(){return A}))},mceToggleFormat:function(B,A,C){P(C)},mceSetContent:function(B,n,A){I.setContent(A)},"Indent,Outdent":function(C){var A,B,n;A=s.indentation,B=/[a-z%]+$/i.exec(A),A=parseInt(A,10),J("InsertUnorderedList")||J("InsertOrderedList")?e(C):(s.forced_root_block||a.getParent(d.getNode(),a.isBlock)||G.apply("div"),x(d.getSelectedBlocks(),function(E){if("false"!==a.getContentEditable(E)&&"LI"!=E.nodeName){var D=I.getParam("indent_use_margin",!1)?"margin":"padding";D+="rtl"==a.getStyle(E,"direction",!0)?"Right":"Left","outdent"==C?(n=Math.max(0,parseInt(E.style[D]||0,10)-A),a.setStyle(E,D,n?n+B:"")):(n=parseInt(E.style[D]||0,10)+A+B,a.setStyle(E,D,n))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){I.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){I.hasVisual=!I.hasVisual,I.addVisual()},mceReplaceContent:function(B,n,A){I.execCommand("mceInsertContent",!1,A.replace(/\{\$selection\}/g,d.getContent({format:"text"})))},mceInsertLink:function(C,A,D){var B;"string"==typeof D&&(D={href:D}),B=a.getParent(d.getNode(),"a"),D.href=D.href.replace(" ","%20"),B&&D.href||G.remove("link"),D.href&&G.apply("link",D,B)},selectAll:function(){var A=a.getRoot(),n;d.getRng().setStart?(n=a.createRng(),n.setStart(A,0),n.setEnd(A,A.childNodes.length),d.setRng(n)):(n=d.getRng(),n.item||(n.moveToElementText(A),n.select()))},"delete":function(){e("Delete");var n=I.getBody();a.isEmpty(n)&&(I.setContent(""),n.firstChild&&a.isBlock(n.firstChild)?I.selection.setCursorLocation(n.firstChild,0):I.selection.setCursorLocation(n,0))},mceNewDocument:function(){I.setContent("")},InsertLineBreak:function(X,L,S){function ae(){for(var be=new m(T,D),C,at=I.schema.getNonEmptyElements();C=be.next();){if(at[C.nodeName.toLowerCase()]||C.length>0){return !0}}}var N=S,U,Y,E,V=d.getRng(!0);new b(a).normalize(V);var R=V.startOffset,T=V.startContainer;if(1==T.nodeType&&T.hasChildNodes()){var W=R>T.childNodes.length-1;T=T.childNodes[Math.min(R,T.childNodes.length-1)]||T,R=W&&3==T.nodeType?T.nodeValue.length:0}var D=a.getParent(T,a.isBlock),n=D?D.nodeName.toUpperCase():"",Z=D?a.getParent(D.parentNode,a.isBlock):null,Q=Z?Z.nodeName.toUpperCase():"",A=N&&N.ctrlKey;"LI"!=Q||A||(D=Z,n=Q),T&&3==T.nodeType&&R>=T.nodeValue.length&&(v||ae()||(U=a.create("br"),V.insertNode(U),V.setStartAfter(U),V.setEndAfter(U),Y=!0)),U=a.create("br"),V.insertNode(U);var B=a.doc.documentMode;return v&&"PRE"==n&&(!B||8>B)&&U.parentNode.insertBefore(a.doc.createTextNode("\r"),U),E=a.create("span",{},"&nbsp;"),U.parentNode.insertBefore(E,U),d.scrollIntoView(E),a.remove(E),Y?(V.setStartBefore(U),V.setEndBefore(U)):(V.setStartAfter(U),V.setEndAfter(U)),d.setRng(V),I.undoManager.add(),q}}),o({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(C){var A="align"+C.substring(7),D=d.isCollapsed()?[a.getParent(d.getNode(),a.isBlock)]:d.getSelectedBlocks(),B=k(D,function(n){return !!G.matchNode(n,A)});return -1!==w(B,q)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){return r(n)},mceBlockQuote:function(){return r("blockquote")},Outdent:function(){var n;if(s.inline_styles){if((n=a.getParent(d.getStart(),a.isBlock))&&parseInt(n.style.paddingLeft,10)>0){return q}if((n=a.getParent(d.getEnd(),a.isBlock))&&parseInt(n.style.paddingLeft,10)>0){return q}}return J("InsertUnorderedList")||J("InsertOrderedList")||!s.inline_styles&&!!a.getParent(d.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(A){var n=a.getParent(d.getNode(),"ul,ol");return n&&("insertunorderedlist"===A&&"UL"===n.tagName||"insertorderedlist"===A&&"OL"===n.tagName)}},"state"),o({"FontSize,FontName":function(B){var A=0,C;return(C=a.getParent(d.getNode(),"span"))&&(A="fontsize"==B?C.style.fontSize:C.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),A}},"value"),o({Undo:function(){I.undoManager.undo()},Redo:function(){I.undoManager.redo()}})}}),bx(cE,[bE],function(d){function b(k,m){var i=this,j,h;if(k=c(k),m=i.settings=m||{},j=m.base_uri,/^([\w\-]+):([^\/]{2})/i.test(k)||/^\s*#/.test(k)){return void (i.source=k)}var n=0===k.indexOf("//");0!==k.indexOf("/")||n||(k=(j?j.protocol||"http":"http")+"://mce_host"+k),/^[\w\-]*:?\/\//.test(k)||(h=m.base_uri?m.base_uri.path:new b(location.href).directory,""===m.base_uri.protocol?k="//mce_host"+i.toAbsPath(h,k):(k=/([^#?]*)([#?]?.*)/.exec(k),k=(j&&j.protocol||"http")+"://mce_host"+i.toAbsPath(h,k[1])+k[2])),k=k.replace(/@@/g,"(mce_at)"),k=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(k),g(a,function(e,o){var l=k[o];l&&(l=l.replace(/\(mce_at\)/g,"@@")),i[e]=l}),j&&(i.protocol||(i.protocol=j.protocol),i.userInfo||(i.userInfo=j.userInfo),i.port||"mce_host"!==i.host||(i.port=j.port),i.host&&"mce_host"!==i.host||(i.host=j.host),i.source=""),n&&(i.protocol="")}var g=d.each,c=d.trim,a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),f={ftp:21,http:80,https:443,mailto:25};return b.prototype={setPath:function(i){var h=this;i=/^(.*?)\/?(\w+)?$/.exec(i),h.path=i[0],h.directory=i[1],h.file=i[2],h.source="",h.getURI()},toRelative:function(k){var m=this,j;if("./"===k){return k}if(k=new b(k,{base_uri:m}),"mce_host"!=k.host&&m.host!=k.host&&k.host||m.port!=k.port||m.protocol!=k.protocol&&""!==k.protocol){return k.getURI()}var h=m.getURI(),l=k.getURI();return h==l||"/"==h.charAt(h.length-1)&&h.substr(0,h.length-1)==l?h:(j=m.toRelPath(m.path,k.path),k.query&&(j+="?"+k.query),k.anchor&&(j+="#"+k.anchor),j)},toAbsolute:function(h,i){return h=new b(h,{base_uri:this}),h.getURI(i&&this.isSameOrigin(h))},isSameOrigin:function(i){if(this.host==i.host&&this.protocol==i.protocol){if(this.port==i.port){return !0}var h=f[this.protocol];if(h&&(this.port||h)==(i.port||h)){return !0}}return !1},toRelPath:function(m,k){var q,l=0,j="",p,h;if(m=m.substring(0,m.lastIndexOf("/")),m=m.split("/"),q=k.split("/"),m.length>=q.length){for(p=0,h=m.length;h>p;p++){if(p>=q.length||m[p]!=q[p]){l=p+1;break}}}if(m.length<q.length){for(p=0,h=q.length;h>p;p++){if(p>=m.length||m[p]!=q[p]){l=p+1;break}}}if(1===l){return k}for(p=0,h=m.length-(l-1);h>p;p++){j+="../"}for(p=l-1,h=q.length;h>p;p++){j+=p!=l-1?"/"+q[p]:q[p]}return j},toAbsPath:function(n,k){var m,j=0,p=[],h,l;for(h=/\/$/.test(k)?"/":"",n=n.split("/"),k=k.split("/"),g(n,function(i){i&&p.push(i)}),n=p,m=k.length-1,p=[];m>=0;m--){0!==k[m].length&&"."!==k[m]&&(".."!==k[m]?j>0?j--:p.push(k[m]):j++)}return m=n.length-j,l=0>=m?p.reverse().join("/"):n.slice(0,m).join("/")+"/"+p.reverse().join("/"),0!==l.indexOf("/")&&(l="/"+l),h&&l.lastIndexOf("/")!==l.length-1&&(l+=h),l},getURI:function(i){var h,j=this;return j.source&&!i||(h="",i||(h+=j.protocol?j.protocol+"://":"//",j.userInfo&&(h+=j.userInfo+"@"),j.host&&(h+=j.host),j.port&&(h+=":"+j.port)),j.path&&(h+=j.path),j.query&&(h+="?"+j.query),j.anchor&&(h+="#"+j.anchor),j.source=h),j.source}},b.parseDataUri=function(i){var h,j;return i=decodeURIComponent(i).split(","),j=/data:([^;]+)/.exec(i[0]),j&&(h=j[1]),{type:h,data:i[1]}},b.getDocumentBaseUrl=function(i){var h;return h=0!==i.protocol.indexOf("http")&&"file:"!==i.protocol?i.href:i.protocol+"//"+i.host+i.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(h)&&(h=h.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(h)||(h+="/")),h},b}),bx(aU,[bE],function(d){function b(){}var g=d.each,c=d.extend,a,f;return b.extend=a=function(j){function p(){var u,l,v,s=this;if(!f&&(s.init&&s.init.apply(s,arguments),l=s.Mixins)){for(u=l.length;u--;){v=l[u],v.init&&v.init.apply(s,arguments)}}}function n(){return this}function q(r,l){return function(){var t=this,s=t._super,e;return t._super=m[r],e=l.apply(t,arguments),t._super=s,e}}var h=this,m=h.prototype,o,k,i;f=!0,o=new h,f=!1,j.Mixins&&(g(j.Mixins,function(e){for(var l in e){"init"!==l&&(j[l]=e[l])}}),m.Mixins&&(j.Mixins=m.Mixins.concat(j.Mixins))),j.Methods&&g(j.Methods.split(","),function(e){j[e]=n}),j.Properties&&g(j.Properties.split(","),function(e){var l="_"+e;j[e]=function(v){var s=this,u;return v!==u?(s[l]=v,s):s[l]}}),j.Statics&&g(j.Statics,function(l,r){p[r]=l}),j.Defaults&&m.Defaults&&(j.Defaults=c({},m.Defaults,j.Defaults));for(k in j){i=j[k],"function"==typeof i&&m[k]?o[k]=q(k,i):o[k]=i}return p.prototype=o,p.constructor=p,p.extend=a,p},b}),bx(cR,[bE],function(b){function a(x){function h(){return !1}function e(){return !0}function k(r,f){var t,n,d,u;if(r=r.toLowerCase(),f=f||{},f.type=r,f.target||(f.target=w),f.preventDefault||(f.preventDefault=function(){f.isDefaultPrevented=e},f.stopPropagation=function(){f.isPropagationStopped=e},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=e},f.isDefaultPrevented=h,f.isPropagationStopped=h,f.isImmediatePropagationStopped=h),x.beforeFire&&x.beforeFire(f),t=p[r]){for(n=0,d=t.length;d>n;n++){if(u=t[n],u.once&&v(r,u.func),f.isImmediatePropagationStopped()){return f.stopPropagation(),f}if(u.func.call(w,f)===!1){return f.preventDefault(),f}}}return f}function g(u,A,n,B){var f,z,d;if(A===!1&&(A=h),A){for(A={func:A},B&&b.extend(A,B),z=u.toLowerCase().split(" "),d=z.length;d--;){u=z[d],f=p[u],f||(f=p[u]=[],m(u,!0)),n?f.unshift(A):f.push(A)}}return q}function v(u,l){var A,s,f,z,d;if(u){for(z=u.toLowerCase().split(" "),A=z.length;A--;){if(u=z[A],s=p[u],!u){for(f in p){m(f,!1),delete p[f]}return q}if(s){if(l){for(d=s.length;d--;){s[d].func===l&&(s=s.slice(0,d).concat(s.slice(d+1)),p[u]=s)}}else{s.length=0}s.length||(m(u,!1),delete p[u])}}}else{for(u in p){m(u,!1)}p={}}return q}function y(f,d,i){return g(f,d,i,{once:!0})}function j(d){return d=d.toLowerCase(),!(!p[d]||0===p[d].length)}var q=this,w,p={},m;x=x||{},w=x.scope||q,m=x.toggleEvent||h,q.fire=k,q.on=g,q.off=v,q.once=y,q.has=j}var c=b.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return a.isNative=function(d){return !!c[d.toLowerCase()]},a}),bx(bI,[],function(){function a(b){this.create=b.create}return a.create=function(b,c){return new a({create:function(h,g){function f(e){h.set(g,e.value)}function j(i){b.set(c,i.value)}var d;return h.on("change:"+g,j),b.on("change:"+c,f),d=h._bindings,d||(d=h._bindings=[],h.on("destroy",function(){for(var i=d.length;i--;){d[i]()}})),d.push(function(){b.off("change:"+c,f)}),b.get(c)}})},a}),bx(aE,[cR],function(b){function a(c){return c._eventDispatcher||(c._eventDispatcher=new b({scope:c,toggleEvent:function(e,d){b.isNative(e)&&c.toggleNativeEvent&&c.toggleNativeEvent(e,d)}})),c._eventDispatcher}return{fire:function(f,h,d){var c=this;if(c.removed&&"remove"!==f){return h}if(h=a(c).fire(f,h,d),d!==!1&&c.parent){for(var g=c.parent();g&&!h.isPropagationStopped();){g.fire(f,h,!1),g=g.parent()}}return h},on:function(d,f,c){return a(this).on(d,f,c)},off:function(c,d){return a(this).off(c,d)},once:function(c,d){return a(this).once(c,d)},hasEventListeners:function(c){return a(this).has(c)}}}),bx(bi,[bI,aE,aU,bE],function(d,b,g,c){function a(h){return h.nodeType>0}function f(j,i){var k,h;if(j===i){return !0}if(null===j||null===i){return j===i}if("object"!=typeof j||"object"!=typeof i){return j===i}if(c.isArray(i)){if(j.length!==i.length){return !1}for(k=j.length;k--;){if(!f(j[k],i[k])){return !1}}}if(a(j)||a(i)){return j===i}h={};for(k in i){if(!f(j[k],i[k])){return !1}h[k]=!0}for(k in j){if(!h[k]&&!f(j[k],i[k])){return !1}}return !0}return g.extend({Mixins:[b],init:function(e){var i,h;e=e||{};for(i in e){h=e[i],h instanceof d&&(e[i]=h.create(this,i))}this.data=e},set:function(j,l){var k,h,e=this.data[j];if(l instanceof d&&(l=l.create(this,j)),"object"==typeof j){for(k in j){this.set(k,j[k])}return this}return f(e,l)||(this.data[j]=l,h={target:this,name:j,value:l,oldValue:e},this.fire("change:"+j,h),this.fire("change",h)),this},get:function(h){return this.data[h]},has:function(h){return h in this.data},bind:function(e){return d.create(this,e)},destroy:function(){this.fire("destroy")}})}),bx(a1,[aU],function(g){function d(k){for(var a=[],l=k.length,i;l--;){i=k[l],i.__checked||(a.push(i),i.__checked=1)}for(l=a.length;l--;){delete a[l].__checked}return a}var j=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=/^\s*|\s*$/g,h,b=g.extend({init:function(m){function v(a){return a?(a=a.toLowerCase(),function(e){return"*"===a||e.type===a}):void 0}function i(a){return a?function(e){return e._name===a}:void 0}function q(a){return a?(a=a.split("."),function(e){for(var l=a.length;l--;){if(!e.classes.contains(a[l])){return !1}}return !0}):void 0}function w(l,a,o){return l?function(s){var e=s[l]?s[l]():"";return a?"="===a?e===o:"*="===a?e.indexOf(o)>=0:"~="===a?(" "+e+" ").indexOf(" "+o+" ")>=0:"!="===a?e!=o:"^="===a?0===e.indexOf(o):"$="===a?e.substr(e.length-o.length)===o:!1:!!o}:void 0}function k(l){var a;return l?(l=/(?:not\((.+)\))|(.+)/i.exec(l),l[1]?(a=r(l[1],[]),function(o){return !n(o,a)}):(l=l[2],function(e,s,o){return"first"===l?0===s:"last"===l?s===o-1:"even"===l?s%2===0:"odd"===l?s%2===1:e[l]?e[l]():!1})):void 0}function p(o,l,t){function a(u){u&&l.push(u)}var s;return s=j.exec(o.replace(c,"")),a(v(s[1])),a(i(s[2])),a(q(s[3])),a(w(s[4],s[5],s[6])),a(k(s[7])),l.pseudo=!!s[7],l.direct=t,l}function r(x,u){var z=[],s,y,l;do{if(f.exec(""),y=f.exec(x),y&&(x=y[3],z.push(y[1]),y[2])){s=y[3];break}}while(y);for(s&&r(s,u),x=[],l=0;l<z.length;l++){">"!=z[l]&&x.push(p(z[l],[],">"===z[l-1]))}return u.push(x),u}var n=this.match;this._selectors=r(m,[])},match:function(A,F){var v,k,x,q,D,G,w,C,E,B,z,y,m;for(F=F||this._selectors,v=0,k=F.length;k>v;v++){for(D=F[v],q=D.length,m=A,y=0,x=q-1;x>=0;x--){for(C=D[x];m;){if(C.pseudo){for(z=m.parent().items(),E=B=z.length;E--&&z[E]!==m;){}}for(G=0,w=C.length;w>G;G++){if(!C[G](m,E,B)){G=w+1;break}}if(G===w){y++;break}if(x===q-1){break}m=m.parent()}}if(y===q){return !0}}return !1},find:function(p){function q(w,A,v){var n,y,B,r,x,z=A[v];for(n=0,y=w.length;y>n;n++){for(x=w[n],B=0,r=z.length;r>B;B++){if(!z[B](x,n,y)){B=r+1;break}}if(B===r){v==A.length-1?o.push(x):x.items&&q(x.items(),A,v+1)}else{if(z.direct){return}}x.items&&q(x.items(),A,v)}}var o=[],k,m,a=this._selectors;if(p.items){for(k=0,m=a.length;m>k;k++){q(p.items(),a[k],0)}m>1&&(o=d(o))}return h||(h=b.Collection),new h(o)}});return b}),bx(aK,[bE,a1,aU],function(g,d,j){var f,c,h=Array.prototype.push,b=Array.prototype.slice;return c={length:0,init:function(a){a&&this.add(a)},add:function(a){var e=this;return g.isArray(a)?h.apply(e,a):a instanceof f?e.add(a.toArray()):h.call(e,a),e},set:function(k){var a=this,l=a.length,i;for(a.length=0,a.add(k),i=a.length;l>i;i++){delete a[i]}return a},filter:function(r){var u=this,p,t,m=[],q,k;for("string"==typeof r?(r=new d(r),k=function(a){return r.match(a)}):k=r,p=0,t=u.length;t>p;p++){q=u[p],k(q)&&m.push(q)}return new f(m)},slice:function(){return new f(b.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return g.each(this,a),this},toArray:function(){return g.toArray(this)},indexOf:function(i){for(var a=this,k=a.length;k--&&a[k]!==i;){}return k},reverse:function(){return new f(g.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].classes.contains(a):!1},prop:function(m,k){var o=this,l,a;return k!==l?(o.each(function(e){e[m]&&e[m](k)}),o):(a=o[0],a&&a[m]?a[m]():void 0)},exec:function(a){var i=this,e=g.toArray(arguments).slice(1);return i.each(function(k){k[a]&&k[a].apply(k,e)}),i},remove:function(){for(var a=this.length;a--;){this[a].remove()}return this},addClass:function(a){return this.each(function(e){e.classes.add(a)})},removeClass:function(a){return this.each(function(e){e.classes.remove(a)})}},g.each("fire on off show hide append prepend before after reflow".split(" "),function(a){c[a]=function(){var e=g.toArray(arguments);return this.each(function(i){a in i&&i[a].apply(i,e)}),this}}),g.each("text name disabled active selected checked visible parent value data".split(" "),function(a){c[a]=function(e){return this.prop(a,e)}}),f=j.extend(c),d.Collection=f,f}),bx(bl,[bE,bq],function(b,a){var c=0;return{id:function(){return"mceu_"+c++},create:function(g,e,d){var f=document.createElement(g);return a.DOM.setAttribs(f,e),"string"==typeof d?f.innerHTML=d:b.each(d,function(h){h.nodeType&&f.appendChild(h)}),f},createFragment:function(d){return a.DOM.createFragment(d)},getWindowSize:function(){return a.DOM.getViewPort()},getSize:function(g){var d,h;if(g.getBoundingClientRect){var f=g.getBoundingClientRect();d=Math.max(f.width||f.right-f.left,g.offsetWidth),h=Math.max(f.height||f.bottom-f.bottom,g.offsetHeight)}else{d=g.offsetWidth,h=g.offsetHeight}return{width:d,height:h}},getPos:function(d,f){return a.DOM.getPos(d,f)},getViewPort:function(d){return a.DOM.getViewPort(d)},get:function(d){return document.getElementById(d)},addClass:function(d,f){return a.DOM.addClass(d,f)},removeClass:function(d,f){return a.DOM.removeClass(d,f)},hasClass:function(d,f){return a.DOM.hasClass(d,f)},toggleClass:function(f,g,d){return a.DOM.toggleClass(f,g,d)},css:function(f,g,d){return a.DOM.setStyle(f,g,d)},getRuntimeStyle:function(d,f){return a.DOM.getStyle(d,f,!0)},on:function(g,h,f,d){return a.DOM.bind(g,h,f,d)},off:function(f,g,d){return a.DOM.unbind(f,g,d)},fire:function(f,g,d){return a.DOM.fire(f,g,d)},innerHtml:function(d,f){a.DOM.setHTML(d,f)}}}),bx(cJ,[],function(){return{parseBox:function(b){var a,c=10;if(b){return"number"==typeof b?(b=b||0,{top:b,left:b,bottom:b,right:b}):(b=b.split(" "),a=b.length,1===a?b[1]=b[2]=b[3]=b[0]:2===a?(b[2]=b[0],b[3]=b[1]):3===a&&(b[3]=b[1]),{top:parseInt(b[0],c)||0,right:parseInt(b[1],c)||0,bottom:parseInt(b[2],c)||0,left:parseInt(b[3],c)||0})}},measureBox:function(c,a){function d(e){var f=document.defaultView;return f?(e=e.replace(/[A-Z]/g,function(g){return"-"+g}),f.getComputedStyle(c,null).getPropertyValue(e)):c.currentStyle[e]}function b(g){var f=parseFloat(d(g),10);return isNaN(f)?0:f}return{top:b(a+"TopWidth"),right:b(a+"RightWidth"),bottom:b(a+"BottomWidth"),left:b(a+"LeftWidth")}}}}),bx(aS,[bE],function(b){function a(){}function c(d){this.cls=[],this.cls._map={},this.onchange=d||a,this.prefix=""}return b.extend(c.prototype,{add:function(d){return d&&!this.contains(d)&&(this.cls._map[d]=!0,this.cls.push(d),this._change()),this},remove:function(f){if(this.contains(f)){for(var d=0;d<this.cls.length&&this.cls[d]!==f;d++){}this.cls.splice(d,1),delete this.cls._map[f],this._change()}return this},toggle:function(f,d){var g=this.contains(f);return g!==d&&(g?this.remove(f):this.add(f),this._change()),this},contains:function(d){return !!this.cls._map[d]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),c.prototype.toString=function(){var f;if(this.clsValue){return this.clsValue}f="";for(var d=0;d<this.cls.length;d++){d>0&&(f+=" "),f+=this.prefix+this.cls[d]}return f},c}),bx(aw,[bs],function(b){var a={},c;return{add:function(e){var d=e.parent();if(d){if(!d._layout||d._layout.isNative()){return}a[d._id]||(a[d._id]=d),c||(c=!0,b.requestAnimationFrame(function(){var g,f;c=!1;for(g in a){f=a[g],f.state.get("rendered")&&f.reflow()}a={}},document.body))}},remove:function(d){a[d._id]&&delete a[d._id]}}}),bx(cL,[aU,bE,cR,bi,aK,bl,bL,cJ,aS,aw],function(G,k,z,w,C,y,J,q,B,I){function j(a){return a._eventDispatcher||(a._eventDispatcher=new z({scope:a,toggleEvent:function(c,d){d&&z.isNative(c)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[c]=!0,a.state.get("rendered")&&H(a))}})),a._eventDispatcher}function H(K){function O(c){var d=K.getParentCtrl(c.target);d&&d.fire(c.type,c)}function h(){var c=M._lastHoverCtrl;c&&(c.fire("mouseleave",{target:c.getEl()}),c.parents().each(function(d){d.fire("mouseleave",{target:d.getEl()})}),M._lastHoverCtrl=null)}function a(e){var Q=K.getParentCtrl(e.target),p=M._lastHoverCtrl,d=0,u,c,l;if(Q!==p){if(M._lastHoverCtrl=Q,c=Q.parents().toArray().reverse(),c.push(Q),p){for(l=p.parents().toArray().reverse(),l.push(p),d=0;d<l.length&&c[d]===l[d];d++){}for(u=l.length-1;u>=d;u--){p=l[u],p.fire("mouseleave",{target:p.getEl()})}}for(u=d;u<c.length;u++){Q=c[u],Q.fire("mouseenter",{target:Q.getEl()})}}}function v(c){c.preventDefault(),"mousewheel"==c.type?(c.deltaY=-1/40*c.wheelDelta,c.wheelDeltaX&&(c.deltaX=-1/40*c.wheelDeltaX)):(c.deltaX=0,c.deltaY=c.detail),c=K.fire("wheel",c)}var g,P,m,M,N,L;if(N=K._nativeEvents){for(m=K.parents().toArray(),m.unshift(K),g=0,P=m.length;!M&&P>g;g++){M=m[g]._eventsRoot}for(M||(M=m[m.length-1]||K),K._eventsRoot=M,P=g,g=0;P>g;g++){m[g]._eventsRoot=M}var f=M._delegates;f||(f=M._delegates={});for(L in N){if(!N){return !1}"wheel"!==L||D?("mouseenter"===L||"mouseleave"===L?M._hasMouseEnter||(J(M.getEl()).on("mouseleave",h).on("mouseover",a),M._hasMouseEnter=1):f[L]||(J(M.getEl()).on(L,O),f[L]=!0),N[L]=!1):F?J(K.getEl()).on("mousewheel",v):J(K.getEl()).on("DOMMouseScroll",v)}}}var F="onmousewheel" in document,D=!1,x="mce-",A,E=0,b={Statics:{classPrefix:x},isRtl:function(){return A.rtl},classPrefix:x,init:function(d){function h(i){var c;for(i=i.split(" "),c=0;c<i.length;c++){a.classes.add(i[c])}}var a=this,f,g;a.settings=d=k.extend({},a.Defaults,d),a._id=d.id||"mceu_"+E++,a._aria={role:d.role},a._elmCache={},a.$=J,a.state=new w({visible:!0,active:!1,disabled:!1,value:""}),a.data=new w(d.data),a.classes=new B(function(){a.state.get("rendered")&&(a.getEl().className=this.toString())}),a.classes.prefix=a.classPrefix,f=d.classes,f&&(a.Defaults&&(g=a.Defaults.classes,g&&f!=g&&h(g)),h(f)),k.each("title text name visible disabled active value".split(" "),function(c){c in d&&a[c](d[c])}),a.on("click",function(){return a.disabled()?!1:void 0}),a.settings=d,a.borderBox=q.parseBox(d.border),a.paddingBox=q.parseBox(d.padding),a.marginBox=q.parseBox(d.margin),d.hidden&&a.hide()},Properties:"parent,name",getContainerElm:function(){return document.body},getParentCtrl:function(c){for(var a,d=this.getRoot().controlIdLookup;c&&d&&!(a=d[c.id]);){c=c.parentNode}return a},initLayoutRect:function(){var R=this,Y=R.settings,K,o,N=R.getEl(),V,M,T,X,S,Q,O,s;K=R.borderBox=R.borderBox||q.measureBox(N,"border"),R.paddingBox=R.paddingBox||q.measureBox(N,"padding"),R.marginBox=R.marginBox||q.measureBox(N,"margin"),s=y.getSize(N),Q=Y.minWidth,O=Y.minHeight,T=Q||s.width,X=O||s.height,V=Y.width,M=Y.height,S=Y.autoResize,S="undefined"!=typeof S?S:!V&&!M,V=V||T,M=M||X;var L=K.left+K.right,P=K.top+K.bottom,W=Y.maxWidth||65535,U=Y.maxHeight||65535;return R._layoutRect=o={x:Y.x||0,y:Y.y||0,w:V,h:M,deltaW:L,deltaH:P,contentW:V-L,contentH:M-P,innerW:V-L,innerH:M-P,startMinWidth:Q||0,startMinHeight:O||0,minW:Math.min(T,W),minH:Math.min(X,U),maxW:W,maxH:U,autoResize:S,scrollW:0},R._lastLayoutRect={},o},layoutRect:function(m){var u=this,f=u._layoutRect,c,h,d,p,v,g;return f||(f=u.initLayoutRect()),m?(d=f.deltaW,p=f.deltaH,m.x!==v&&(f.x=m.x),m.y!==v&&(f.y=m.y),m.minW!==v&&(f.minW=m.minW),m.minH!==v&&(f.minH=m.minH),h=m.w,h!==v&&(h=h<f.minW?f.minW:h,h=h>f.maxW?f.maxW:h,f.w=h,f.innerW=h-d),h=m.h,h!==v&&(h=h<f.minH?f.minH:h,h=h>f.maxH?f.maxH:h,f.h=h,f.innerH=h-p),h=m.innerW,h!==v&&(h=h<f.minW-d?f.minW-d:h,h=h>f.maxW-d?f.maxW-d:h,f.innerW=h,f.w=h+d),h=m.innerH,h!==v&&(h=h<f.minH-p?f.minH-p:h,h=h>f.maxH-p?f.maxH-p:h,f.innerH=h,f.h=h+p),m.contentW!==v&&(f.contentW=m.contentW),m.contentH!==v&&(f.contentH=m.contentH),c=u._lastLayoutRect,c.x===f.x&&c.y===f.y&&c.w===f.w&&c.h===f.h||(g=A.repaintControls,g&&g.map&&!g.map[u._id]&&(g.push(u),g.map[u._id]=!0),c.x=f.x,c.y=f.y,c.w=f.w,c.h=f.h),u):f},repaint:function(){var p=this,M,g,d,m,f,K,N,h,v,L;v=document.createRange?function(a){return a}:Math.round,M=p.getEl().style,m=p._layoutRect,h=p._lastRepaintRect||{},f=p.borderBox,K=f.left+f.right,N=f.top+f.bottom,m.x!==h.x&&(M.left=v(m.x)+"px",h.x=m.x),m.y!==h.y&&(M.top=v(m.y)+"px",h.y=m.y),m.w!==h.w&&(L=v(m.w-K),M.width=(L>=0?L:0)+"px",h.w=m.w),m.h!==h.h&&(L=v(m.h-N),M.height=(L>=0?L:0)+"px",h.h=m.h),p._hasBody&&m.innerW!==h.innerW&&(L=v(m.innerW),d=p.getEl("body"),d&&(g=d.style,g.width=(L>=0?L:0)+"px"),h.innerW=m.innerW),p._hasBody&&m.innerH!==h.innerH&&(L=v(m.innerH),d=d||p.getEl("body"),d&&(g=g||d.style,g.height=(L>=0?L:0)+"px"),h.innerH=m.innerH),p._lastRepaintRect=h,p.fire("repaint",{},!1)},updateLayoutRect:function(){var a=this;a.parent()._lastRect=null,y.css(a.getEl(),{width:"",height:""}),a._layoutRect=a._lastRepaintRect=a._lastLayoutRect=null,a.initLayoutRect()},on:function(d,a){function f(h){var g,i;return"string"!=typeof h?h:function(e){return g||c.parentsAndSelf().each(function(m){var l=m.settings.callbacks;return l&&(g=l[h])?(i=m,!1):void 0}),g?g.call(i,e):(e.action=h,void this.fire("execute",e))}}var c=this;return j(c).on(d,f(a)),c},off:function(c,a){return j(this).off(c,a),this},fire:function(f,c,g){var d=this;if(c=c||{},c.control||(c.control=d),c=j(d).fire(f,c),g!==!1&&d.parent){for(var a=d.parent();a&&!c.isPropagationStopped();){a.fire(f,c,!1),a=a.parent()}}return c},hasEventListeners:function(a){return j(this).has(a)},parents:function(d){var a=this,f,c=new C;for(f=a.parent();f;f=f.parent()){c.add(f)}return d&&(c=c.filter(d)),c},parentsAndSelf:function(a){return new C(this).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},innerHtml:function(a){return this.$el.html(a),this},getEl:function(c){var a=c?this._id+"-"+c:this._id;return this._elmCache[a]||(this._elmCache[a]=J("#"+a)[0]),this._elmCache[a]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){return this.getEl().blur(),this},aria:function(d,a){var f=this,c=f.getEl(f.ariaTarget);return"undefined"==typeof a?f._aria[d]:(f._aria[d]=a,f.state.get("rendered")&&c.setAttribute("role"==d?d:"aria-"+d,a),f)},encode:function(c,a){return a!==!1&&(c=this.translate(c)),(c||"").replace(/[&<>"]/g,function(d){return"&#"+d.charCodeAt(0)+";"})},translate:function(a){return A.translate?A.translate(a):a},before:function(c){var a=this,d=a.parent();return d&&d.insert(c,d.items().indexOf(a),!0),a},after:function(c){var a=this,d=a.parent();return d&&d.insert(c,d.items().indexOf(a)),a},remove:function(){var g=this,c=g.getEl(),l=g.parent(),f,a;if(g.items){var h=g.items().toArray();for(a=h.length;a--;){h[a].remove()}}l&&l.items&&(f=[],l.items().each(function(e){e!==g&&f.push(e)}),l.items().set(f),l._lastRect=null),g._eventsRoot&&g._eventsRoot==g&&J(c).off();var d=g.getRoot().controlIdLookup;return d&&delete d[g._id],c&&c.parentNode&&c.parentNode.removeChild(c),g.state.set("rendered",!1),g.state.destroy(),g.fire("remove"),g},renderBefore:function(a){return J(a).before(this.renderHtml()),this.postRender(),this},renderTo:function(a){return J(a||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var h=this,p=h.settings,d,a,g,c,v;h.$el=J(h.getEl()),h.state.set("rendered",!0);for(c in p){0===c.indexOf("on")&&h.on(c.substr(2),p[c])}if(h._eventsRoot){for(g=h.parent();!v&&g;g=g.parent()){v=g._eventsRoot}if(v){for(c in v._nativeEvents){h._nativeEvents[c]=!0}}}H(h),p.style&&(d=h.getEl(),d&&(d.setAttribute("style",p.style),d.style.cssText=p.style)),h.settings.border&&(a=h.borderBox,h.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));var f=h.getRoot();f.controlIdLookup||(f.controlIdLookup={}),f.controlIdLookup[h._id]=h;for(var m in h._aria){h.aria(m,h._aria[m])}h.state.get("visible")===!1&&(h.getEl().style.display="none"),h.bindStates(),h.state.on("change:visible",function(e){var l=e.value,i;h.state.get("rendered")&&(h.getEl().style.display=l===!1?"none":"",h.getEl().getBoundingClientRect()),i=h.parent(),i&&(i._lastRect=null),h.fire(l?"show":"hide"),I.add(h)}),h.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(p){function M(o,c){var s,l,a=o;for(s=l=0;a&&a!=c&&a.nodeType;){s+=a.offsetLeft||0,l+=a.offsetTop||0,a=a.offsetParent}return{x:s,y:l}}var g=this.getEl(),d=g.parentNode,m,f,K,N,h,v,L=M(g,d);return m=L.x,f=L.y,K=g.offsetWidth,N=g.offsetHeight,h=d.clientWidth,v=d.clientHeight,"end"==p?(m-=h-K,f-=v-N):"center"==p&&(m-=h/2-K/2,f-=v/2-N/2),d.scrollLeft=m,d.scrollTop=f,this},getRoot:function(){for(var d=this,a,f=[];d;){if(d.rootControl){a=d.rootControl;break}f.push(d),a=d,d=d.parent()}a||(a=this);for(var c=f.length;c--;){f[c].rootControl=a}return a},reflow:function(){I.remove(this);var a=this.parent();return a._layout&&!a._layout.isNative()&&a.reflow(),this}};return k.each("text title visible disabled active value".split(" "),function(a){b[a]=function(c){return 0===arguments.length?this.state.get(a):("undefined"!=typeof c&&this.state.set(a,c),this)}}),A=G.extend(b)}),bx(ci,[],function(){var b={},a;return{add:function(c,d){b[c.toLowerCase()]=d},has:function(c){return !!b[c.toLowerCase()]},create:function(g,e){var d,f,c;if(!a){c=tinymce.ui;for(f in c){b[f.toLowerCase()]=c[f]}a=!0}if("string"==typeof g?(e=e||{},e.type=g):(e=g,g=e.type),g=g.toLowerCase(),d=b[g],!d){throw new Error("Could not find control by type: "+g)}return d=new d(e),d.type=g,d}}}),bx(aJ,[],function(){return function(P){function B(a){return a&&1===a.nodeType}function I(a){return a=a||E,B(a)?a.getAttribute("role"):null}function F(c){for(var a,b=c||E;b=b.parentNode;){if(a=I(b)){return a}}}function L(a){var b=E;return B(b)?b.getAttribute("aria-"+a):void 0}function H(b){var a=b.tagName.toUpperCase();return"INPUT"==a||"TEXTAREA"==a||"SELECT"==a}function T(a){return H(a)&&!a.hidden?!0:!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(I(a))}function D(b){function a(f){if(1==f.nodeType&&"none"!=f.style.display){T(f)&&c.push(f);for(var d=0;d<f.childNodes.length;d++){a(f.childNodes[d])}}}var c=[];return a(b||S.getEl()),c}function K(c){var a,d;c=c||k,d=c.parents().toArray(),d.unshift(c);for(var b=0;b<d.length&&(a=d[b],!a.settings.ariaRoot);b++){}return a}function R(b){var a=K(b),c=D(a.getEl());a.settings.ariaRemember&&"lastAriaIndex" in a?A(a.lastAriaIndex,c):A(0,c)}function A(b,a){return 0>b?b=a.length-1:b>=a.length&&(b=0),a[b]&&a[b].focus(),b}function Q(d,b){var f=-1,c=K();b=b||D(c.getEl());for(var a=0;a<b.length;a++){b[a]===E&&(f=a)}f+=d,c.lastAriaIndex=A(f,b)}function O(){var a=F();"tablist"==a?Q(-1,D(E.parentNode)):k.parent().submenu?z():Q(-1)}function M(){var b=I(),a=F();"tablist"==a?Q(1,D(E.parentNode)):"menuitem"==b&&"menu"==a&&L("haspopup")?j():Q(1)}function G(){Q(-1)}function J(){var b=I(),a=F();"menuitem"==b&&"menubar"==a?j():"button"==b&&L("haspopup")?j({key:"down"}):Q(1)}function N(b){var a=F();if("tablist"==a){var c=D(k.getEl("body"))[0];c&&c.focus()}else{Q(b.shiftKey?-1:1)}}function z(){k.fire("cancel")}function j(a){a=a||{},k.fire("click",{target:E,aria:a})}var S=P.root,E,k;try{E=document.activeElement}catch(q){E=document.body}return k=S.getParentCtrl(E),S.on("keydown",function(b){function a(d,c){H(E)||"slider"!==I(E)&&c(d)!==!1&&d.preventDefault()}if(!b.isDefaultPrevented()){switch(b.keyCode){case 37:a(b,O);break;case 39:a(b,M);break;case 38:a(b,G);break;case 40:a(b,J);break;case 27:z();break;case 14:case 13:case 32:a(b,j);break;case 9:N(b)!==!1&&b.preventDefault()}}}),S.on("focusin",function(a){E=a.target,k=a.control}),{focusFirst:R}}}),bx(ac,[cL,aK,a1,ci,aJ,bE,bL,aS,aw],function(j,p,f,b,h,d,m,q,g){var k={};return j.extend({init:function(a){var c=this;c._super(a),a=c.settings,a.fixed&&c.state.set("fixed",!0),c._items=new p,c.isRtl()&&c.classes.add("rtl"),c.bodyClasses=new q(function(){c.state.get("rendered")&&(c.getEl("body").className=this.toString())}),c.bodyClasses.prefix=c.classPrefix,c.classes.add("container"),c.bodyClasses.add("container-body"),a.containerCls&&c.classes.add(a.containerCls),c._layout=b.create((a.layout||"")+"layout"),c.settings.items?c.add(c.settings.items):c.add(c.render()),c._hasBody=!0},items:function(){return this._items},find:function(a){return a=k[a]=k[a]||new f(a),a.find(this)},add:function(c){var a=this;return a.items().add(a.create(c)).parent(a),a},focus:function(o){var c=this,s,l,a;return o&&(l=c.keyboardNav||c.parents().eq(-1)[0].keyboardNav)?void l.focusFirst(c):(a=c.find("*"),c.statusbar&&a.add(c.statusbar.items()),a.each(function(i){return i.settings.autofocus?(s=null,!1):void (i.canFocus&&(s=s||i))}),s&&s.focus(),c)},replace:function(o,c){for(var s,l=this.items(),a=l.length;a--;){if(l[a]===o){l[a]=c;break}}a>=0&&(s=c.getEl(),s&&s.parentNode.removeChild(s),s=o.getEl(),s&&s.parentNode.removeChild(s)),c.parent(this)},create:function(l){var o=this,e,c=[];return d.isArray(l)||(l=[l]),d.each(l,function(a){a&&(a instanceof j||("string"==typeof a&&(a={type:a}),e=d.extend({},o.settings.defaults,a),a.type=e.type=e.type||a.type||o.settings.defaultType||(e.defaults?e.defaults.type:null),a=b.create(e)),c.push(a))}),c},renderNew:function(){var a=this;return a.items().each(function(c,i){var e;c.parent(a),c.state.get("rendered")||(e=a.getEl("body"),e.hasChildNodes()&&i<=e.childNodes.length-1?m(e.childNodes[i]).before(c.renderHtml()):m(e).append(c.renderHtml()),c.postRender(),g.add(c))}),a._layout.applyClasses(a.items().filter(":visible")),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(c){var a=this;return a.items().set(a.create(c).concat(a.items().toArray())),a.renderNew()},insert:function(v,s,x){var u=this,l,w,c;return v=u.create(v),l=u.items(),!x&&s<l.length-1&&(s+=1),s>=0&&s<l.length&&(w=l.slice(0,s).toArray(),c=l.slice(s).toArray(),l.set(w.concat(v,c))),u.renderNew()},fromJSON:function(c){var a=this;for(var i in c){a.find("#"+i).value(c[i])}return a},toJSON:function(){var c=this,a={};return c.find("*").each(function(l){var o=l.name(),i=l.value();o&&"undefined"!=typeof i&&(a[o]=i)}),a},renderHtml:function(){var c=this,a=c._layout,i=this.settings.role;return c.preRender(),a.preRender(c),'<div id="'+c._id+'" class="'+c.classes+'"'+(i?' role="'+this.settings.role+'"':"")+'><div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+(c.settings.html||"")+a.renderHtml(c)+"</div></div>"},postRender:function(){var c=this,a;return c.items().exec("postRender"),c._super(),c._layout.postRender(c),c.state.set("rendered",!0),c.settings.style&&c.$el.css(c.settings.style),c.settings.border&&(a=c.borderBox,c.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})),c.parent()||(c.keyboardNav=new h({root:c})),c},initLayoutRect:function(){var c=this,a=c._super();return c._layout.recalc(c),a},recalc:function(){var c=this,a=c._layoutRect,i=c._lastRect;return i&&i.w==a.w&&i.h==a.h?void 0:(c._layout.recalc(c),a=c.layoutRect(),c._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0)},reflow:function(){var a;if(g.remove(this),this.visible()){for(j.repaintControls=[],j.repaintControls.map={},this.recalc(),a=j.repaintControls.length;a--;){j.repaintControls[a].repaint()}"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),j.repaintControls=[]}return this}})}),bx(am,[bL],function(b){function a(k){var q,g,d,j,f,p,u,h,m=Math.max;return q=k.documentElement,g=k.body,d=m(q.scrollWidth,g.scrollWidth),j=m(q.clientWidth,g.clientWidth),f=m(q.offsetWidth,g.offsetWidth),p=m(q.scrollHeight,g.scrollHeight),u=m(q.clientHeight,g.clientHeight),h=m(q.offsetHeight,g.offsetHeight),{width:f>d?j:d,height:h>p?u:p}}function c(f){var d,g;if(f.changedTouches){for(d="screenX screenY pageX pageY clientX clientY".split(" "),g=0;g<d.length;g++){f[d[g]]=f.changedTouches[0][d[g]]}}}return function(e,k){function g(){return w.getElementById(k.handle||e)}var t,w=k.document||document,j,q,v,p,n,m;k=k||{},q=function(f){var i=a(w),h,d;c(f),f.preventDefault(),j=f.button,h=g(),n=f.screenX,m=f.screenY,d=window.getComputedStyle?window.getComputedStyle(h,null).getPropertyValue("cursor"):h.runtimeStyle.cursor,t=b("<div>").css({position:"absolute",top:0,left:0,width:i.width,height:i.height,zIndex:2147483647,opacity:0.0001,cursor:d}).appendTo(w.body),b(w).on("mousemove touchmove",p).on("mouseup touchend",v),k.start(f)},p=function(d){return c(d),d.button!==j?v(d):(d.deltaX=d.screenX-n,d.deltaY=d.screenY-m,d.preventDefault(),void k.drag(d))},v=function(d){c(d),b(w).off("mousemove touchmove",p).off("mouseup touchend",v),t.remove(),k.stop&&k.stop(d)},this.destroy=function(){b(g()).off()},b(g()).on("mousedown touchstart",q)}}),bx(aT,[bL,am],function(b,a){return{init:function(){var c=this;c.on("repaint",c.renderScroll)},renderScroll:function(){function f(){function h(F,C,G,o,z,E){var x,w,q,k,n,r,D,B,A;if(w=c.getEl("scroll"+F)){if(B=C.toLowerCase(),A=G.toLowerCase(),b(c.getEl("absend")).css(B,c.layoutRect()[o]-1),!z){return void b(w).css("display","none")}b(w).css("display","block"),x=c.getEl("body"),q=c.getEl("scroll"+F+"t"),k=x["client"+G]-2*e,k-=j&&i?w["client"+E]:0,n=x["scroll"+G],r=k/n,D={},D[B]=x["offset"+C]+e,D[A]=k,b(w).css(D),D={},D[B]=x["scroll"+C]*r,D[A]=k*r,b(q).css(D)}}var j,i,g;g=c.getEl("body"),j=g.scrollWidth>g.clientWidth,i=g.scrollHeight>g.clientHeight,h("h","Left","Width","contentW",j,"Height"),h("v","Top","Height","contentH",i,"Width")}function d(){function g(q,m,i,k,h){var p,j=c._id+"-scroll"+q,o=c.classPrefix;b(c.getEl()).append('<div id="'+j+'" class="'+o+"scrollbar "+o+"scrollbar-"+q+'"><div id="'+j+'t" class="'+o+'scrollbar-thumb"></div></div>'),c.draghelper=new a(j+"t",{start:function(){p=c.getEl("body")["scroll"+m],b("#"+j).addClass(o+"active")},drag:function(v){var n,l,w,s,r=c.layoutRect();l=r.contentW>r.innerW,w=r.contentH>r.innerH,s=c.getEl("body")["client"+i]-2*e,s-=l&&w?c.getEl("scroll"+q)["client"+h]:0,n=s/c.getEl("body")["scroll"+i],c.getEl("body")["scroll"+m]=p+v["delta"+k]/n},stop:function(){b("#"+j).removeClass(o+"active")}})}c.classes.add("scroll"),g("v","Top","Height","Y","Width"),g("h","Left","Width","X","Height")}var c=this,e=2;c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,d(),c.on("wheel",function(h){var g=c.getEl("body");g.scrollLeft+=10*(h.deltaX||0),g.scrollTop+=10*h.deltaY,f()}),b(c.getEl("body")).on("scroll",f)),f())}}}),bx(ar,[ac,aT],function(b,a){return b.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[a],renderHtml:function(){var d=this,c=d._layout,f=d.settings.html;return d.preRender(),c.preRender(d),"undefined"==typeof f?f='<div id="'+d._id+'-body" class="'+d.bodyClasses+'">'+c.renderHtml(d)+"</div>":("function"==typeof f&&(f=f.call(d)),d._hasBody=!1),'<div id="'+d._id+'" class="'+d.classes+'" hidefocus="1" tabindex="-1" role="group">'+(d._preBodyHtml||"")+f+"</div>"}})}),bx(ag,[bl],function(b){function a(z,j,e){var m,g,x,A,k,w,y,v,q,p;return q=b.getViewPort(),g=b.getPos(j),x=g.x,A=g.y,z.state.get("fixed")&&"static"==b.getRuntimeStyle(document.body,"position")&&(x-=q.x,A-=q.y),m=z.getEl(),p=b.getSize(m),k=p.width,w=p.height,p=b.getSize(j),y=p.width,v=p.height,e=(e||"").split(""),"b"===e[0]&&(A+=v),"r"===e[1]&&(x+=y),"c"===e[0]&&(A+=Math.round(v/2)),"c"===e[1]&&(x+=Math.round(y/2)),"b"===e[3]&&(A-=w),"r"===e[4]&&(x-=k),"c"===e[3]&&(A-=Math.round(w/2)),"c"===e[4]&&(x-=Math.round(k/2)),{x:x,y:A,w:k,h:w}}return{testMoveRel:function(g,e){for(var d=b.getViewPort(),f=0;f<e.length;f++){var c=a(this,g,e[f]);if(this.state.get("fixed")){if(c.x>0&&c.x+c.w<d.w&&c.y>0&&c.y+c.h<d.h){return e[f]}}else{if(c.x>d.x&&c.x+c.w<d.w+d.x&&c.y>d.y&&c.y+c.h<d.h+d.y){return e[f]}}}return e[0]},moveRel:function(d,f){"string"!=typeof f&&(f=this.testMoveRel(d,f));var c=a(this,d,f);return this.moveTo(c.x,c.y)},moveBy:function(f,c){var g=this,d=g.layoutRect();return g.moveTo(d.x+f,d.y+c),g},moveTo:function(e,h){function f(j,i,k){return 0>j?0:j+k>i?(j=i-k,0>j?0:j):j}var d=this;if(d.settings.constrainToViewport){var g=b.getViewPort(window),c=d.layoutRect();e=f(e,g.w+g.x,c.w),h=f(h,g.h+g.y,c.h)}return d.state.get("rendered")?d.layoutRect({x:e,y:h}).repaint():(d.settings.x=e,d.settings.y=h),d.fire("move",{x:e,y:h}),d}}}),bx(ab,[bl],function(a){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(b,d){if(1>=b||1>=d){var c=a.getWindowSize();b=1>=b?b*c.w:b,d=1>=d?d*c.h:d}return this._layoutRect.autoResize=!1,this.layoutRect({minW:b,minH:d,w:b,h:d}).reflow()},resizeBy:function(d,b){var f=this,c=f.layoutRect();return f.resizeTo(c.w+d,c.h+b)}}}),bx(ak,[ar,ag,ab,bl,bL,bs],function(L,w,E,A,H,D){function P(b,a){for(;b;){if(b==a){return !0}b=b.parent()}}function x(c){for(var a=k.length;a--;){var d=k[a],b=d.getParentCtrl(c.target);if(d.settings.autohide){if(b&&(P(b,d)||d.parent()===b)){continue}c=d.fire("autohide",{target:c.target}),c.isDefaultPrevented()||d.hide()}}}function G(){B||(B=function(a){2!=a.button&&x(a)},H(document).on("click touchstart",B))}function N(){F||(F=function(){var a;for(a=k.length;a--;){M(k[a])}},H(window).on("scroll",F))}function q(){if(!J){var b=document.documentElement,a=b.clientWidth,c=b.clientHeight;J=function(){document.all&&a==b.clientWidth&&c==b.clientHeight||(a=b.clientWidth,c=b.clientHeight,z.hideAll())},H(window).on("resize",J)}}function M(b){function a(e,g){for(var f,d=0;d<k.length;d++){if(k[d]!=b){for(f=k[d].parent();f&&(f=f.parent());){f==b&&k[d].fixed(e).moveBy(0,g).repaint()}}}}var c=A.getViewPort().y;b.settings.autofix&&(b.state.get("fixed")?b._autoFixY>c&&(b.fixed(!1).layoutRect({y:b._autoFixY}).repaint(),a(!1,b._autoFixY-c)):(b._autoFixY=b.layoutRect().y,b._autoFixY<c&&(b.fixed(!0).layoutRect({y:0}).repaint(),a(!0,c-b._autoFixY))))}function K(f,c){var h,d=z.zIndex||65535,g;if(f){j.push(c)}else{for(h=j.length;h--;){j[h]===c&&j.splice(h,1)}}if(j.length){for(h=0;h<j.length;h++){j[h].modal&&(d++,g=j[h]),j[h].getEl().style.zIndex=d,j[h].zIndex=d,d++}}var b=H("#"+c.classPrefix+"modal-block",c.getContainerElm())[0];g?H(b).css("z-index",g.zIndex-1):b&&(b.parentNode.removeChild(b),O=!1),z.currentZIndex=d}function I(b){var a;for(a=k.length;a--;){k[a]===b&&k.splice(a,1)}for(a=j.length;a--;){j[a]===b&&j.splice(a,1)}}var B,F,J,k=[],j=[],O,z=L.extend({Mixins:[w,E],init:function(b){var a=this;a._super(b),a._eventsRoot=a,a.classes.add("floatpanel"),b.autohide&&(G(),q(),k.push(a)),b.autofix&&(N(),a.on("move",function(){M(this)})),a.on("postrender show",function(d){if(d.control==a){var f,c=a.classPrefix;a.modal&&!O&&(f=H("#"+c+"modal-block",a.getContainerElm()),f[0]||(f=H('<div id="'+c+'modal-block" class="'+c+"reset "+c+'fade"></div>').appendTo(a.getContainerElm())),D.setTimeout(function(){f.addClass(c+"in"),H(a.getEl()).addClass(c+"in")}),O=!0),K(!0,a)}}),a.on("show",function(){a.parents().each(function(c){return c.state.get("fixed")?(a.fixed(!0),!1):void 0})}),b.popover&&(a._preBodyHtml='<div class="'+a.classPrefix+'arrow"></div>',a.classes.add("popover").add("bottom").add(a.isRtl()?"end":"start")),a.aria("label",b.ariaLabel),a.aria("labelledby",a._id),a.aria("describedby",a.describedBy||a._id+"-none")},fixed:function(b){var a=this;if(a.state.get("fixed")!=b){if(a.state.get("rendered")){var c=A.getViewPort();b?a.layoutRect().y-=c.y:a.layoutRect().y+=c.y}a.classes.toggle("fixed",b),a.state.set("fixed",b)}return a},show:function(){var b=this,a,c=b._super();for(a=k.length;a--&&k[a]!==b;){}return -1===a&&k.push(b),c},hide:function(){return I(this),K(!1,this),this._super()},hideAll:function(){z.hideAll()},close:function(){var a=this;return a.fire("close").isDefaultPrevented()||(a.remove(),K(!1,a)),a},remove:function(){I(this),this._super()},postRender:function(){var a=this;return a.settings.bodyRole&&this.getEl("body").setAttribute("role",a.settings.bodyRole),a._super()}});return z.hideAll=function(){for(var b=k.length;b--;){var a=k[b];a&&a.settings.autohide&&(a.hide(),k.splice(b,1))}},z}),bx(cK,[ak,ar,bl,bL,am,cJ,bP,bs],function(v,A,j,b,m,g,y,B){function k(d){var c="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",f=b("meta[name=viewport]")[0],a;y.overrideViewPort!==!1&&(f||(f=document.createElement("meta"),f.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(f)),a=f.getAttribute("content"),a&&"undefined"!=typeof q&&(q=a),f.setAttribute("content",d?c:q))}function x(c){for(var a=0;a<w.length;a++){if(w[a]._fullscreen){return}}b([document.documentElement,document.body]).removeClass(c+"fullscreen")}function z(){function c(){var h,d=j.getWindowSize(),f;for(h=0;h<w.length;h++){f=w[h].layoutRect(),w[h].moveTo(w[h].settings.x||Math.max(0,d.w/2-f.w/2),w[h].settings.y||Math.max(0,d.h/2-f.h/2))}}if(!y.desktop){var a={w:window.innerWidth,h:window.innerHeight};B.setInterval(function(){var d=window.innerWidth,f=window.innerHeight;a.w==d&&a.h==f||(a={w:d,h:f},b(window).trigger("resize"))},100)}b(window).on("resize",c)}var w=[],q="",p=v.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(c){var a=this;a._super(c),a.isRtl()&&a.classes.add("rtl"),a.classes.add("window"),a.bodyClasses.add("window-body"),a.state.set("fixed",!0),c.buttons&&(a.statusbar=new A({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:a.isRtl()?"start":"end",defaults:{type:"button"},items:c.buttons}),a.statusbar.classes.add("foot"),a.statusbar.parent(a)),a.on("click",function(f){var d=a.classPrefix+"close";(j.hasClass(f.target,d)||j.hasClass(f.target.parentNode,d))&&a.close()}),a.on("cancel",function(){a.close()}),a.aria("describedby",a.describedBy||a._id+"-none"),a.aria("label",c.title),a._fullscreen=!1},recalc:function(){var l=this,f=l.statusbar,h,d,n,c;l._fullscreen&&(l.layoutRect(j.getWindowSize()),l.layoutRect().contentH=l.layoutRect().innerH),l._super(),h=l.layoutRect(),l.settings.title&&!l._fullscreen&&(d=h.headerW,d>h.w&&(n=h.x-Math.max(0,d/2),l.layoutRect({w:d,x:n}),c=!0)),f&&(f.layoutRect({w:l.layoutRect().innerW}).recalc(),d=f.layoutRect().minW+h.deltaW,d>h.w&&(n=h.x-Math.max(0,d-h.w),l.layoutRect({w:d,x:n}),c=!0)),c&&l.recalc()},initLayoutRect:function(){var l=this,f=l._super(),h=0,d;if(l.settings.title&&!l._fullscreen){d=l.getEl("head");var n=j.getSize(d);f.headerW=n.width,f.headerH=n.height,h+=f.headerH}l.statusbar&&(h+=l.statusbar.layoutRect().h),f.deltaH+=h,f.minH+=h,f.h+=h;var c=j.getWindowSize();return f.x=l.settings.x||Math.max(0,c.w/2-f.w/2),f.y=l.settings.y||Math.max(0,c.h/2-f.h/2),f},renderHtml:function(){var u=this,f=u._layout,D=u._id,l=u.classPrefix,d=u.settings,C="",c="",h=d.html;return u.preRender(),f.preRender(u),d.title&&(C='<div id="'+D+'-head" class="'+l+'window-head"><div id="'+D+'-title" class="'+l+'title">'+u.encode(d.title)+'</div><div id="'+D+'-dragh" class="'+l+'dragh"></div><button type="button" class="'+l+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),d.url&&(h='<iframe src="'+d.url+'" tabindex="-1"></iframe>'),"undefined"==typeof h&&(h=f.renderHtml(u)),u.statusbar&&(c=u.statusbar.renderHtml()),'<div id="'+D+'" class="'+u.classes+'" hidefocus="1"><div class="'+u.classPrefix+'reset" role="application">'+C+'<div id="'+D+'-body" class="'+u.bodyClasses+'">'+h+"</div>"+c+"</div></div>"},fullscreen:function(r){var o=this,n=document.documentElement,f,d=o.classPrefix,s;if(r!=o._fullscreen){if(b(window).on("resize",function(){var c;if(o._fullscreen){if(f){o._timer||(o._timer=B.setTimeout(function(){var i=j.getWindowSize();o.moveTo(0,0).resizeTo(i.w,i.h),o._timer=0},50))}else{c=(new Date).getTime();var a=j.getWindowSize();o.moveTo(0,0).resizeTo(a.w,a.h),(new Date).getTime()-c>50&&(f=!0)}}}),s=o.layoutRect(),o._fullscreen=r,r){o._initial={x:s.x,y:s.y,w:s.w,h:s.h},o.borderBox=g.parseBox("0"),o.getEl("head").style.display="none",s.deltaH-=s.headerH+2,b([n,document.body]).addClass(d+"fullscreen"),o.classes.add("fullscreen");var h=j.getWindowSize();o.moveTo(0,0).resizeTo(h.w,h.h)}else{o.borderBox=g.parseBox(o.settings.border),o.getEl("head").style.display="",s.deltaH+=s.headerH,b([n,document.body]).removeClass(d+"fullscreen"),o.classes.remove("fullscreen"),o.moveTo(o._initial.x,o._initial.y).resizeTo(o._initial.w,o._initial.h)}}return o.reflow()},postRender:function(){var c=this,a;setTimeout(function(){c.classes.add("in"),c.fire("open")},0),c._super(),c.statusbar&&c.statusbar.postRender(),c.focus(),this.dragHelper=new m(c._id+"-dragh",{start:function(){a={x:c.layoutRect().x,y:c.layoutRect().y}},drag:function(d){c.moveTo(a.x+d.deltaX,a.y+d.deltaY)}}),c.on("submit",function(d){d.isDefaultPrevented()||c.close()}),w.push(c),k(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var c=this,a;for(c.dragHelper.destroy(),c._super(),c.statusbar&&this.statusbar.remove(),a=w.length;a--;){w[a]===c&&w.splice(a,1)}k(w.length>0),x(c.classPrefix)},getContentWindow:function(){var a=this.getEl().getElementsByTagName("iframe")[0];return a?a.contentWindow:null}});return z(),p}),bx(al,[cK],function(b){var a=b.extend({init:function(c){c={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(c)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(f){function d(h,g,i){return{type:"button",text:h,subtype:i?"primary":"",onClick:function(j){j.control.parents()[1].close(),e(g)}}}var c,e=f.callback||function(){};switch(f.buttons){case a.OK_CANCEL:c=[d("Ok",!0,!0),d("Cancel",!1)];break;case a.YES_NO:case a.YES_NO_CANCEL:c=[d("Yes",1,!0),d("No",0)],f.buttons==a.YES_NO_CANCEL&&c.push(d("Cancel",-1));break;default:c=[d("Ok",!0,!0)]}return new b({padding:20,x:f.x,y:f.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:c,title:f.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:f.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:f.onClose,onCancel:function(){e(!1)}}).renderTo(document.body).reflow()},alert:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,a.msgBox(c)},confirm:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,c.buttons=a.OK_CANCEL,a.msgBox(c)}}});return a}),bx(a0,[cK,al],function(b,a){return function(h){function f(){return e.length?e[e.length-1]:void 0}function d(i){h.fire("OpenWindow",{win:i})}function g(i){h.fire("CloseWindow",{win:i})}var c=this,e=[];c.windows=e,h.on("remove",function(){for(var i=e.length;i--;){e[i].close()}}),c.open=function(j,k){var i;return h.editorManager.setActive(h),j.title=j.title||" ",j.url=j.url||j.file,j.url&&(j.width=parseInt(j.width||320,10),j.height=parseInt(j.height||240,10)),j.body&&(j.items={defaults:j.defaults,type:j.bodyType||"form",items:j.body,data:j.data,callbacks:j.commands}),j.url||j.buttons||(j.buttons=[{text:"Ok",subtype:"primary",onclick:function(){i.find("form")[0].submit()}},{text:"Cancel",onclick:function(){i.close()}}]),i=new b(j),e.push(i),i.on("close",function(){for(var l=e.length;l--;){e[l]===i&&e.splice(l,1)}e.length||h.focus(),g(i)}),j.data&&i.on("postRender",function(){this.find("*").each(function(l){var m=l.name();m in j.data&&l.value(j.data[m])})}),i.features=j||{},i.params=k||{},1===e.length&&h.nodeChanged(),i=i.renderTo().reflow(),d(i),i},c.alert=function(l,k,i){var j;j=a.alert(l,function(){k?k.call(i||this):h.focus()}),j.on("close",function(){g(j)}),d(j)},c.confirm=function(k,l,j){var i;i=a.confirm(k,function(m){l.call(j||this,m)}),i.on("close",function(){g(i)}),d(i)},c.close=function(){f()&&f().close()},c.getParams=function(){return f()?f().params:null},c.setParams=function(i){f()&&(f().params=i)},c.getWindows=function(){return e}}}),bx(aR,[cL,ag],function(b,a){return b.extend({Mixins:[a],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var d=this,c=d.classPrefix;return'<div id="'+d._id+'" class="'+d.classes+'" role="presentation"><div class="'+c+'tooltip-arrow"></div><div class="'+c+'tooltip-inner">'+d.encode(d.state.get("text"))+"</div></div>"},bindStates:function(){var c=this;return c.state.on("change:text",function(d){c.getEl().lastChild.innerHTML=c.encode(d.value)}),c._super()},repaint:function(){var d=this,c,f;c=d.getEl().style,f=d._layoutRect,c.left=f.x+"px",c.top=f.y+"px",c.zIndex=131070}})}),bx(aB,[cL,aR],function(c,a){var d,b=c.extend({init:function(g){var f=this;f._super(g),g=f.settings,f.canFocus=!0,g.tooltip&&b.tooltips!==!1&&(f.on("mouseenter",function(j){var h=f.tooltip().moveTo(-65535);if(j.control==f){var e=h.text(g.tooltip).show().testMoveRel(f.getEl(),["bc-tc","bc-tl","bc-tr"]);h.classes.toggle("tooltip-n","bc-tc"==e),h.classes.toggle("tooltip-nw","bc-tl"==e),h.classes.toggle("tooltip-ne","bc-tr"==e),h.moveRel(f.getEl(),e)}else{h.hide()}}),f.on("mouseleave mousedown click",function(){f.tooltip().hide()})),f.aria("label",g.ariaLabel||g.tooltip)},tooltip:function(){return d||(d=new a({type:"tooltip"}),d.renderTo()),d},postRender:function(){var g=this,f=g.settings;g._super(),g.parent()||!f.width&&!f.height||(g.initLayoutRect(),g.repaint()),f.autofocus&&g.focus()},bindStates:function(){function g(i){h.aria("disabled",i),h.classes.toggle("disabled",i)}function f(i){h.aria("pressed",i),h.classes.toggle("active",i)}var h=this;return h.state.on("change:disabled",function(e){g(e.value)}),h.state.on("change:active",function(i){f(i.value)}),h.state.get("disabled")&&g(!0),h.state.get("active")&&f(!0),h._super()},remove:function(){this._super(),d&&(d.remove(),d=null)}});return b}),bx(bb,[aB],function(a){return a.extend({Defaults:{value:0},init:function(c){var b=this;b._super(c),b.classes.add("progress"),b.settings.filter||(b.settings.filter=function(d){return Math.round(d)})},renderHtml:function(){var c=this,b=c._id,d=this.classPrefix;return'<div id="'+b+'" class="'+c.classes+'"><div class="'+d+'bar-container"><div class="'+d+'bar"></div></div><div class="'+d+'text">0%</div></div>'},postRender:function(){var b=this;return b._super(),b.value(b.settings.value),b},bindStates:function(){function c(d){d=b.settings.filter(d),b.getEl().lastChild.innerHTML=d+"%",b.getEl().firstChild.firstChild.style.width=d+"%"}var b=this;return b.state.on("change:value",function(d){c(d.value)}),c(b.state.get("value")),b._super()}})}),bx(a3,[cL,ag,bb,bs],function(c,a,d,b){return c.extend({Mixins:[a],Defaults:{classes:"widget notification"},init:function(g){var f=this;f._super(g),g.text&&f.text(g.text),g.icon&&(f.icon=g.icon),g.color&&(f.color=g.color),g.type&&f.classes.add("notification-"+g.type),g.timeout&&(g.timeout<0||g.timeout>0)&&!g.closeButton?f.closeButton=!1:(f.classes.add("has-close"),f.closeButton=!0),g.progressBar&&(f.progressBar=new d),f.on("click",function(h){-1!=h.target.className.indexOf(f.classPrefix+"close")&&f.close()})},renderHtml:function(){var j=this,g=j.classPrefix,l="",h="",f="",k="";return j.icon&&(l='<i class="'+g+"ico "+g+"i-"+j.icon+'"></i>'),j.color&&(k=' style="background-color: '+j.color+'"'),j.closeButton&&(h='<button type="button" class="'+g+'close" aria-hidden="true">\xd7</button>'),j.progressBar&&(f=j.progressBar.renderHtml()),'<div id="'+j._id+'" class="'+j.classes+'"'+k+' role="presentation">'+l+'<div class="'+g+'notification-inner">'+j.state.get("text")+"</div>"+f+h+"</div>"},postRender:function(){var f=this;return b.setTimeout(function(){f.$el.addClass(f.classPrefix+"in")}),f._super()},bindStates:function(){var f=this;return f.state.on("change:text",function(e){f.getEl().childNodes[1].innerHTML=e.value}),f.progressBar&&f.progressBar.bindStates(),f._super()},close:function(){var f=this;return f.fire("close").isDefaultPrevented()||f.remove(),f},repaint:function(){var g=this,f,h;f=g.getEl().style,h=g._layoutRect,f.left=h.x+"px",f.top=h.y+"px",f.zIndex=131070}})}),bx(aD,[a3,bs],function(b,a){return function(j){function g(){return c.length?c[c.length-1]:void 0}function e(){a.requestAnimationFrame(function(){h(),d()})}function h(){for(var i=0;i<c.length;i++){c[i].moveTo(0,0)}}function d(){if(c.length>0){var l=c.slice(0,1)[0],i=j.inline?j.getElement():j.getContentAreaContainer();if(l.moveRel(i,"tc-tc"),c.length>1){for(var k=1;k<c.length;k++){c[k].moveRel(c[k-1].getEl(),"bc-tc")}}}}var f=this,c=[];f.notifications=c,j.on("remove",function(){for(var i=c.length;i--;){c[i].close()}}),j.on("ResizeEditor",d),j.on("ResizeWindow",e),f.open=function(i){var k;return j.editorManager.setActive(j),k=new b(i),c.push(k),i.timeout>0&&(k.timer=setTimeout(function(){k.close()},i.timeout)),k.on("close",function(){var l=c.length;for(k.timer&&j.getWin().clearTimeout(k.timer);l--;){c[l]===k&&c.splice(l,1)}d()}),k.renderTo(),d(),k},f.close=function(){g()&&g().close()},f.getNotifications=function(){return c},j.on("SkinLoaded",function(){var i=j.settings.service_message;i&&j.notificationManager.open({text:i,type:"warning",timeout:0,icon:""})})}}),bx(cI,[bq],function(b){function a(e,g,f){for(var d=[];g&&g!=e;g=g.parentNode){d.push(b.nodeIndex(g,f))}return d}function c(h,f){var j,g,d;for(g=h,j=f.length-1;j>=0;j--){if(d=g.childNodes,f[j]>d.length-1){return null}g=d[f[j]]}return g}return{create:a,resolve:c}}),bx(aL,[ck,b4,bn,cI,cx,cu,bP,bE,bs,bG,cH,cy],function(k,w,g,b,j,f,q,x,h,p,v,m){return function(ds){function dq(z,y){try{ds.getDoc().execCommand(z,!1,y)}catch(A){}}function dl(){var y=ds.getDoc().documentMode;return y?y:6}function dm(y){return y.isDefaultPrevented()}function dr(z){var y,A;z.dataTransfer&&(ds.selection.isCollapsed()&&"IMG"==z.target.tagName&&df.select(z.target),y=ds.selection.getContent(),y.length>0&&(A=di+escape(ds.id)+","+escape(y),z.dataTransfer.setData(c3,A)))}function dj(z){var y;return z.dataTransfer&&(y=z.dataTransfer.getData(c3),y&&y.indexOf(di)>=0)?(y=y.substr(di.length).split(","),{id:unescape(y[0]),html:unescape(y[1])}):null}function dd(y){ds.queryCommandSupported("mceInsertClipboardContent")?ds.execCommand("mceInsertClipboardContent",!1,{content:y}):ds.execCommand("mceInsertContent",!1,y)}function dt(){function B(E){var C=y.schema.getBlockElements(),N=ds.getBody();if("BR"!=E.nodeName){return !1}for(;E!=N&&!C[E.nodeName];E=E.parentNode){if(E.nextSibling){return !1}}return !0}function A(E,C){var N;for(N=E.nextSibling;N&&N!=C;N=N.nextSibling){if((3!=N.nodeType||0!==c.trim(N.data).length)&&N!==C){return !1}}return N===C}function K(Q,E,P){var R,C,N;for(N=y.schema.getNonEmptyElements(),R=new g(P||Q,Q);C=R[E?"next":"prev"]();){if(N[C.nodeName]&&!B(C)){return C}if(3==C.nodeType&&C.data.length>0){return C}}}function H(P){var R,N,C,Q,E;if(!P.collapsed&&(R=y.getParent(w.getNode(P.startContainer,P.startOffset),y.isBlock),N=y.getParent(w.getNode(P.endContainer,P.endOffset),y.isBlock),E=ds.schema.getTextBlockElements(),R!=N&&E[R.nodeName]&&E[N.nodeName]&&"false"!==y.getContentEditable(R)&&"false"!==y.getContentEditable(N))){return P.deleteContents(),C=K(R,!1),Q=K(N,!0),y.isEmpty(N)||c(R).append(N.childNodes),c(N).remove(),C?1==C.nodeType?"BR"==C.nodeName?(P.setStartBefore(C),P.setEndBefore(C)):(P.setStartAfter(C),P.setEndAfter(C)):(P.setStart(C,C.data.length),P.setEnd(C,C.data.length)):Q&&(1==Q.nodeType?(P.setStartBefore(Q),P.setEndBefore(Q)):(P.setStart(Q,0),P.setEnd(Q,0))),J.setRng(P),!0}}function M(R,T){var Q,N,P,C,S,E;if(!R.collapsed){return R}if(S=R.startContainer,E=R.startOffset,3==S.nodeType){if(T){if(E<S.data.length){return R}}else{if(E>0){return R}}}if(Q=w.getNode(R.startContainer,R.startOffset),P=y.getParent(Q,y.isBlock),N=K(ds.getBody(),T,Q),C=y.getParent(N,y.isBlock),!Q||!N){return R}if(C&&P!=C){if(T){if(!A(P,C)){return R}1==Q.nodeType?"BR"==Q.nodeName?R.setStartBefore(Q):R.setStartAfter(Q):R.setStart(Q,Q.data.length),1==N.nodeType?R.setEnd(N,0):R.setEndBefore(N)}else{if(!A(C,P)){return R}1==N.nodeType?"BR"==N.nodeName?R.setStartBefore(N):R.setStartAfter(N):R.setStart(N,N.data.length),1==Q.nodeType?R.setEnd(Q,0):R.setEndBefore(Q)}}return R}function G(E){var C=J.getRng();return C=M(C,E),H(C)?!0:void 0}function D(T,Y){function N(Z,ae){return P=c(ae).parents().filter(function(de,ce){return !!ds.schema.getTextInlineElements()[ce.nodeName]}),Q=Z.cloneNode(!1),P=x.map(P,function(ce){return ce=ce.cloneNode(!1),Q.hasChildNodes()?(ce.appendChild(Q.firstChild),Q.appendChild(ce)):Q.appendChild(ce),Q.appendChild(ce),ce}),P.length?(C=y.create("br"),P[0].appendChild(C),y.replace(Q,Z),Y.setStartBefore(C),Y.setEndBefore(C),ds.selection.setRng(Y),C):null}function R(Z){return Z&&ds.schema.getTextBlockElements()[Z.tagName]}var E,W,Q,V,X,U,S,C,P;if(Y.collapsed&&(U=Y.startContainer,S=Y.startOffset,W=y.getParent(U,y.isBlock),R(W))){if(1==U.nodeType){if(U=U.childNodes[S],U&&"BR"!=U.tagName){return}if(X=T?W.nextSibling:W.previousSibling,y.isEmpty(W)&&R(X)&&y.isEmpty(X)&&N(W,U)){return y.remove(X),!0}}else{if(3==U.nodeType){if(E=b.create(W,U),V=W.cloneNode(!0),U=b.resolve(V,E),T){if(S>=U.data.length){return}U.deleteData(S,1)}else{if(0>=S){return}U.deleteData(S-1,1)}if(y.isEmpty(V)){return N(W,U)}}}}}function z(N){var C,P,E;G(N)||(x.each(ds.getBody().getElementsByTagName("*"),function(Q){"SPAN"==Q.tagName&&Q.setAttribute("mce-data-marked",1),!Q.hasAttribute("data-mce-style")&&Q.hasAttribute("style")&&ds.dom.setAttrib(Q,"style",ds.dom.getAttrib(Q,"style"))}),C=new L(function(){}),C.observe(ds.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),ds.getDoc().execCommand(N?"ForwardDelete":"Delete",!1,null),P=ds.selection.getRng(),E=P.startContainer.parentNode,x.each(C.takeRecords(),function(R){if(y.isChildOf(R.target,ds.getBody())){if("style"==R.attributeName){var Q=R.target.getAttribute("data-mce-style");Q?R.target.setAttribute("style",Q):R.target.removeAttribute("style")}x.each(R.addedNodes,function(U){if("SPAN"==U.nodeName&&!U.getAttribute("mce-data-marked")){var T,S;U==E&&(T=P.startOffset,S=U.firstChild),y.remove(U,!0),S&&(P.setStart(S,T),P.setEnd(S,T),ds.selection.setRng(P))}})}}),C.disconnect(),x.each(ds.dom.select("span[mce-data-marked]"),function(Q){Q.removeAttribute("mce-data-marked")}))}var I=ds.getDoc(),y=ds.dom,J=ds.selection,L=window.MutationObserver,F,O;L||(F=!0,L=function(){function N(R){var Q=R.relatedNode||R.target;P.push({target:Q,addedNodes:[Q]})}function C(R){var Q=R.relatedNode||R.target;P.push({target:Q,attributeName:R.attrName})}var P=[],E;this.observe=function(Q){E=Q,E.addEventListener("DOMSubtreeModified",N,!1),E.addEventListener("DOMNodeInsertedIntoDocument",N,!1),E.addEventListener("DOMNodeInserted",N,!1),E.addEventListener("DOMAttrModified",C,!1)},this.disconnect=function(){E.removeEventListener("DOMSubtreeModified",N,!1),E.removeEventListener("DOMNodeInsertedIntoDocument",N,!1),E.removeEventListener("DOMNodeInserted",N,!1),E.removeEventListener("DOMAttrModified",C,!1)},this.takeRecords=function(){return P}}),ds.on("keydown",function(P){var E=P.keyCode==i,R=P.ctrlKey||P.metaKey;if(!dm(P)&&(E||P.keyCode==du)){var N=ds.selection.getRng(),C=N.startContainer,Q=N.startOffset;if(E&&P.shiftKey){return}if(D(E,N)){return void P.preventDefault()}if(!R&&N.collapsed&&3==C.nodeType&&(E?Q<C.data.length:Q>0)){return}P.preventDefault(),R&&ds.selection.getSel().modify("extend",E?"forward":"backward",P.metaKey?"lineboundary":"word"),z(E)}}),ds.on("keypress",function(N){if(!dm(N)&&!J.isCollapsed()&&N.charCode>31&&!k.metaKeyPressed(N)){var S,Q,E,R,C,P;S=ds.selection.getRng(),P=String.fromCharCode(N.charCode),N.preventDefault(),Q=c(S.startContainer).parents().filter(function(U,T){return !!ds.schema.getTextInlineElements()[T.nodeName]}),z(!0),Q=Q.filter(function(U,T){return !c.contains(ds.getBody(),T)}),Q.length?(E=y.createFragment(),Q.each(function(U,T){T=T.cloneNode(!1),E.hasChildNodes()?(T.appendChild(E.firstChild),E.appendChild(T)):(C=T,E.appendChild(T)),E.appendChild(T)}),C.appendChild(ds.getDoc().createTextNode(P)),R=y.getParent(S.startContainer,y.isBlock),y.isEmpty(R)?c(R).empty().append(E):S.insertNode(E),S.setStart(C.firstChild,1),S.setEnd(C.firstChild,1),ds.selection.setRng(S)):ds.selection.setContent(P)}}),ds.addCommand("Delete",function(){z()}),ds.addCommand("ForwardDelete",function(){z(!0)}),F||(ds.on("dragstart",function(C){O=J.getRng(),dr(C)}),ds.on("drop",function(C){if(!dm(C)){var E=dj(C);E&&(C.preventDefault(),h.setEditorTimeout(ds,function(){var N=w.getCaretRangeFromPoint(C.x,C.y,I);O&&(J.setRng(O),O=null),z(),J.setRng(N),dd(E.html)}))}}),ds.on("cut",function(C){dm(C)||!C.clipboardData||ds.selection.isCollapsed()||(C.preventDefault(),C.clipboardData.clearData(),C.clipboardData.setData("text/html",ds.selection.getContent()),C.clipboardData.setData("text/plain",ds.selection.getContent({format:"text"})),h.setEditorTimeout(ds,function(){z(!0)}))}))}function c2(){function y(B){var A=a.create("body"),C=B.cloneContents();return A.appendChild(C),df.serializer.serialize(A,{format:"html"})}function z(E){if(!E.setStart){if(E.item){return !1}var C=E.duplicate();return C.moveToElementText(ds.getBody()),w.compareRanges(E,C)}var B=y(E),D=a.createRng();D.selectNode(ds.getBody());var A=y(D);return B===A}ds.on("keydown",function(D){var B=D.keyCode,C,A;if(!dm(D)&&(B==i||B==du)){if(C=ds.selection.isCollapsed(),A=ds.getBody(),C&&!a.isEmpty(A)){return}if(!C&&!z(ds.selection.getRng())){return}D.preventDefault(),ds.setContent(""),A.firstChild&&a.isBlock(A.firstChild)?ds.selection.setCursorLocation(A.firstChild,0):ds.selection.setCursorLocation(A,0),ds.nodeChanged()}})}function dg(){ds.shortcuts.add("meta+a",null,"SelectAll")}function dh(){ds.settings.content_editable||a.bind(ds.getDoc(),"mousedown mouseup",function(z){var y;if(z.target==ds.getDoc().documentElement){if(y=df.getRng(),ds.getBody().focus(),"mousedown"==z.type){if(p.isCaretContainer(y.startContainer)){return}df.placeCaretAt(z.clientX,z.clientY)}else{df.setRng(y)}}})}function bt(){ds.on("keydown",function(z){if(!dm(z)&&z.keyCode===du){if(!ds.getBody().getElementsByTagName("hr").length){return}if(df.isCollapsed()&&0===df.getRng(!0).startOffset){var y=df.getNode(),A=y.previousSibling;if("HR"==y.nodeName){return a.remove(y),void z.preventDefault()}A&&A.nodeName&&"hr"===A.nodeName.toLowerCase()&&(a.remove(A),z.preventDefault())}}})}function cZ(){window.Range.prototype.getClientRects||ds.on("mousedown",function(z){if(!dm(z)&&"HTML"===z.target.nodeName){var y=ds.getBody();y.blur(),h.setEditorTimeout(ds,function(){y.focus()})}})}function dv(){ds.on("click",function(z){var y=z.target;/^(IMG|HR)$/.test(y.nodeName)&&"false"!==a.getContentEditableParent(y)&&(z.preventDefault(),df.getSel().setBaseAndExtent(y,0,y,1),ds.nodeChanged()),"A"==y.nodeName&&a.hasClass(y,"mce-item-anchor")&&(z.preventDefault(),df.select(y))})}function s(){function z(){var A=a.getAttribs(df.getStart().cloneNode(!1));return function(){var B=df.getStart();B!==ds.getBody()&&(a.setAttrib(B,"style",null),u(A,function(C){B.setAttributeNode(C.cloneNode(!0))}))}}function y(){return !df.isCollapsed()&&a.getParent(df.getStart(),a.isBlock)!=a.getParent(df.getEnd(),a.isBlock)}ds.on("keypress",function(B){var A;return dm(B)||8!=B.keyCode&&46!=B.keyCode||!y()?void 0:(A=z(),ds.getDoc().execCommand("delete",!1,null),A(),B.preventDefault(),!1)}),a.bind(ds.getDoc(),"cut",function(B){var A;!dm(B)&&y()&&(A=z(),h.setEditorTimeout(ds,function(){A()}))})}function dn(){document.body.setAttribute("role","application")}function r(){ds.on("keydown",function(z){if(!dm(z)&&z.keyCode===du&&df.isCollapsed()&&0===df.getRng(!0).startOffset){var y=df.getNode().previousSibling;if(y&&y.nodeName&&"table"===y.nodeName.toLowerCase()){return z.preventDefault(),!1}}})}function t(){dl()>7||(dq("RespectVisibilityInDesign",!0),ds.contentStyles.push(".mceHideBrInPre pre br {display: none}"),a.addClass(ds.getBody(),"mceHideBrInPre"),db.addNodeFilter("pre",function(B){for(var z=B.length,D,A,C,y;z--;){for(D=B[z].getAll("br"),A=D.length;A--;){C=D[A],y=C.prev,y&&3===y.type&&"\n"!=y.value.charAt(y.value-1)?y.value+="\n":C.parent.insert(new j("#text",3),C,!0).value="\n"}}}),c0.addNodeFilter("pre",function(B){for(var z=B.length,D,A,y,C;z--;){for(D=B[z].getAll("br"),A=D.length;A--;){y=D[A],C=y.prev,C&&3==C.type&&(C.value=C.value.replace(/\r?\n$/,""))}}}))}function c5(){a.bind(ds.getBody(),"mouseup",function(){var z,y=df.getNode();"IMG"==y.nodeName&&((z=a.getStyle(y,"width"))&&(a.setAttrib(y,"width",z.replace(/[^0-9%]+/g,"")),a.setStyle(y,"width","")),(z=a.getStyle(y,"height"))&&(a.setAttrib(y,"height",z.replace(/[^0-9%]+/g,"")),a.setStyle(y,"height","")))})}function c4(){ds.on("keydown",function(A){var D,B,z,C,y;if(!dm(A)&&A.keyCode==k.BACKSPACE&&(D=df.getRng(),B=D.startContainer,z=D.startOffset,C=a.getRoot(),y=B,D.collapsed&&0===z)){for(;y&&y.parentNode&&y.parentNode.firstChild==y&&y.parentNode!=C;){y=y.parentNode}"BLOCKQUOTE"===y.tagName&&(ds.formatter.toggle("blockquote",null,y),D=a.createRng(),D.setStart(B,0),D.setEnd(B,0),df.setRng(D))}})}function c1(){function y(){cT(),dq("StyleWithCSS",!1),dq("enableInlineTableEditing",!1),c9.object_resizing||dq("enableObjectResizing",!1)}c9.readonly||ds.on("BeforeExecCommand MouseDown",y)}function cS(){function y(){u(a.select("a"),function(A){var z=A.parentNode,B=a.getRoot();if(z.lastChild===A){for(;z&&!a.isBlock(z);){if(z.parentNode.lastChild!==z||z===B){return}z=z.parentNode}a.add(z,"br",{"data-mce-bogus":1})}})}ds.on("SetContent ExecCommand",function(z){"setcontent"!=z.type&&"mceInsertLink"!==z.command||y()})}function ct(){c9.forced_root_block&&ds.on("init",function(){dq("DefaultParagraphSeparator",c9.forced_root_block)})}function at(){ds.on("keydown",function(z){var y;dm(z)||z.keyCode!=du||(y=ds.getDoc().selection.createRange(),y&&y.item&&(z.preventDefault(),ds.undoManager.beforeChange(),a.remove(y.item(0)),ds.undoManager.add()))})}function cW(){var y;dl()>=10&&(y="",u("p div h1 h2 h3 h4 h5 h6".split(" "),function(z,A){y+=(A>0?",":"")+z+":empty"}),ds.contentStyles.push(y+"{padding-right: 1px !important}"))}function be(){dl()<9&&(db.addNodeFilter("noscript",function(A){for(var y=A.length,B,z;y--;){B=A[y],z=B.firstChild,z&&B.attr("data-mce-innertext",z.value)}}),c0.addNodeFilter("noscript",function(B){for(var z=B.length,C,A,y;z--;){C=B[z],A=B[z].firstChild,A?A.value=f.decode(A.value):(y=C.attributes.map["data-mce-innertext"],y&&(C.attr("data-mce-innertext",null),A=new j("#text",3),A.value=y,A.raw=!0,C.append(A)))}}))}function cV(){function D(I,G){var J=z.createTextRange();try{J.moveToPoint(I,G)}catch(H){J=null}return J}function A(G){var H;G.button?(H=D(G.x,G.y),H&&(H.compareEndPoints("StartToStart",y)>0?H.setEndPoint("StartToStart",y):H.setEndPoint("EndToEnd",y),H.select())):F()}function F(){var G=C.selection.createRange();y&&!G.item&&0===G.compareEndPoints("StartToEnd",G)&&y.select(),a.unbind(C,"mouseup",F),a.unbind(C,"mousemove",A),y=E=0}var C=a.doc,z=C.body,E,y,B;C.documentElement.unselectable=!0,a.bind(C,"mousedown contextmenu",function(G){if("HTML"===G.target.nodeName){if(E&&F(),B=C.documentElement,B.scrollHeight>B.clientHeight){return}E=1,y=D(G.x,G.y),y&&(a.bind(C,"mouseup",F),a.bind(C,"mousemove",A),a.getRoot().focus(),y.select())}})}function cY(){ds.on("keyup focusin mouseup",function(y){65==y.keyCode&&k.metaKeyPressed(y)||df.normalize()},!0)}function dc(){ds.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function o(){ds.inline||ds.on("keydown",function(){document.activeElement==document.body&&ds.getWin().focus()})}function l(){ds.inline||(ds.contentStyles.push("body {min-height: 150px}"),ds.on("click",function(z){var y;if("HTML"==z.target.nodeName){if(q.ie>11){return void ds.getBody().focus()}y=ds.selection.getRng(),ds.getBody().focus(),ds.selection.setRng(y),ds.selection.normalize(),ds.nodeChanged()}}))}function n(){q.mac&&ds.on("keydown",function(y){!k.metaKeyPressed(y)||y.shiftKey||37!=y.keyCode&&39!=y.keyCode||(y.preventDefault(),ds.selection.getSel().modify("move",37==y.keyCode?"backward":"forward","lineboundary"))})}function c7(){dq("AutoUrlDetect",!1)}function dk(){ds.on("click",function(z){var y=z.target;do{if("A"===y.tagName){return void z.preventDefault()}}while(y=y.parentNode)}),ds.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function dp(){ds.on("init",function(){ds.dom.bind(ds.getBody(),"submit",function(y){y.preventDefault()})})}function d(){db.addNodeFilter("br",function(z){for(var y=z.length;y--;){"Apple-interchange-newline"==z[y].attr("class")&&z[y].remove()}})}function e(){ds.on("dragstart",function(y){dr(y)}),ds.on("drop",function(z){if(!dm(z)){var A=dj(z);if(A&&A.id!=ds.id){z.preventDefault();var y=w.getCaretRangeFromPoint(z.x,z.y,ds.getDoc());df.setRng(y),dd(A.html)}}})}function cT(){var z,y;cX()&&(z=ds.getBody(),y=z.parentNode,y.removeChild(z),y.appendChild(z),z.focus())}function cX(){var y;return c6?(y=ds.selection.getSel(),!y||!y.rangeCount||0===y.rangeCount):0}function cU(){function y(C){var A=new m(C.getBody()),D=C.selection.getRng(),B=v.fromRangeStart(D),z=v.fromRangeEnd(D);return !C.selection.isCollapsed()&&!A.prev(B)&&!A.next(z)}ds.on("keypress",function(z){!dm(z)&&!df.isCollapsed()&&z.charCode>31&&!k.metaKeyPressed(z)&&y(ds)&&(z.preventDefault(),ds.setContent(String.fromCharCode(z.charCode)),ds.selection.select(ds.getBody(),!0),ds.selection.collapse(!1),ds.nodeChanged())}),ds.on("keydown",function(z){var A=z.keyCode;dm(z)||A!=i&&A!=du||y(ds)&&(z.preventDefault(),ds.setContent(""),ds.nodeChanged())})}var u=x.each,c=ds.$,du=k.BACKSPACE,i=k.DELETE,a=ds.dom,df=ds.selection,c9=ds.settings,db=ds.parser,c0=ds.serializer,c6=q.gecko,da=q.ie,c8=q.webkit,di="data:text/mce-internal,",c3=da?"Text":"URL";return c4(),c2(),q.windowsPhone||cY(),c8&&(cU(),dt(),dh(),dv(),ct(),dp(),r(),d(),q.iOS?(o(),l(),dk()):dg()),da&&q.ie<11&&(bt(),dn(),t(),c5(),at(),cW(),be(),cV()),q.ie>=11&&(l(),r()),q.ie&&(dg(),c7(),e()),c6&&(cU(),bt(),cZ(),s(),c1(),cS(),dc(),n(),r()),{refreshContentEditable:cT,isHidden:cX}}}),bx(cw,[aE,bq,bE],function(h,d,k){function g(i,a){return"selectionchange"==a?i.getDoc():!i.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(a)?i.getDoc().documentElement:i.settings.event_root?(i.eventRoot||(i.eventRoot=j.select(i.settings.event_root)[0]),i.eventRoot):i.getBody()}function c(o,l){function p(i){return !i.hidden&&!i.readonly}var a=g(o,l),m;if(o.delegates||(o.delegates={}),!o.delegates[l]){if(o.settings.event_root){if(b||(b={},o.editorManager.on("removeEditor",function(){var e;if(!o.editorManager.activeEditor&&b){for(e in b){o.dom.unbind(g(o,e))}b=null}})),b[l]){return}m=function(u){for(var q=u.target,n=o.editorManager.editors,t=n.length;t--;){var e=n[t].getBody();(e===q||j.isChildOf(q,e))&&p(n[t])&&n[t].fire(l,u)}},b[l]=m,j.bind(a,l,m)}else{m=function(e){p(o)&&o.fire(l,e)},j.bind(a,l,m),o.delegates[l]=m}}}var j=d.DOM,b,f={bindPendingEventDelegates:function(){var a=this;k.each(a._pendingNativeEvents,function(e){c(a,e)})},toggleNativeEvent:function(i,a){var l=this;"focus"!=i&&"blur"!=i&&(a?l.initialized?c(l,i):l._pendingNativeEvents?l._pendingNativeEvents.push(i):l._pendingNativeEvents=[i]:l.initialized&&(l.dom.unbind(g(l,i),i,l.delegates[i]),delete l.delegates[i]))},unbindAllNativeEvents:function(){var i=this,a;if(i.delegates){for(a in i.delegates){i.dom.unbind(g(i,a),a,i.delegates[a])}delete i.delegates}i.inline||(i.getBody().onload=null,i.dom.unbind(i.getWin()),i.dom.unbind(i.getDoc())),i.dom.unbind(i.getBody()),i.dom.unbind(i.getContainer())}};return f=k.extend({},h,f)}),bx(aj,[],function(){function c(h,f,i){try{h.getDoc().execCommand(f,!1,i)}catch(g){}}function a(g){var f,h;return f=g.getBody(),h=function(e){g.dom.getParents(e.target,"a").length>0&&e.preventDefault()},g.dom.bind(f,"click",h),{unbind:function(){g.dom.unbind(f,"click",h)}}}function d(f,e){f._clickBlocker&&(f._clickBlocker.unbind(),f._clickBlocker=null),e?(f._clickBlocker=a(f),f.selection.controlSelection.hideResizeRect(),f.readonly=!0,f.getBody().contentEditable=!1):(f.readonly=!1,f.getBody().contentEditable=!0,c(f,"StyleWithCSS",!1),c(f,"enableInlineTableEditing",!1),c(f,"enableObjectResizing",!1),f.focus(),f.nodeChanged())}function b(h,f){var g=h.readonly?"readonly":"design";f!=g&&(h.initialized?d(h,"readonly"==f):h.on("init",function(){d(h,"readonly"==f)}),h.fire("SwitchMode",{mode:f}))}return{setMode:b}}),bx(cB,[bE,bP],function(d,b){var g=d.each,c=d.explode,a={f9:120,f10:121,f11:122},f=d.makeMap("alt,ctrl,shift,meta,access");return function(r){function v(u){var m,p,h={};g(c(u,"+"),function(l){l in f?h[l]=!0:/^[0-9]{2,}$/.test(l)?h.keyCode=parseInt(l,10):(h.charCode=l.charCodeAt(0),h.keyCode=a[l]||l.toUpperCase().charCodeAt(0))}),m=[h.keyCode];for(p in f){h[p]?m.push(p):h[p]=!1}return h.id=m.join(","),h.access&&(h.alt=!0,b.mac?h.ctrl=!0:h.shift=!0),h.meta&&(b.mac?h.meta=!0:(h.ctrl=!0,h.meta=!1)),h}function j(p,u,m,s){var h;return h=d.map(c(p,">"),v),h[h.length-1]=d.extend(h[h.length-1],{func:m,scope:s||r}),d.extend(h[0],{desc:r.translate(u),subpatterns:h.slice(1)})}function q(h){return h.altKey||h.ctrlKey||h.metaKey}function t(h){return h.keyCode>=112&&h.keyCode<=123}function o(l,h){return h?h.ctrl!=l.ctrlKey||h.meta!=l.metaKey?!1:h.alt!=l.altKey||h.shift!=l.shiftKey?!1:l.keyCode==h.keyCode||l.charCode&&l.charCode==h.charCode?(l.preventDefault(),!0):!1:!1}function n(h){return h.func?h.func.call(h.scope):null}var k=this,e={},i=[];r.on("keyup keypress keydown",function(h){!q(h)&&!t(h)||h.isDefaultPrevented()||(g(e,function(l){return o(h,l)?(i=l.subpatterns.slice(0),"keydown"==h.type&&n(l),!0):void 0}),o(h,i[0])&&(1===i.length&&"keydown"==h.type&&n(i[0]),i.shift()))}),k.add=function(l,h,p,m){var u;return u=p,"string"==typeof p?p=function(){r.execCommand(u,!1,null)}:d.isArray(u)&&(p=function(){r.execCommand(u[0],u[1],u[2])}),g(c(d.trim(l.toLowerCase())),function(w){var s=j(w,h,p,m);e[s.id]=s}),!0},k.remove=function(l){var h=j(l);return e[h.id]?(delete e[h.id],!0):!1}}}),bx(cA,[bQ,bE,bm],function(b,a,c){return function(e,t){function k(f){var d,g;return g={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"},d=g[f.blob().type.toLowerCase()]||"dat",f.id()+"."+d}function D(f,d){return f?f.replace(/\/$/,"")+"/"+d.replace(/^\//,""):d}function G(d){return{id:d.id,blob:d.blob,base64:d.base64,filename:c.constant(k(d))}}function q(i,f,m,h){var g,d;g=new XMLHttpRequest,g.open("POST",t.url),g.withCredentials=t.credentials,g.upload.onprogress=function(l){h(l.loaded/l.total*100)},g.onerror=function(){m("Image upload failed due to a XHR Transport error. Code: "+g.status)},g.onload=function(){var l;return 200!=g.status?void m("HTTP Error: "+g.status):(l=JSON.parse(g.responseText),l&&"string"==typeof l.location?void f(D(t.basePath,l.location)):void m("Invalid JSON: "+g.responseText))},d=new FormData,d.append("file",i.blob(),k(i)),g.send(d)}function B(){return new b(function(d){d([])})}function F(f,d){return{url:d,blobInfo:f,status:!0}}function A(f,d){return{url:"",blobInfo:f,status:!1,error:d}}function z(d,f){a.each(C[d],function(g){g(f)}),delete C[d]}function w(f,g,d){return e.markPending(f.blobUri()),new b(function(y){var H,s,r=function(){};try{var I=function(){H&&(H.close(),s=r)},u=function(h){I(),e.markUploaded(f.blobUri(),h),z(f.blobUri(),F(f,h)),y(F(f,h))},v=function(){I(),e.removeFailed(f.blobUri()),z(f.blobUri(),A(f,v)),y(A(f,v))};s=function(h){0>h||h>100||(H||(H=d()),H.progressBar.value(h))},g(G(f),u,v,s)}catch(i){y(A(f,i.message))}})}function j(d){return d===q}function n(d){var f=d.blobUri();return new b(function(g){C[f]=C[f]||[],C[f].push(g)})}function x(f,d){return f=a.grep(f,function(g){return !e.isUploaded(g.blobUri())}),b.all(a.map(f,function(g){return e.isPending(g.blobUri())?n(g):w(g,t.handler,d)}))}function E(f,d){return !t.url&&j(t.handler)?B():x(f,d)}var C={};return t=a.extend({credentials:!1,handler:q},t),{upload:E}}}),bx(bu,[bQ],function(d){function b(e){return new d(function(h){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200==this.status&&h(this.response)},i.send()})}function g(i){var h,j;return i=decodeURIComponent(i).split(","),j=/data:([^;]+)/.exec(i[0]),j&&(h=j[1]),{type:h,data:i[1]}}function c(e){return new d(function(l){var k,j,m;e=g(e);try{k=atob(e.data)}catch(h){return void l(new Blob([]))}for(j=new Uint8Array(k.length),m=0;m<j.length;m++){j[m]=k.charCodeAt(m)}l(new Blob([j],{type:e.type}))})}function a(h){return 0===h.indexOf("blob:")?b(h):0===h.indexOf("data:")?c(h):null}function f(e){return new d(function(h){var i=new FileReader;i.onloadend=function(){h(i.result)},i.readAsDataURL(e)})}return{uriToBlob:a,blobToDataUri:f,parseDataUri:g}}),bx(b2,[bQ,bA,bm,bu,bP],function(d,b,g,c,a){var f=0;return function(h,i){function e(k,m){function p(r,q){var s,l;return 0===r.src.indexOf("blob:")?(l=i.getByUri(r.src),void (l&&q({image:r,blobInfo:l}))):(s=c.parseDataUri(r.src).data,l=i.findFirst(function(t){return t.base64()===s}),void (l?q({image:r,blobInfo:l}):c.uriToBlob(r.src).then(function(v){var u="blobid"+f++,t=i.create(u,v,s);i.add(t),q({image:r,blobInfo:t})})))}var o,n;return m||(m=g.constant(!0)),o=b.filter(k.getElementsByTagName("img"),function(q){var l=q.src;return a.fileApi?q.hasAttribute("data-mce-bogus")?!1:q.hasAttribute("data-mce-placeholder")?!1:l&&l!=a.transparentSrc?0===l.indexOf("blob:")?!h.isUploaded(l):0===l.indexOf("data:")?m(q):!1:!1:!1}),n=b.map(o,function(l){var q;return j[l.src]?new d(function(r){j[l.src].then(function(s){r({image:l,blobInfo:s.blobInfo})})}):(q=new d(function(r){p(l,r)}).then(function(r){return delete j[r.image.src],r})["catch"](function(r){return delete j[l.src],r}),j[l.src]=q,q)}),d.all(n)}var j={};return{findAll:e}}}),bx(cs,[bA,bm],function(b,a){return function(){function f(i,c,l){return{id:m(i),blob:m(c),base64:m(l),blobUri:m(URL.createObjectURL(c))}}function d(c){h(c.id())||j.push(c)}function h(c){return e(function(i){return i.id()===c})}function e(c){return b.filter(j,c)[0]}function k(c){return e(function(i){return i.blobUri()==c})}function p(c){j=b.filter(j,function(i){return i.blobUri()===c?(URL.revokeObjectURL(i.blobUri()),!1):!0})}function g(){b.each(j,function(c){URL.revokeObjectURL(c.blobUri())}),j=[]}var j=[],m=a.constant;return{create:f,add:d,get:h,getByUri:k,findFirst:e,removeByUri:p,destroy:g}}}),bx(bc,[],function(){return function(){function k(c,a){return{status:c,resultUri:a}}function w(a){return a in m}function g(c){var a=m[c];return a?a.resultUri:null}function b(a){return w(a)?m[a].status===p:!1}function j(a){return w(a)?m[a].status===v:!1}function f(a){m[a]=k(p,null)}function q(a,c){m[a]=k(v,c)}function x(a){delete m[a]}function h(){m={}}var p=1,v=2,m={};return{hasBlobUri:w,getResultUri:g,isPending:b,isUploaded:j,markPending:f,markUploaded:q,removeFailed:x,destroy:h}}}),bx(au,[bA,cA,b2,cs,bc],function(d,b,f,c,a){return function(z){function J(g){return function(h){return z.selection?g(h):[]}}function q(l,g,m){var h=0;do{h=l.indexOf(g,h),-1!==h&&(l=l.substring(0,h)+m+l.substr(h+g.length),h+=m.length-g.length+1)}while(-1!==h);return l}function B(h,g,l){return h=q(h,'src="'+g+'"','src="'+l+'"'),h=q(h,'data-mce-src="'+g+'"','data-mce-src="'+l+'"')}function H(g,h){d.each(z.undoManager.data,function(l){l.content=B(l.content,g,h)})}function n(){return z.notificationManager.open({text:z.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function G(h,g){e.removeByUri(h.src),H(h.src,g),z.$(h).attr({src:g,"data-mce-src":z.convertURL(g,"src")})}function F(g){return I||(I=new b(j,{url:i.images_upload_url,basePath:i.images_upload_base_path,credentials:i.images_upload_credentials,handler:i.images_upload_handler})),A().then(J(function(h){var l;return l=d.map(h,function(m){return m.blobInfo}),I.upload(l,n).then(J(function(m){return m=d.map(m,function(p,s){var o=h[s].image;return p.status&&z.settings.images_replace_blob_uris!==!1&&G(o,p.url),{element:o,status:p.status}}),g&&g(m),m}))}))}function D(g){return i.automatic_uploads!==!1?F(g):void 0}function t(g){return i.images_dataimg_filter?i.images_dataimg_filter(g):!0}function A(){return r||(r=new f(j,e)),r.findAll(z.getBody(),t).then(J(function(g){return d.each(g,function(h){H(h.image.src,h.blobInfo.blobUri()),h.image.src=h.blobInfo.blobUri(),h.image.removeAttribute("data-mce-src")}),g}))}function E(){e.destroy(),j.destroy(),r=I=null}function k(g){return g.replace(/src="(blob:[^"]+)"/g,function(l,o){var m=j.getResultUri(o);if(m){return'src="'+m+'"'}var h=e.getByUri(o);return h||(h=d.reduce(z.editorManager.editors,function(s,p){return s||p.editorUpload.blobCache.getByUri(o)},null)),h?'src="data:'+h.blob().type+";base64,"+h.base64()+'"':l})}var e=new c,I,r,i=z.settings,j=new a;return z.on("setContent",function(){z.settings.automatic_uploads!==!1?D():A()}),z.on("RawSaveContent",function(g){g.content=k(g.content)}),z.on("getContent",function(g){g.source_view||"raw"==g.format||(g.content=k(g.content))}),z.on("PostRender",function(){z.parser.addNodeFilter("img",function(g){d.each(g,function(l){var h=l.attr("src");if(!e.getByUri(h)){var m=j.getResultUri(h);m&&l.attr("src",m)}})})}),{blobCache:e,uploadImages:F,uploadImagesAuto:D,scanForImages:A,destroy:E}}}),bx(a6,[bG,cH,bU,b4,bL,b0,bs],function(h,d,k,g,c,j,b){var f=k.isContentEditableFalse;return function(A,i){function a(C,E){var B=j.collapse(C.getBoundingClientRect(),E),t,p,u,m,D;return"BODY"==A.tagName?(t=A.ownerDocument.documentElement,p=A.scrollLeft||t.scrollLeft,u=A.scrollTop||t.scrollTop):(D=A.getBoundingClientRect(),p=A.scrollLeft-D.left,u=A.scrollTop-D.top),B.left+=p,B.right+=p,B.top+=u,B.bottom+=u,B.width=1,m=C.offsetWidth-C.clientWidth,m>0&&(E&&(m*=-1),B.left+=m,B.right+=m),B}function q(){var u,p,t,l,m;for(u=c("*[contentEditable=false]",A),l=0;l<u.length;l++){p=u[l],t=p.previousSibling,h.endsWithCaretContainer(t)&&(m=t.data,1==m.length?t.parentNode.removeChild(t):t.deleteData(m.length-1,1)),t=p.nextSibling,h.startsWithCaretContainer(t)&&(m=t.data,1==m.length?t.parentNode.removeChild(t):t.deleteData(0,1))}return null}function y(r,n){var m,t,p;return z(),i(n)?(v=h.insertBlock("p",n,r),m=a(n,r),c(v).css("top",m.top),o=c('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(m).appendTo(A),r&&o.addClass("mce-visual-caret-before"),x(),t=n.ownerDocument.createRange(),p=v.firstChild,t.setStart(p,0),t.setEnd(p,1),t):(v=h.insertInline(n,r),t=n.ownerDocument.createRange(),f(v.nextSibling)?(t.setStart(v,0),t.setEnd(v,0)):(t.setStart(v,1),t.setEnd(v,1)),t)}function z(){q(),v&&(h.remove(v),v=null),o&&(o.remove(),o=null),clearInterval(e)}function x(){e=b.setInterval(function(){c("div.mce-visual-caret",A).toggleClass("mce-visual-caret-hidden")},500)}function w(){b.clearInterval(e)}function s(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}var e,o,v;return{show:y,hide:z,getCss:s,destroy:w}}}),bx(bf,[bA,bU,b0],function(c,a,d){function b(f){function g(h){return c.map(h,function(i){return i=d.clone(i),i.node=f,i})}if(c.isArray(f)){return c.reduce(f,function(i,h){return i.concat(b(h))},[])}if(a.isElement(f)){return g(f.getClientRects())}if(a.isText(f)){var e=f.ownerDocument.createRange();return e.setStart(f,0),e.setEnd(f,f.data.length),g(e.getClientRects())}}return{getClientRects:b}}),bx(bk,[bm,bA,bf,b3,aM,cy,cH,b0],function(z,E,k,b,w,j,C,F){function v(c,a,f,d){for(;d=w.findNode(d,c,b.isEditableCaretCandidate,a);){if(f(d)){return}}}function B(G,l,n,m,J,L){function I(e){var d,a,f;for(f=k.getClientRects(e),-1==G&&(f=f.reverse()),d=0;d<f.length;d++){if(a=f[d],!n(a,p)){if(t.length>0&&l(a,E.last(t))&&K++,a.line=K,J(a)){return !0}t.push(a)}}}var K=0,H,t=[],p;return(p=E.last(L.getClientRects()))?(H=L.getNode(),I(H),v(G,m,I,H),t):t}function D(c,a){return a.line>c}function A(c,a){return a.line===c}function y(L,s,a,H){function G(c){return 1==L?E.last(c.getClientRects()):E.last(c.getClientRects())}var N=new j(s),P,M,K,I,o=[],t=0,J,O;1==L?(P=N.next,M=F.isBelow,K=F.isAbove,I=C.after(H)):(P=N.prev,M=F.isAbove,K=F.isBelow,I=C.before(H)),O=G(I);do{if(I.isVisible()&&(J=G(I),!K(J,O))){if(o.length>0&&M(J,E.last(o))&&t++,J=F.clone(J),J.position=I,J.line=t,a(J)){return o}o.push(J)}}while(I=P(I));return o}var x=z.curry,g=x(B,-1,F.isAbove,F.isBelow),q=x(B,1,F.isBelow,F.isAbove);return{upUntil:g,downUntil:q,positionsUntil:y,isAboveLine:x(D),isLine:x(A)}}),bx(cQ,[bm,bA,bU,bf,b0,aM,b3],function(G,k,z,w,C,y,J){function q(c,a){return Math.abs(c.left-a)}function B(c,a){return Math.abs(c.right-a)}function I(c,d){function a(g,f){return g>=f.left&&g<=f.right}return k.reduce(c,function(h,g){var f,l;return f=Math.min(q(h,d),B(h,d)),l=Math.min(q(g,d),B(g,d)),a(d,g)?g:a(d,h)?h:l==f&&A(g.node)?g:f>l?g:h})}function j(d,a,f,c){for(;c=E(c,d,J.isEditableCaretCandidate,a);){if(f(c)){return}}}function H(d,g){function f(h,a){var l;return l=k.filter(w.getClientRects(a),function(e){return !h(e,g)}),c=c.concat(l),0===l.length}var c=[];return c.push(g),j(-1,d,b(f,C.isAbove),g.node),j(1,d,b(f,C.isBelow),g.node),c}function F(a){return k.filter(k.toArray(a.getElementsByTagName("*")),A)}function D(c,a){return{node:c.node,before:q(c,a)<B(c,a)}}function x(f,h,d){var g,c;return g=w.getClientRects(F(f)),g=k.filter(g,function(a){return d>=a.top&&d<=a.bottom}),c=I(g,h),c&&(c=I(H(f,c),h),c&&A(c.node))?D(c,h):null}var A=z.isContentEditableFalse,E=y.findNode,b=G.curry;return{findClosestClientRect:I,findLineNodeRects:H,closestCaret:x}}),bx(bT,[bU,bA,bm],function(d,b,g){function c(v){function i(h){return a(h)}function y(e){t(v.getBody()).css("cursor",e)}function A(e){return e==q.element||v.dom.isChildOf(e,q.element)?!1:!a(e)}function n(H){var p,e,C,m,I=0,B=0,F,G,E,D;0===H.button&&(p=H.screenX-q.screenX,e=H.screenY-q.screenY,F=Math.max(Math.abs(p),Math.abs(e)),!q.dragging&&F>10&&(q.dragging=!0,y("default"),q.clone=q.element.cloneNode(!0),C=k.getPos(q.element),q.relX=q.clientX-C.x,q.relY=q.clientY-C.y,q.width=q.element.offsetWidth,q.height=q.element.offsetHeight,t(q.clone).css({width:q.width,height:q.height}).removeAttr("data-mce-selected"),q.ghost=t("<div>").css({position:"absolute",opacity:0.5,overflow:"hidden",width:q.width,height:q.height}).attr({"data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}).addClass("mce-drag-container mce-reset").append(q.clone).appendTo(v.getBody())[0],m=v.dom.getViewPort(v.getWin()),q.maxX=m.w,q.maxY=m.h),q.dragging&&(v._selectionOverrides.hideFakeCaret(),v.selection.placeCaretAt(H.clientX,H.clientY),G=q.clientX+p-q.relX,E=q.clientY+e+5,G+q.width>q.maxX&&(I=G+q.width-q.maxX),E+q.height>q.maxY&&(B=E+q.height-q.maxY),D="BODY"!=v.getBody().nodeName?v.getBody().getBoundingClientRect():{left:0,top:0},t(q.ghost).css({left:G-D.left,top:E-D.top,width:q.width-I,height:q.height-B})))}function x(e){var l;if(q.dragging&&(v.selection.setRng(v.selection.getSel().getRangeAt(0)),A(v.selection.getNode()))){var h=q.element;if(l=v.fire("drop",{targetClone:h,clientX:e.clientX,clientY:e.clientY}),l.isDefaultPrevented()){return}h=l.targetClone,v.undoManager.transact(function(){v.insertContent(k.getOuterHTML(h)),t(q.element).remove()})}w()}function z(e){var l,h;if(w(),0===e.button&&(l=b.find(v.dom.getParents(e.target),g.or(a,f)),i(l))){if(h=v.fire("dragstart",{target:l}),h.isDefaultPrevented()){return}v.on("mousemove",n),v.on("mouseup",x),o!=j&&(k.bind(o,"mousemove",n),k.bind(o,"mouseup",x)),q={screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,element:l}}}function w(){t(q.ghost).remove(),y(null),v.off("mousemove",n),v.off("mouseup",w),o!=j&&(k.unbind(o,"mousemove",n),k.unbind(o,"mouseup",w)),q={}}var t=v.$,o=document,j=v.getDoc(),k=v.dom,q={};v.on("mousedown",z),v.on("drop",function(e){var h="undefined"!=typeof e.clientX?v.getDoc().elementFromPoint(e.clientX,e.clientY):null;(a(h)||a(v.dom.getContentEditableParent(h)))&&e.preventDefault()})}var a=d.isContentEditableFalse,f=d.isContentEditableTrue;return{init:c}}),bx(av,[bP,cy,cH,bG,aM,a6,bk,cQ,bU,b4,b0,ck,bm,bA,bs,bT,b6],function(T,F,L,I,P,K,X,G,O,V,B,U,S,Q,J,M,R){function A(b,a){for(;a=b(a);){if(a.isVisible()){return a}}return a}function k(cZ){function cU(c){return cZ.dom.isBlock(c)}function m(c){c&&cZ.selection.setRng(c)}function cX(){return cZ.selection.getRng()}function l(y,c){cZ.selection.scrollIntoView(y,c)}function n(Z,c,c1){var y;return y=cZ.fire("ShowCaret",{target:c,direction:Z,before:c1}),y.isDefaultPrevented()?null:(l(c,-1===Z),ct.show(c1,c))}function be(y){var c;return ct.hide(),c=cZ.fire("BeforeObjectSelected",{target:y}),c.isDefaultPrevented()?null:at(y)}function at(y){var c=y.ownerDocument.createRange();return c.selectNode(y),c}function ae(y,c){var Z=P.isInSameBlock(y,c);return !Z&&O.isBr(y.getNode())?!0:Z}function t(y,c){return c=P.normalizeRange(y,c0,c),-1==y?L.fromRangeStart(c):L.fromRangeEnd(c)}function s(c){return I.isCaretContainerBlock(c.startContainer)}function p(c3,Z,c5,c2){var y,c4,c,c1;return !c2.collapsed&&(y=Y(c2),q(y))?n(c3,y,-1==c3):(c1=s(c2),c4=t(c3,c2),c5(c4)?be(c4.getNode(-1==c3)):(c4=Z(c4))?c5(c4)?n(c3,c4.getNode(-1==c3),1==c3):(c=Z(c4),c5(c)&&ae(c4,c)?n(c3,c.getNode(-1==c3),1==c3):c1?h(c4.toRange()):null):c1?c2:null)}function x(c7,db,c2){var y,c5,c1,c4,c9,da,c8,c6,Z;if(Z=Y(c2),y=t(c7,c2),c5=db(c0,X.isAboveLine(1),y),c1=Q.filter(c5,X.isLine(1)),c9=Q.last(y.getClientRects()),D(y)&&(Z=y.getNode()),j(y)&&(Z=y.getNode(!0)),!c9){return null}if(da=c9.left,c4=G.findClosestClientRect(c1,da),c4&&q(c4.node)){return c8=Math.abs(da-c4.left),c6=Math.abs(da-c4.right),n(c7,c4.node,c6>c8)}if(Z){var c3=X.positionsUntil(c7,c0,X.isAboveLine(1),Z);if(c4=G.findClosestClientRect(Q.filter(c3,X.isLine(1)),da)){return h(c4.position.toRange())}if(c4=Q.last(Q.filter(c3,X.isLine(0)))){return h(c4.position.toRange())}}}function r(Z,c2){function y(){var c4=cZ.dom.create(cZ.settings.forced_root_block);return(!T.ie||T.ie>=11)&&(c4.innerHTML='<br data-mce-bogus="1">'),c4}var c3,c,c1;if(c2.collapsed&&cZ.settings.forced_root_block){if(c3=cZ.dom.getParent(c2.startContainer,"PRE"),!c3){return}c=1==Z?a(L.fromRangeStart(c2)):cV(L.fromRangeStart(c2)),c||(c1=y(),1==Z?cZ.$(c3).after(c1):cZ.$(c3).before(c1),cZ.selection.select(c1,!0),cZ.selection.collapse())}}function w(c1,y,c2,Z){var c;return(c=p(c1,y,c2,Z))?c:(c=r(c1,Z),c?c:null)}function E(Z,c,c1){var y;return(y=x(Z,c,c1))?y:(y=r(Z,c1),y?y:null)}function cT(){return bt("*[data-mce-caret]")[0]}function i(c){c=bt(c),c.attr("data-mce-caret")&&(ct.hide(),c.removeAttr("data-mce-caret"),c.removeAttr("data-mce-bogus"),c.removeAttr("style"),m(cX()),l(c[0]))}function g(Z){var c,y;return Z=P.normalizeRange(1,c0,Z),c=L.fromRangeStart(Z),q(c.getNode())?n(1,c.getNode(),!c.isAtEnd()):q(c.getNode(!0))?n(1,c.getNode(!0),!1):(y=cZ.dom.getParent(c.getNode(),S.or(q,H)),q(y)?n(1,y,!1):(ct.hide(),null))}function h(y){var c;return y&&y.collapsed?(c=g(y),c?c:y):y}function ce(c1){var Z,y,c2,c;return q(c1)?(q(c1.previousSibling)&&(c2=c1.previousSibling),y=cV(L.before(c1)),y||(Z=a(L.after(c1))),Z&&z(Z.getNode())&&(c=Z.getNode()),I.remove(c1.previousSibling),I.remove(c1.nextSibling),cZ.dom.remove(c1),v(),cZ.dom.isEmpty(cZ.getBody())?(cZ.setContent(""),void cZ.focus()):c2?L.after(c2).toRange():c?L.before(c).toRange():y?y.toRange():Z?Z.toRange():null):null}function cW(c3,Z,c5){var c2=cZ.dom,y,c4,c,c1;if(-1===c3){if(j(c5)&&cU(c5.getNode(!0))){return ce(c5.getNode(!0))}}else{if(D(Z)&&cU(Z.getNode())){return ce(Z.getNode())}}if(c1=cZ.schema.getTextBlockElements(),y=c2.getParent(Z.getNode(),c2.isBlock),c4=c2.getParent(c5.getNode(),c2.isBlock),y===c4||!c1[y.nodeName]||!c1[c4.nodeName]){return null}for(;c=y.firstChild;){c4.appendChild(c)}return cZ.dom.remove(y),c5.toRange()}function cY(c3,c1,c5,Z){var c4,y,c2,c;return !Z.collapsed&&(c4=Y(Z),q(c4))?h(ce(c4)):(y=t(c3,Z),c5(y)&&I.isCaretContainerBlock(Z.startContainer)?(c=-1==c3?f.prev(y):f.next(y),c?h(c.toRange()):Z):c1(y)?h(ce(y.getNode(-1==c3))):(c2=-1==c3?f.prev(y):f.next(y),c1(c2)?-1===c3?cW(c3,y,c2):cW(c3,c2,y):void 0))}function d(){function c8(df,de){var dg=de(cX());dg&&!df.isDefaultPrevented()&&(df.preventDefault(),m(dg))}function y(df){for(var de=cZ.getBody();df&&df!=de;){if(H(df)||q(df)){return df}df=df.parentNode}return null}function c4(df,de,dg){return dg.collapsed?!1:Q.reduce(dg.getClientRects(),function(di,dh){return di||B.containsXY(dh,df,de)},!1)}function c1(df){var de=!1;df.on("touchstart",function(){de=!1}),df.on("touchmove",function(){de=!0}),df.on("touchend",function(dg){var dh=y(dg.target);q(dh)?de||(dg.preventDefault(),C(be(dh))):v()})}function c2(){var df,de=y(cZ.selection.getNode());H(de)&&cU(de)&&cZ.dom.isEmpty(de)&&(df=cZ.dom.create("br",{"data-mce-bogus":"1"}),cZ.$(de).empty().append(df),cZ.selection.setRng(L.before(df).toRange()))}function c7(df){var de=cT();if(de){return"compositionstart"==df.type?(df.preventDefault(),df.stopPropagation(),void i(de)):void ("&nbsp;"!=de.innerHTML&&i(de))}}function c6(df){var de;switch(df.keyCode){case U.DELETE:de=c2();break;case U.BACKSPACE:de=c2()}de&&df.preventDefault()}var dd=W(w,1,a,D),db=W(w,-1,cV,j),dc=W(cY,1,D,j),c3=W(cY,-1,j,D),Z=W(E,-1,X.upUntil),c=W(E,1,X.downUntil);cZ.on("mouseup",function(){var de=cX();de.collapsed&&m(g(de))}),cZ.on("click",function(df){var de;de=y(df.target),de&&q(de)&&df.preventDefault()});var da=function(dg){var df=new F(dg);if(!dg.firstChild){return !1}var de=L.before(dg.firstChild),dh=df.next(de);return dh&&!D(dh)&&!j(dh)},c9=function(dg,de){var dh=cZ.dom.getParent(dg,cZ.dom.isBlock),df=cZ.dom.getParent(de,cZ.dom.isBlock);return dh===df},c5=function(dg,de){var dh=cZ.dom.getParent(dg,cZ.dom.isBlock),df=cZ.dom.getParent(de,cZ.dom.isBlock);return dh&&!c9(dh,df)&&da(dh)};c1(cZ),cZ.on("mousedown",function(df){var de;if(de=y(df.target)){q(de)?(df.preventDefault(),C(be(de))):(v(),c4(df.clientX,df.clientY,cZ.selection.getRng())||cZ.selection.placeCaretAt(df.clientX,df.clientY))}else{v(),ct.hide();var dg=G.closestCaret(c0,df.clientX,df.clientY);dg&&(c5(df.target,dg.node)||(df.preventDefault(),cZ.getBody().focus(),m(n(1,dg.node,dg.before))))}}),cZ.on("keydown",function(de){if(!U.modifierPressed(de)){switch(de.keyCode){case U.RIGHT:c8(de,dd);break;case U.DOWN:c8(de,c);break;case U.LEFT:c8(de,db);break;case U.UP:c8(de,Z);break;case U.DELETE:c8(de,dc);break;case U.BACKSPACE:c8(de,c3);break;default:q(cZ.selection.getNode())&&de.preventDefault()}}}),cZ.on("keyup compositionstart",function(de){c7(de),c6(de)},!0),cZ.on("cut",function(){var de=cZ.selection.getNode();q(de)&&J.setEditorTimeout(cZ,function(){m(h(ce(de)))})}),cZ.on("getSelectionRange",function(df){var de=df.range;if(N){if(!N.parentNode){return void (N=null)}de=de.cloneRange(),de.selectNode(N),df.range=de}}),cZ.on("setSelectionRange",function(df){var de;de=C(df.range),de&&(df.range=de)}),cZ.on("focus",function(){J.setEditorTimeout(cZ,function(){cZ.selection.setRng(h(cZ.selection.getRng()))},0)}),M.init(cZ)}function e(){var y=cZ.contentStyles,c=".mce-content-body";y.push(ct.getCss()),y.push(c+" .mce-offscreen-selection {position: absolute;left: -9999999999px;width: 100px;height: 100px;}"+c+" *[contentEditable=false] {cursor: default;}"+c+" *[contentEditable=true] {cursor: text;}")}function u(c){return I.isCaretContainer(c.startContainer)||I.isCaretContainer(c.endContainer)}function C(c9){var c1,c=cZ.$,c3=cZ.dom,Z,c7,da,c2,c8,c6,c5,c4,y;if(!c9){return v(),null}if(c9.collapsed){if(v(),!u(c9)){if(c5=t(1,c9),q(c5.getNode())){return n(1,c5.getNode(),!c5.isAtEnd())}if(q(c5.getNode(!0))){return n(1,c5.getNode(!0),!1)}}return null}return da=c9.startContainer,c2=c9.startOffset,c8=c9.endOffset,3==da.nodeType&&0==c2&&q(da.parentNode)&&(da=da.parentNode,c2=c3.nodeIndex(da),da=da.parentNode),1!=da.nodeType?(v(),null):(c8==c2+1&&(c1=da.childNodes[c2]),q(c1)?(c4=y=c1.cloneNode(!0),c6=cZ.fire("ObjectSelected",{target:c1,targetClone:c4}),c6.isDefaultPrevented()?(v(),null):(c4=c6.targetClone,Z=c("#"+cS),0===Z.length&&(Z=c('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",cS),Z.appendTo(cZ.getBody())),c9=cZ.dom.createRng(),c4===y&&T.ie?(Z.empty().append(R.ZWSP).append(c4).append(R.ZWSP),c9.setStart(Z[0].firstChild,0),c9.setEnd(Z[0].lastChild,1)):(Z.empty().append("\xa0").append(c4).append("\xa0"),c9.setStart(Z[0].firstChild,1),c9.setEnd(Z[0].lastChild,0)),Z.css({top:c3.getPos(c1,cZ.getBody()).y}),Z[0].focus(),c7=cZ.selection.getSel(),c7.removeAllRanges(),c7.addRange(c9),cZ.$("*[data-mce-selected]").removeAttr("data-mce-selected"),c1.setAttribute("data-mce-selected",1),N=c1,c9)):(v(),null))}function v(){N&&(N.removeAttribute("data-mce-selected"),cZ.$("#"+cS).remove(),N=null)}function o(){ct.destroy(),N=null}function b(){ct.hide()}var c0=cZ.getBody(),f=new F(c0),a=W(A,f.next),cV=W(A,f.prev),ct=new K(cZ.getBody(),cU),cS="sel-"+cZ.dom.uniqueId(),N,bt=cZ.$;return T.ceFalse&&(d(),e()),{showBlockCaretContainer:i,hideFakeCaret:b,destroy:o}}var W=S.curry,H=O.isContentEditableTrue,q=O.isContentEditableFalse,z=O.isElement,j=P.isAfterContentEditableFalse,D=P.isBeforeContentEditableFalse,Y=V.getSelectedNode;return k}),bx(aX,[],function(){var b=0,a=function(){var f=function(){return Math.round(4294967295*Math.random()).toString(36)},d=(new Date).getTime();return"s"+d.toString(36)+f()+f()+f()},c=function(d){return d+b+++a()};return{uuid:c}}),bx(a5,[bq,bL,cp,b7,cx,cl,ca,bY,cj,b9,bW,a9,bV,cE,cd,bM,a0,aD,cv,cg,aL,bP,bE,bs,cw,aj,cB,au,av,aX],function(dd,c5,c2,c9,c4,dh,c1,c7,df,c0,de,dc,da,c3,c6,db,cZ,cW,dg,cS,cX,cY,Y,ce,di,J,c8,G,K,cU){function cT(h,f,d){var k=this,c,g,b;c=k.documentBaseUrl=d.documentBaseURL,g=d.baseURI,b=d.defaultSettings,f=Q({id:h,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:c,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:k.convertURL,url_converter_scope:k,ie7_compat:!0},b,f),b&&b.external_plugins&&f.external_plugins&&(f.external_plugins=Q({},b.external_plugins,f.external_plugins)),k.settings=f,c2.language=f.language||"en",c2.languageLoad=f.language_load,c2.baseURL=d.baseURL,k.id=f.id=h,k.setDirty(!1),k.plugins={},k.documentBaseURI=new c3(f.document_base_url||c,{base_uri:g}),k.baseURI=g,k.contentCSS=[],k.contentStyles=[],k.shortcuts=new c8(k),k.loadedCSS={},k.editorCommands=new da(k),f.target&&(k.targetElm=f.target),k.suffix=d.suffix,k.editorManager=d,k.inline=f.inline,k.settings.content_editable=k.inline,f.cache_suffix&&(cY.cacheSuffix=f.cache_suffix.replace(/^[\?\&]+/,"")),f.override_viewport===!1&&(cY.overrideViewPort=!1),d.fire("SetupEditor",k),k.execCallback("setup",k),k.$=c5.overrideDefaults(function(){return{context:k.inline?k.getBody():k.getDoc(),element:k.getBody()}})}var ct=dd.DOM,ae=c2.ThemeManager,Z=c2.PluginManager,Q=Y.extend,be=Y.each,X=Y.explode,at=Y.inArray,bt=Y.trim,cV=Y.resolve,t=db.Event,j=cY.gecko,q=cY.ie;return cT.prototype={render:function(){function g(){ct.unbind(window,"ready",g),k.render()}function d(){var i=c6.ScriptLoader;if(f.language&&"en"!=f.language&&!f.language_url&&(f.language_url=k.editorManager.baseURL+"/langs/"+f.language+".js"),f.language_url&&i.add(f.language_url),f.theme&&"function"!=typeof f.theme&&"-"!=f.theme.charAt(0)&&!ae.urls[f.theme]){var a=f.theme_url;a=a?k.documentBaseURI.toAbsolute(a):"themes/"+f.theme+"/theme"+h+".js",ae.load(f.theme,a)}Y.isArray(f.plugins)&&(f.plugins=f.plugins.join(" ")),be(f.external_plugins,function(m,l){Z.load(l,m),f.plugins+=" "+l}),be(f.plugins.split(/[ ,]/),function(m){if(m=bt(m),m&&!Z.urls[m]){if("-"==m.charAt(0)){m=m.substr(1,m.length);var l=Z.dependencies(m);be(l,function(o){var n={prefix:"plugins/",resource:o,suffix:"/plugin"+h+".js"};o=Z.createUrl(n,o),Z.load(o.resource,o)})}else{Z.load(m,{prefix:"plugins/",resource:m,suffix:"/plugin"+h+".js"})}}}),i.loadQueue(function(){k.removed||k.init()})}var k=this,f=k.settings,c=k.id,h=k.suffix;if(!t.domLoaded){return void ct.bind(window,"ready",g)}if(k.getElement()&&cY.contentEditable){f.inline?k.inline=!0:(k.orgVisibility=k.getElement().style.visibility,k.getElement().style.visibility="hidden");var b=k.getElement().form||ct.getParent(c,"form");b&&(k.formElement=b,f.hidden_input&&!/TEXTAREA|INPUT/i.test(k.getElement().nodeName)&&(ct.insertAfter(ct.create("input",{type:"hidden",name:c}),c),k.hasHiddenInput=!0),k.formEventDelegate=function(a){k.fire(a.type,a)},ct.bind(b,"submit reset",k.formEventDelegate),k.on("reset",function(){k.setContent(k.startContent,{format:"raw"})}),!f.submit_patch||b.submit.nodeType||b.submit.length||b._mceOldSubmit||(b._mceOldSubmit=b.submit,b.submit=function(){return k.editorManager.triggerSave(),k.setDirty(!1),b._mceOldSubmit(b)})),k.windowManager=new cZ(k),k.notificationManager=new cW(k),"xml"==f.encoding&&k.on("GetContent",function(a){a.save&&(a.content=ct.encode(a.content))}),f.add_form_submit_trigger&&k.on("submit",function(){k.initialized&&k.save()}),f.add_unload_trigger&&(k._beforeUnload=function(){!k.initialized||k.destroyed||k.isHidden()||k.save({format:"raw",no_events:!0,set_dirty:!1})},k.editorManager.on("BeforeUnload",k._beforeUnload)),k.editorManager.add(k),d()}},init:function(){function O(d){var b=Z.get(d),a,c;if(a=Z.urls[d]||z.documentBaseUrl.replace(/\/$/,""),d=bt(d),b&&-1===at(F,d)){if(be(Z.dependencies(d),function(e){O(e)}),z.plugins[d]){return}c=new b(z,a,z.$),z.plugins[d]=c,c.init&&(c.init(z,a),F.push(d))}}var z=this,E=z.settings,B=z.getElement(),I,D,T,A,H,R,x,P,N,L,C,F=[];if(this.editorManager.i18n.setCode(E.language),z.rtl=E.rtl_ui||this.editorManager.i18n.rtl,E.aria_label=E.aria_label||ct.getAttrib(B,"aria-label",z.getLang("aria.rich_text_area")),E.theme&&("function"!=typeof E.theme?(E.theme=E.theme.replace(/-/,""),R=ae.get(E.theme),z.theme=new R(z,ae.urls[E.theme]),z.theme.init&&z.theme.init(z,ae.urls[E.theme]||z.documentBaseUrl.replace(/\/$/,""),z.$)):z.theme=E.theme),be(E.plugins.replace(/\-/g,"").split(/[ ,]/),O),E.render_ui&&z.theme&&(z.orgDisplay=B.style.display,"function"!=typeof E.theme?(I=E.width||B.style.width||B.offsetWidth,D=E.height||B.style.height||B.offsetHeight,T=E.min_height||100,L=/^[0-9\.]+(|px)$/i,L.test(""+I)&&(I=Math.max(parseInt(I,10),100)),L.test(""+D)&&(D=Math.max(parseInt(D,10),T)),H=z.theme.renderUI({targetNode:B,width:I,height:D,deltaWidth:E.delta_width,deltaHeight:E.delta_height}),E.content_editable||(D=(H.iframeHeight||D)+("number"==typeof D?H.deltaHeight||0:""),T>D&&(D=T))):(H=E.theme(z,B),H.editorContainer.nodeType&&(H.editorContainer=H.editorContainer.id=H.editorContainer.id||z.id+"_parent"),H.iframeContainer.nodeType&&(H.iframeContainer=H.iframeContainer.id=H.iframeContainer.id||z.id+"_iframecontainer"),D=H.iframeHeight||B.offsetHeight),z.editorContainer=H.editorContainer),E.content_css&&be(X(E.content_css),function(a){z.contentCSS.push(z.documentBaseURI.toAbsolute(a))}),E.content_style&&z.contentStyles.push(E.content_style),E.content_editable){return B=A=H=null,z.initContentBody()}if(z.iframeHTML=E.doctype+"<html><head>",E.document_base_url!=z.documentBaseUrl&&(z.iframeHTML+='<base href="'+z.documentBaseURI.getURI()+'" />'),!cY.caretAfter&&E.ie7_compat&&(z.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),z.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href)){for(C=0;C<z.contentCSS.length;C++){var M=z.contentCSS[C];z.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+Y._addCacheSuffix(M)+'" />',z.loadedCSS[M]=!0}}P=E.body_id||"tinymce",-1!=P.indexOf("=")&&(P=z.getParam("body_id","","hash"),P=P[z.id]||P),N=E.body_class||"",-1!=N.indexOf("=")&&(N=z.getParam("body_class","","hash"),N=N[z.id]||""),E.content_security_policy&&(z.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+E.content_security_policy+'" />'),z.iframeHTML+='</head><body id="'+P+'" class="mce-content-body '+N+'" data-id="'+z.id+'"><br></body></html>';var w='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+z.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&cY.ie&&cY.ie<12&&(x=w);var k=ct.create("iframe",{id:z.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:z.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:D,display:"block"}});if(k.onload=function(){k.onload=null,z.fire("load")},ct.setAttrib(k,"src",x||'javascript:""'),z.contentAreaContainer=H.iframeContainer,z.iframeElement=k,A=ct.add(H.iframeContainer,k),q){try{z.getDoc()}catch(S){A.src=x=w}}H.editorContainer&&(ct.get(H.editorContainer).style.display=z.orgDisplay,z.hidden=ct.isHidden(H.editorContainer)),z.getElement().style.display="none",ct.setAttrib(z.id,"aria-hidden",!0),x||z.initContentBody(),B=A=H=null},initContentBody:function(b){var g=this,e=g.settings,d=g.getElement(),c=g.getDoc(),f,a;e.inline||(g.getElement().style.visibility=g.orgVisibility),b||e.content_editable||(c.open(),c.write(g.iframeHTML),c.close()),e.content_editable&&(g.on("remove",function(){var h=this.getBody();ct.removeClass(h,"mce-content-body"),ct.removeClass(h,"mce-edit-focus"),ct.setAttrib(h,"contentEditable",null)}),ct.addClass(d,"mce-content-body"),g.contentDocument=c=e.content_document||document,g.contentWindow=e.content_window||window,g.bodyElement=d,e.content_document=e.content_window=null,e.root_name=d.nodeName.toLowerCase()),f=g.getBody(),f.disabled=!0,g.readonly=e.readonly,g.readonly||(g.inline&&"static"==ct.getStyle(f,"position",!0)&&(f.style.position="relative"),f.contentEditable=g.getParam("content_editable_state",!0)),f.disabled=!1,g.editorUpload=new G(g),g.schema=new dg(e),g.dom=new dd(c,{keep_values:!0,url_converter:g.convertURL,url_converter_scope:g,hex_colors:e.force_hex_style_colors,class_filter:e.class_filter,update_styles:!0,root_element:g.inline?g.getBody():null,collect:e.content_editable,schema:g.schema,onSetAttrib:function(h){g.fire("SetAttrib",h)}}),g.parser=new cS(e,g.schema),g.parser.addAttributeFilter("src,href,style,tabindex",function(p,l){for(var n=p.length,k,u=g.dom,h,m;n--;){if(k=p[n],h=k.attr(l),m="data-mce-"+l,!k.attributes.map[m]){if(0===h.indexOf("data:")||0===h.indexOf("blob:")){continue}"style"===l?(h=u.serializeStyle(u.parseStyle(h),k.name),h.length||(h=null),k.attr(m,h),k.attr(l,h)):"tabindex"===l?(k.attr(m,h),k.attr(l,null)):k.attr(m,g.convertURL(h,l,k.name))}}}),g.parser.addNodeFilter("script",function(k){for(var h=k.length,l,i;h--;){l=k[h],i=l.attr("type")||"no/type",0!==i.indexOf("mce-")&&l.attr("type","mce-"+i)}}),g.parser.addNodeFilter("#cdata",function(i){for(var h=i.length,k;h--;){k=i[h],k.type=8,k.name="#comment",k.value="[CDATA["+k.value+"]]"}}),g.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(m){for(var k=m.length,l,h=g.schema.getNonEmptyElements();k--;){l=m[k],l.isEmpty(h)&&(l.append(new c4("br",1)).shortEnded=!0)}}),g.serializer=new dh(e,g),g.selection=new c7(g.dom,g.getWin(),g.serializer,g),g.formatter=new df(g),g.undoManager=new c0(g),g.forceBlocks=new dc(g),g.enterKey=new de(g),g._nodeChangeDispatcher=new c9(g),g._selectionOverrides=new K(g),g.fire("PreInit"),e.browser_spellcheck||e.gecko_spellcheck||(c.body.spellcheck=!1,ct.setAttrib(f,"spellcheck","false")),g.quirks=new cX(g),g.fire("PostRender"),e.directionality&&(f.dir=e.directionality),e.nowrap&&(f.style.whiteSpace="nowrap"),e.protect&&g.on("BeforeSetContent",function(h){be(e.protect,function(i){h.content=h.content.replace(i,function(k){return"<!--mce:protected "+escape(k)+"-->"})})}),g.on("SetContent",function(){g.addVisual(g.getBody())}),e.padd_empty_editor&&g.on("PostProcess",function(h){h.content=h.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),g.load({initial:!0,format:"html"}),g.startContent=g.getContent({format:"raw"}),g.initialized=!0,g.bindPendingEventDelegates(),g.fire("init"),g.focus(!0),g.nodeChanged({initial:!0}),g.execCallback("init_instance_callback",g),g.on("compositionstart compositionend",function(h){g.composing="compositionstart"===h.type}),g.contentStyles.length>0&&(a="",be(g.contentStyles,function(h){a+=h+"\r\n"}),g.dom.addStyle(a)),be(g.contentCSS,function(h){g.loadedCSS[h]||(g.dom.loadCSS(h),g.loadedCSS[h]=!0)}),e.auto_focus&&ce.setEditorTimeout(g,function(){var h;h=e.auto_focus===!0?g:g.editorManager.get(e.auto_focus),h.destroyed||h.focus()},100),d=c=f=null},focus:function(k){function w(a){return f.dom.getParent(a,function(c){return"true"===f.dom.getContentEditable(c)})}var f=this,b=f.selection,h=f.settings.content_editable,d,p,x=f.getDoc(),g=f.getBody(),m;if(!k){if(d=b.getRng(),d.item&&(p=d.item(0)),f.quirks.refreshContentEditable(),m=w(b.getNode()),f.$.contains(g,m)){return m.focus(),b.normalize(),void f.editorManager.setActive(f)}if(h||(cY.opera||f.getBody().focus(),f.getWin().focus()),j||h){if(g.setActive){try{g.setActive()}catch(v){g.focus()}}else{g.focus()}h&&b.normalize()}p&&p.ownerDocument==x&&(d=x.body.createControlRange(),d.addElement(p),d.select())}f.editorManager.setActive(f)},execCallback:function(c){var a=this,d=a.settings[c],b;if(d){return a.callbackLookup&&(b=a.callbackLookup[c])&&(d=b.func,b=b.scope),"string"==typeof d&&(b=d.replace(/\.\w+$/,""),b=b?cV(b):0,d=cV(d),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[c]={func:d,scope:b}),d.apply(b||a,Array.prototype.slice.call(arguments,1))}},translate:function(b){var a=this.settings.language||"en",c=this.editorManager.i18n;return b?(b=c.data[a+"."+b]||b.replace(/\{\#([^\}]+)\}/g,function(f,d){return c.data[a+"."+d]||"{#"+d+"}"}),this.editorManager.translate(b)):""},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(b!==bv?b:"{#"+a+"}")},getParam:function(d,b,f){var c=d in this.settings?this.settings[d]:b,a;return"hash"===f?(a={},"string"==typeof c?be(c.indexOf("=")>0?c.split(/[;,](?![^=;,]*(?:[;,]|$))/):c.split(","),function(g){g=g.split("="),g.length>1?a[bt(g[0])]=bt(g[1]):a[bt(g[0])]=bt(g)}):a=c,a):c},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),a.text||a.icon||(a.icon=b),c.buttons=c.buttons||{},a.tooltip=a.tooltip||a.title,c.buttons[b]=a},addMenuItem:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),c.menuItems=c.menuItems||{},c.menuItems[b]=a},addContextToolbar:function(c,a){var d=this,b;d.contextToolbars=d.contextToolbars||[],"string"==typeof c&&(b=c,c=function(f){return d.dom.is(f,b)}),d.contextToolbars.push({id:cU.uuid("mcet"),predicate:c,items:a})},addCommand:function(b,a,c){this.editorCommands.addCommand(b,a,c)},addQueryStateHandler:function(b,a,c){this.editorCommands.addQueryStateHandler(b,a,c)},addQueryValueHandler:function(b,a,c){this.editorCommands.addQueryValueHandler(b,a,c)},addShortcut:function(c,a,d,b){this.shortcuts.add(c,a,d,b)},execCommand:function(c,a,d,b){return this.editorCommands.execCommand(c,a,d,b)},queryCommandState:function(a){return this.editorCommands.queryCommandState(a)},queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a)},queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a)},show:function(){var a=this;a.hidden&&(a.hidden=!1,a.inline?a.getBody().contentEditable=!0:(ct.show(a.getContainer()),ct.hide(a.id)),a.load(),a.fire("show"))},hide:function(){var b=this,a=b.getDoc();b.hidden||(q&&a&&!b.inline&&a.execCommand("SelectAll"),b.save(),b.inline?(b.getBody().contentEditable=!1,b==b.editorManager.focusedEditor&&(b.editorManager.focusedEditor=null)):(ct.hide(b.getContainer()),ct.setStyle(b.id,"display",b.orgDisplay)),b.hidden=!0,b.fire("hide"))},isHidden:function(){return !!this.hidden},setProgressState:function(b,a){this.fire("ProgressState",{state:b,time:a})},load:function(c){var d=this,b=d.getElement(),a;return b?(c=c||{},c.load=!0,a=d.setContent(b.value!==bv?b.value:b.innerHTML,c),c.element=b,c.no_events||d.fire("LoadContent",c),c.element=b=null,a):void 0},save:function(d){var b=this,f=b.getElement(),c,a;if(f&&b.initialized){return d=d||{},d.save=!0,d.element=f,c=d.content=b.getContent(d),d.no_events||b.fire("SaveContent",d),"raw"==d.format&&b.fire("RawSaveContent",d),c=d.content,/TEXTAREA|INPUT/i.test(f.nodeName)?f.value=c:(b.inline||(f.innerHTML=c),(a=ct.getParent(b.id,"form"))&&be(a.elements,function(g){return g.name==b.id?(g.value=c,!1):void 0})),d.element=f=null,d.set_dirty!==!1&&b.setDirty(!1),c}},setContent:function(d,b){var g=this,c=g.getBody(),a,f;return b=b||{},b.format=b.format||"html",b.set=!0,b.content=d,b.no_events||g.fire("BeforeSetContent",b),d=b.content,0===d.length||/^\s+$/.test(d)?(f=q&&11>q?"":'<br data-mce-bogus="1">',"TABLE"==c.nodeName?d="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(c.nodeName)&&(d="<li>"+f+"</li>"),a=g.settings.forced_root_block,a&&g.schema.isValidChild(c.nodeName.toLowerCase(),a.toLowerCase())?(d=f,d=g.dom.createHTML(a,g.settings.forced_root_block_attrs,d)):q||d||(d='<br data-mce-bogus="1">'),g.dom.setHTML(c,d),g.fire("SetContent",b)):("raw"!==b.format&&(d=new c1({validate:g.validate},g.schema).serialize(g.parser.parse(d,{isRootContent:!0}))),b.content=bt(d),g.dom.setHTML(c,b.content),b.no_events||g.fire("SetContent",b)),b.content},getContent:function(c){var a=this,d,b=a.getBody();return c=c||{},c.format=c.format||"html",c.get=!0,c.getInner=!0,c.no_events||a.fire("BeforeGetContent",c),d="raw"==c.format?a.serializer.getTrimmedContent():"text"==c.format?b.innerText||b.textContent:a.serializer.serialize(b,c),"text"!=c.format?c.content=bt(d):c.content=d,c.no_events||a.fire("GetContent",c),c.content},insertContent:function(b,a){a&&(b=Q({content:b},a)),this.execCommand("mceInsertContent",!1,b)},isDirty:function(){return !this.isNotDirty},setDirty:function(b){var a=!this.isNotDirty;this.isNotDirty=!b,b&&b!=a&&this.fire("dirty")},setMode:function(a){J.setMode(this,a)},getContainer:function(){var a=this;return a.container||(a.container=ct.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=ct.get(this.id)),this.targetElm},getWin:function(){var b=this,a;return b.contentWindow||(a=b.iframeElement,a&&(b.contentWindow=a.contentWindow)),b.contentWindow},getDoc:function(){var b=this,a;return b.contentDocument||(a=b.getWin(),a&&(b.contentDocument=a.document)),b.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(d,b,f){var c=this,a=c.settings;return a.urlconverter_callback?c.execCallback("urlconverter_callback",d,f,!0,b):!a.convert_urls||f&&"LINK"==f.nodeName||0===d.indexOf("file:")||0===d.length?d:a.relative_urls?c.documentBaseURI.toRelative(d):d=c.documentBaseURI.toAbsolute(d,a.remove_script_host)},addVisual:function(c){var f=this,b=f.settings,a=f.dom,d;c=c||f.getBody(),f.hasVisual===bv&&(f.hasVisual=b.visual),be(a.select("table,a",c),function(h){var g;switch(h.nodeName){case"TABLE":return d=b.visual_table_class||"mce-item-table",g=a.getAttrib(h,"border"),void (g&&"0"!=g||!f.hasVisual?a.removeClass(h,d):a.addClass(h,d));case"A":return void (a.getAttrib(h,"href",!1)||(g=a.getAttrib(h,"name")||h.id,d=b.visual_anchor_class||"mce-item-anchor",g&&f.hasVisual?a.addClass(h,d):a.removeClass(h,d)))}}),f.fire("VisualAid",{element:c,hasVisual:f.hasVisual})},remove:function(){var a=this;a.removed||(a.save(),a.removed=1,a.unbindAllNativeEvents(),a.hasHiddenInput&&ct.remove(a.getElement().nextSibling),a.inline||(q&&10>q&&a.getDoc().execCommand("SelectAll",!1,null),ct.setStyle(a.id,"display",a.orgDisplay),a.getBody().onload=null),a.fire("remove"),a.editorManager.remove(a),ct.remove(a.getContainer()),a._selectionOverrides.destroy(),a.editorUpload.destroy(),a.destroy())},destroy:function(b){var a=this,c;if(!a.destroyed){if(!b&&!a.removed){return void a.remove()}b||(a.editorManager.off("beforeunload",a._beforeUnload),a.theme&&a.theme.destroy&&a.theme.destroy(),a.selection.destroy(),a.dom.destroy()),c=a.formElement,c&&(c._mceOldSubmit&&(c.submit=c._mceOldSubmit,c._mceOldSubmit=null),ct.unbind(c,"submit reset",a.formEventDelegate)),a.contentAreaContainer=a.formElement=a.container=a.editorContainer=null,a.bodyElement=a.contentDocument=a.contentWindow=null,a.iframeElement=a.targetElm=null,a.selection&&(a.selection=a.selection.win=a.selection.dom=a.selection.dom.doc=null),a.destroyed=1}},uploadImages:function(a){return this.editorUpload.uploadImages(a)},_scanForImages:function(){return this.editorUpload.scanForImages()}},Q(cT.prototype,di),cT}),bx(aI,[],function(){var b={},a="en";return{setCode:function(c){c&&(a=c,this.rtl=this.data[c]?"rtl"===this.data[c]._dir:!1)},getCode:function(){return a},rtl:!1,add:function(d,f){var e=b[d];e||(b[d]=e={});for(var c in f){e[c]=f[c]}this.setCode(d)},translate:function(e){var d;if(d=b[a],d||(d={}),"undefined"==typeof e){return e}if("string"!=typeof e&&e.raw){return e.raw}if(e.push){var c=e.slice(1);e=(d[e[0]]||e[0]).replace(/\{([0-9]+)\}/g,function(g,f){return c[f]})}return(d[e]||e).replace(/{context:\w+}$/,"")},data:b}}),bx(cc,[bq,bs,bP],function(h,d,k){function g(o){function a(){try{return document.activeElement}catch(l){return document.body}}function q(r,l){if(l&&l.startContainer){if(!r.isChildOf(l.startContainer,r.getRoot())||!r.isChildOf(l.endContainer,r.getRoot())){return}return{startContainer:l.startContainer,startOffset:l.startOffset,endContainer:l.endContainer,endOffset:l.endOffset}}return l}function i(r,l){var s;return l.startContainer?(s=r.getDoc().createRange(),s.setStart(l.startContainer,l.startOffset),s.setEnd(l.endContainer,l.endOffset)):s=l,s}function p(l){return !!f.getParent(l,g.isEditorUIElement)}function n(e){var l=e.editor;l.on("init",function(){(l.inline||k.ie)&&("onbeforedeactivate" in document&&k.ie<9?l.dom.bind(l.getBody(),"beforedeactivate",function(s){if(s.target==l.getBody()){try{l.lastRng=l.selection.getRng()}catch(r){}}}):l.on("nodechange mouseup keyup",function(s){var r=a();"nodechange"==s.type&&s.selectionChange||(r&&r.id==l.id+"_ifr"&&(r=l.getBody()),l.dom.isChildOf(r,l.getBody())&&(l.lastRng=l.selection.getRng()))}),k.webkit&&!c&&(c=function(){var r=o.activeEditor;if(r&&r.selection){var s=r.selection.getRng();s&&!s.collapsed&&(l.lastRng=s)}},f.bind(document,"selectionchange",c)))}),l.on("setcontent",function(){l.lastRng=null}),l.on("mousedown",function(){l.selection.lastFocusBookmark=null}),l.on("focusin",function(){var r=o.focusedEditor,s;l.selection.lastFocusBookmark&&(s=i(l,l.selection.lastFocusBookmark),l.selection.lastFocusBookmark=null,l.selection.setRng(s)),r!=l&&(r&&r.fire("blur",{focusedEditor:l}),o.setActive(l),o.focusedEditor=l,l.fire("focus",{blurredEditor:r}),l.focus(!0)),l.lastRng=null}),l.on("focusout",function(){d.setEditorTimeout(l,function(){var r=o.focusedEditor;p(a())||r!=l||(l.fire("blur",{focusedEditor:null}),o.focusedEditor=null,l.selection&&(l.selection.lastFocusBookmark=null))})}),j||(j=function(s){var v=o.activeEditor,u;u=s.target,v&&u.ownerDocument==document&&(v.selection&&u!=v.getBody()&&(v.selection.lastFocusBookmark=q(v.dom,v.lastRng)),u==document.body||p(u)||o.focusedEditor!=v||(v.fire("blur",{focusedEditor:null}),o.focusedEditor=null))},f.bind(document,"focusin",j)),l.inline&&!b&&(b=function(u){var w=o.activeEditor,v=w.dom;if(w.inline&&v&&!v.isChildOf(u.target,w.getBody())){var s=w.selection.getRng();s.collapsed||(w.lastRng=s)}},f.bind(document,"mouseup",b))}function m(e){o.focusedEditor==e.editor&&(o.focusedEditor=null),o.activeEditor||(f.unbind(document,"selectionchange",c),f.unbind(document,"focusin",j),f.unbind(document,"mouseup",b),c=j=b=null)}o.on("AddEditor",n),o.on("RemoveEditor",m)}var c,j,b,f=h.DOM;return g.isEditorUIElement=function(a){return -1!==a.className.toString().indexOf("mce-")},g}),bx(aZ,[a5,bL,bq,cE,bP,bE,bQ,aE,aI,cc],function(N,z,G,D,J,F,R,A,I,P){function w(a){L(B.editors,function(b){"scroll"===a.type?b.fire("ScrollWindow",a):b.fire("ResizeWindow",a)})}function O(a,b){b!==k&&(b?z(window).on("resize scroll",w):z(window).off("resize scroll",w),k=b)}function M(c){var a=B.editors,d;delete a[c.id];for(var b=0;b<a.length;b++){if(a[b]==c){a.splice(b,1),d=!0;break}}return B.activeEditor==c&&(B.activeEditor=a[0]),B.focusedEditor==c&&(B.focusedEditor=null),d}function K(a){return a&&a.initialized&&!(a.getContainer()||a.getBody()).parentNode&&(M(a),a.unbindAllNativeEvents(),a.destroy(!0),a.removed=!0,a=null),a}var E=G.DOM,H=F.explode,L=F.each,q=F.extend,j=0,Q,B,k=!1;return B={$:z,majorVersion:"4",minorVersion:"4.1",releaseDate:"2016-07-26",editors:[],i18n:I,activeEditor:null,setup:function(){var g=this,p,c,f="",b,h;if(c=D.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(c)&&(c=c.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(c)||(c+="/")),b=window.tinymce||window.tinyMCEPreInit){p=b.base||b.baseURL,f=b.suffix}else{for(var r=document.getElementsByTagName("script"),d=0;d<r.length;d++){h=r[d].src;var m=h.substring(h.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(h)){-1!=m.indexOf(".min")&&(f=".min"),p=h.substring(0,h.lastIndexOf("/"));break}}!p&&document.currentScript&&(h=document.currentScript.src,-1!=h.indexOf(".min")&&(f=".min"),p=h.substring(0,h.lastIndexOf("/")))}g.baseURL=new D(c).toAbsolute(p),g.documentBaseURL=c,g.baseURI=new D(g.baseURL),g.suffix=f,g.focusManager=new P(g)},overrideDefaults:function(b){var a,c;a=b.base_url,a&&(this.baseURL=new D(this.documentBaseURL).toAbsolute(a.replace(/\/+$/,"")),this.baseURI=new D(this.baseURL)),c=b.suffix,b.suffix&&(this.suffix=c),this.defaultSettings=b},init:function(g){function a(c,b){return c.inline&&b.tagName.toLowerCase() in e}function m(c,b){window.console&&!window.test&&window.console.log(c,b)}function T(c){var b=c.id;return b||(b=c.name,b=b&&!E.get(b)?c.name:E.uniqueId(),c.setAttribute("id",b)),b}function h(c){var b=g[c];if(b){return b.apply(o,Array.prototype.slice.call(arguments,2))}}function t(c,b){return b.constructor===RegExp?b.test(c.className):E.hasClass(c,b)}function S(c){var b,d=[];if(c.types){return L(c.types,function(f){d=d.concat(E.select(f.selector))}),d}if(c.selector){return E.select(c.selector)}if(c.target){return[c.target]}switch(c.mode){case"exact":b=c.elements||"",b.length>0&&L(H(b),function(i){var f;(f=E.get(i))?d.push(f):L(document.forms,function(l){L(l.elements,function(n){n.name===i&&(i="mce_editor_"+j++,E.setAttrib(n,"id",i),d.push(n))})})});break;case"textareas":case"specific_textareas":L(E.select("textarea"),function(f){c.editor_deselector&&t(f,c.editor_deselector)||c.editor_selector&&!t(f,c.editor_selector)||d.push(f)})}return d}function p(){function d(l,u,s){var c=new N(l,u,o);b.push(c),c.on("init",function(){++i===f.length&&y(b)}),c.targetElm=c.targetElm||s,c.render()}var i=0,b=[],f;return E.unbind(window,"ready",p),h("onpageload"),f=z.unique(S(g)),g.types?void L(g.types,function(c){F.each(f,function(l){return E.is(l,c.selector)?(d(T(l),q({},g,c),l),!1):!0})}):(F.each(f,function(c){K(o.get(c.id))}),f=F.grep(f,function(c){return !o.get(c.id)}),void L(f,function(c){a(g,c)?m("Could not initialize inline editor on invalid inline target element",c):d(T(c),g,c)}))}var o=this,v,e;e=F.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var y=function(b){v=b};return o.settings=g,E.bind(window,"ready",p),new R(function(b){v?b(v):y=function(c){b(c)}})},get:function(a){return arguments.length?a in this.editors?this.editors[a]:null:this.editors},add:function(b){var a=this,c=a.editors;return c[b.id]=b,c.push(b),O(c,!0),a.activeEditor=b,a.fire("AddEditor",{editor:b}),Q||(Q=function(){a.fire("BeforeUnload")},E.bind(window,"beforeunload",Q)),b},createEditor:function(a,b){return this.add(new N(a,b,this))},remove:function(d){var b=this,f,c=b.editors,a;if(d){return"string"==typeof d?(d=d.selector||d,void L(E.select(d),function(g){a=c[g.id],a&&b.remove(a)})):(a=d,c[a.id]?(M(a)&&b.fire("RemoveEditor",{editor:a}),c.length||E.unbind(window,"beforeunload",Q),a.remove(),O(c,c.length>0),a):null)}for(f=c.length-1;f>=0;f--){b.remove(c[f])}},execCommand:function(b,e,c){var a=this,d=a.get(c);switch(b){case"mceAddEditor":return a.get(c)||new N(c,a.settings,a).render(),!0;case"mceRemoveEditor":return d&&d.remove(),!0;case"mceToggleEditor":return d?(d.isHidden()?d.show():d.hide(),!0):(a.execCommand("mceAddEditor",0,c),!0)}return a.activeEditor?a.activeEditor.execCommand(b,e,c):!1},triggerSave:function(){L(this.editors,function(a){a.save()})},addI18n:function(b,a){I.add(b,a)},translate:function(a){return I.translate(a)},setActive:function(b){var a=this.activeEditor;this.activeEditor!=b&&(a&&a.fire("deactivate",{relatedTarget:b}),b.fire("activate",{relatedTarget:a})),this.activeEditor=b}},q(B,A),B.setup(),window.tinymce=window.tinyMCE=B,B}),bx(ay,[aZ,bE],function(c,a){var d=a.each,b=a.explode;c.on("AddEditor",function(g){var f=g.editor;f.on("preInit",function(){function n(l,i){d(i,function(e,o){e&&m.setStyle(l,o,e)}),m.rename(l,"span")}function k(i){m=f.dom,h.convert_fonts_to_spans&&d(m.select("font,u,strike",i.node),function(l){p[l.nodeName.toLowerCase()](m,l)})}var p,j,m,h=f.settings;h.inline_styles&&(j=b(h.font_size_legacy_values),p={font:function(e,i){n(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:j[parseInt(i.size,10)-1]})},u:function(i,e){"html4"===f.settings.schema&&n(e,{textDecoration:"underline"})},strike:function(e,i){n(i,{textDecoration:"line-through"})}},f.on("PreProcess SetContent",k))})})}),bx(bD,[aE,bE],function(b,a){var c={send:function(g){function f(){!g.async||4==d.readyState||h++>10000?(g.success&&10000>h&&200==d.status?g.success.call(g.success_scope,""+d.responseText,d,g):g.error&&g.error.call(g.error_scope,h>10000?"TIMED_OUT":"GENERAL",d,g),d=null):setTimeout(f,10)}var d,h=0;if(g.scope=g.scope||this,g.success_scope=g.success_scope||g.scope,g.error_scope=g.error_scope||g.scope,g.async=g.async!==!1,g.data=g.data||"",c.fire("beforeInitialize",{settings:g}),d=new XMLHttpRequest){if(d.overrideMimeType&&d.overrideMimeType(g.content_type),d.open(g.type||(g.data?"POST":"GET"),g.url,g.async),g.crossDomain&&(d.withCredentials=!0),g.content_type&&d.setRequestHeader("Content-Type",g.content_type),g.requestheaders&&a.each(g.requestheaders,function(i){d.setRequestHeader(i.key,i.value)}),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d=c.fire("beforeSend",{xhr:d,settings:g}).xhr,d.send(g.data),!g.async){return f()}setTimeout(f,10)}}};return a.extend(c,b),c}),bx(cz,[],function(){function a(d,g){var e,c,f,b;if(g=g||'"',null===d){return"null"}if(f=typeof d,"string"==f){return c="\bb	t\nn\ff\rr\"\"''\\\\",g+d.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(i,h){return'"'===g&&"'"===i?i:(e=c.indexOf(h),e+1?"\\"+c.charAt(e+1):(i=h.charCodeAt().toString(16),"\\u"+"0000".substring(i.length)+i))})+g}if("object"==f){if(d.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(d)){for(e=0,c="[";e<d.length;e++){c+=(e>0?",":"")+a(d[e],g)}return c+"]"}c="{";for(b in d){d.hasOwnProperty(b)&&(c+="function"!=typeof d[b]?(c.length>1?","+g:g)+b+g+":"+a(d[b],g):"")}return c+"}"}return""+d}return{serialize:a,parse:function(c){try{return window[String.fromCharCode(101)+"val"]("("+c+")")}catch(b){}}}}),bx(aQ,[cz,bD,bE],function(d,b,f){function c(g){this.settings=a({},g),this.count=0}var a=f.extend;return c.sendRPC=function(g){return(new c).send(g)},c.prototype={send:function(h){var e=h.error,g=h.success;h=a(this.settings,h),h.success=function(k,j){k=d.parse(k),"undefined"==typeof k&&(k={error:"JSON Parse error."}),k.error?e.call(h.error_scope||h.scope,k.error,j):g.call(h.success_scope||h.scope,k.result)},h.error=function(j,i){e&&e.call(h.error_scope||h.scope,j,i)},h.data=d.serialize({id:h.id||"c"+this.count++,method:h.method,params:h.params}),h.content_type="application/json",b.send(h)}},c}),bx(cN,[bq],function(a){return{callbacks:{},count:0,send:function(f){var d=this,c=a.DOM,e=f.count!==bv?f.count:d.count,b="tinymce_jsonp_"+e;d.callbacks[e]=function(g){c.remove(b),delete d.callbacks[e],f.callback(g)},c.add(c.doc.body,"script",{id:b,src:f.url,type:"text/javascript"}),d.count++}}}),bx(bo,[],function(){function j(){q=[];for(var a in m){q.push(a)}h.length=q.length}function f(){function t(s){var u,i;return i=s!==bv?a+s:c.indexOf(",",a),-1===i||i>c.length?null:(u=c.substring(a,i),a=i+1,u)}var l,c,e,a=0;if(m={},k){d.load(g),c=d.getAttribute(g)||"";do{var o=t();if(null===o){break}if(l=t(parseInt(o,32)||0),null!==l){if(o=t(),null===o){break}e=t(parseInt(o,32)||0),l&&(m[l]=e)}}while(null!==l);j()}}function b(){var c,l="";if(k){for(var e in m){c=m[e],l+=(l?",":"")+e.length.toString(32)+","+e+","+c.length.toString(32)+","+c}d.setAttribute(g,l);try{d.save(g)}catch(a){}j()}}var h,d,m,q,g,k;try{if(window.localStorage){return localStorage}}catch(p){}return g="tinymce",d=document.documentElement,k=!!d.addBehavior,k&&d.addBehavior("#default#userData"),h={key:function(a){return q[a]},getItem:function(a){return a in m?m[a]:null},setItem:function(c,a){m[c]=""+a,b()},removeItem:function(a){delete m[a],b()},clear:function(){m={},b()}},f(),h}),bx(aA,[bq,bM,cd,cp,bE,bP],function(g,d,j,f,c,h){var b=window.tinymce;return b.DOM=g.DOM,b.ScriptLoader=j.ScriptLoader,b.PluginManager=f.PluginManager,b.ThemeManager=f.ThemeManager,b.dom=b.dom||{},b.dom.Event=d.Event,c.each(c,function(i,a){b[a]=i}),c.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(a){b[a]=h[a.substr(2).toLowerCase()]}),{}}),bx(bd,[aU,bE],function(b,a){return b.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(c){this.settings=a.extend({},this.Defaults,c)},preRender:function(c){c.bodyClasses.add(this.settings.containerClass)},applyClasses:function(h){var f=this,k=f.settings,g,d,j,c;g=k.firstControlClass,d=k.lastControlClass,h.each(function(i){i.classes.remove(g).remove(d).add(k.controlClass),i.visible()&&(j||(j=i),c=i)}),j&&j.classes.add(g),c&&c.classes.add(d)},renderHtml:function(d){var c=this,f="";return c.applyClasses(d.items()),d.items().each(function(g){f+=g.renderHtml()}),f},recalc:function(){},postRender:function(){},isNative:function(){return !1}})}),bx(aW,[bd],function(a){return a.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(b){b.items().filter(":visible").each(function(d){var c=d.settings;d.layoutRect({x:c.x,y:c.y,w:c.w,h:c.h}),d.recalc&&d.recalc()})},renderHtml:function(b){return'<div id="'+b._id+'-absend" class="'+b.classPrefix+'abs-end"></div>'+this._super(b)}})}),bx(aG,[aB],function(a){return a.extend({Defaults:{classes:"widget btn",role:"button"},init:function(c){var b=this,d;b._super(c),c=b.settings,d=b.settings.size,b.on("click mousedown",function(f){f.preventDefault()}),b.on("touchstart",function(f){b.fire("click",f),f.preventDefault()}),c.subtype&&b.classes.add(c.subtype),d&&b.classes.add("btn-"+d),c.icon&&b.icon(c.icon)},icon:function(b){return arguments.length?(this.state.set("icon",b),this):this.state.get("icon")},repaint:function(){var c=this.getEl().firstChild,b;c&&(b=c.style,b.width=b.height="100%"),this._super()},renderHtml:function(){var g=this,d=g._id,j=g.classPrefix,f=g.state.get("icon"),c,h=g.state.get("text"),b="";return c=g.settings.image,c?(f="none","string"!=typeof c&&(c=window.getSelection?c[0]:c[1]),c=" style=\"background-image: url('"+c+"')\""):c="",h&&(g.classes.add("btn-has-text"),b='<span class="'+j+'txt">'+g.encode(h)+"</span>"),f=g.settings.icon?j+"ico "+j+"i-"+f:"",'<div id="'+d+'" class="'+g.classes+'" tabindex="-1" aria-labelledby="'+d+'"><button role="presentation" type="button" tabindex="-1">'+(f?'<i class="'+f+'"'+c+"></i>":"")+b+"</button></div>"},bindStates:function(){function d(h){var g=f("span."+c,b.getEl());h?(g[0]||(f("button:first",b.getEl()).append('<span class="'+c+'"></span>'),g=f("span."+c,b.getEl())),g.html(b.encode(h))):g.remove(),b.classes.toggle("btn-has-text",!!h)}var b=this,f=b.$,c=b.classPrefix+"txt";return b.state.on("change:text",function(e){d(e.value)}),b.state.on("change:icon",function(k){var h=k.value,g=b.classPrefix;b.settings.icon=h,h=h?g+"ico "+g+"i-"+b.settings.icon:"";var j=b.getEl().firstChild,e=j.getElementsByTagName("i")[0];h?(e&&e==j.firstChild||(e=document.createElement("i"),j.insertBefore(e,j.firstChild)),e.className=h):e&&j.removeChild(e),d(b.state.get("text"))}),b._super()}})}),bx(bh,[ac],function(a){return a.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var c=this,b=c._layout;return c.classes.add("btn-group"),c.preRender(),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes+'"><div id="'+c._id+'-body">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),bx(cD,[aB],function(a){return a.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(c){var b=this;b._super(c),b.on("click mousedown",function(d){d.preventDefault()}),b.on("click",function(d){d.preventDefault(),b.disabled()||b.checked(!b.checked())}),b.checked(b.settings.checked)},checked:function(b){return arguments.length?(this.state.set("checked",b),this):this.state.get("checked")},value:function(b){return arguments.length?this.checked(b):this.checked()},renderHtml:function(){var c=this,b=c._id,d=c.classPrefix;return'<div id="'+b+'" class="'+c.classes+'" unselectable="on" aria-labelledby="'+b+'-al" tabindex="-1"><i class="'+d+"ico "+d+'i-checkbox"></i><span id="'+b+'-al" class="'+d+'label">'+c.encode(c.state.get("text"))+"</span></div>"},bindStates:function(){function c(d){b.classes.toggle("checked",d),b.aria("checked",d)}var b=this;return b.state.on("change:text",function(d){b.getEl("al").firstChild.data=b.translate(d.value)}),b.state.on("change:checked change:value",function(d){b.fire("change"),c(d.value)}),b.state.on("change:icon",function(g){var j=g.value,f=b.classPrefix;if("undefined"==typeof j){return b.settings.icon}b.settings.icon=j,j=j?f+"ico "+f+"i-"+b.settings.icon:"";var d=b.getEl().firstChild,h=d.getElementsByTagName("i")[0];j?(h&&h==d.firstChild||(h=document.createElement("i"),d.insertBefore(h,d.firstChild)),h.className=j):h&&d.removeChild(h)}),b.state.get("checked")&&c(!0),b._super()}})}),bx(aO,[aB,ci,bl,bL],function(c,a,d,b){return c.extend({init:function(g){var f=this;f._super(g),g=f.settings,f.classes.add("combobox"),f.subinput=!0,f.ariaTarget="inp",g.menu=g.menu||g.values,g.menu&&(g.icon="caret"),f.on("click",function(j){var e=j.target,h=f.getEl();if(b.contains(h,e)||e==h){for(;e&&e!=h;){e.id&&-1!=e.id.indexOf("-open")&&(f.fire("action"),g.menu&&(f.showMenu(),j.aria&&f.menu.items()[0].focus())),e=e.parentNode}}}),f.on("keydown",function(h){"INPUT"==h.target.nodeName&&13==h.keyCode&&f.parents().reverse().each(function(k){var j=f.state.get("value"),e=f.getEl("inp").value;return h.preventDefault(),f.state.set("value",e),j!=e&&f.fire("change"),k.hasEventListeners("submit")&&k.toJSON?(k.fire("submit",{data:k.toJSON()}),!1):void 0})}),f.on("keyup",function(h){"INPUT"==h.target.nodeName&&f.state.set("value",h.target.value)})},showMenu:function(){var g=this,h=g.settings,f;g.menu||(f=h.menu||[],f.length?f={type:"menu",items:f}:f.type=f.type||"menu",g.menu=a.create(f).parent(g).renderTo(g.getContainerElm()),g.fire("createmenu"),g.menu.reflow(),g.menu.on("cancel",function(e){e.control===g.menu&&g.focus()}),g.menu.on("show hide",function(e){e.control.items().each(function(i){i.active(i.value()==g.value())})}).fire("show"),g.menu.on("select",function(e){g.value(e.control.value())}),g.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&g.menu.hide()}),g.aria("expanded",!0)),g.menu.show(),g.menu.layoutRect({w:g.layoutRect().w}),g.menu.moveRel(g.getEl(),g.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var m=this,j=m.getEl(),h=m.getEl("open"),n=m.layoutRect(),g,k;g=h?n.w-d.getSize(h).width-10:n.w-10;var f=document;return f.all&&(!f.documentMode||f.documentMode<=8)&&(k=m.layoutRect().h-2+"px"),b(j.firstChild).css({width:g,lineHeight:k}),m._super(),m},postRender:function(){var f=this;return b(this.getEl("inp")).on("change",function(e){f.state.set("value",e.target.value),f.fire("change",e)}),f._super()},renderHtml:function(){var m=this,q=m._id,h=m.settings,f=m.classPrefix,k=m.state.get("value")||"",g,p,u="",j="";return"spellcheck" in h&&(j+=' spellcheck="'+h.spellcheck+'"'),h.maxLength&&(j+=' maxlength="'+h.maxLength+'"'),h.size&&(j+=' size="'+h.size+'"'),h.subtype&&(j+=' type="'+h.subtype+'"'),m.disabled()&&(j+=' disabled="disabled"'),g=h.icon,g&&"caret"!=g&&(g=f+"ico "+f+"i-"+h.icon),p=m.state.get("text"),(g||p)&&(u='<div id="'+q+'-open" class="'+f+"btn "+f+'open" tabIndex="-1" role="button"><button id="'+q+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=g?'<i class="'+g+'"></i>':'<i class="'+f+'caret"></i>')+(p?(g?" ":"")+p:"")+"</button></div>",m.classes.add("has-open")),'<div id="'+q+'" class="'+m.classes+'"><input id="'+q+'-inp" class="'+f+'textbox" value="'+m.encode(k,!1)+'" hidefocus="1"'+j+' placeholder="'+m.encode(h.placeholder)+'" />'+u+"</div>"},value:function(f){return arguments.length?(this.state.set("value",f),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},bindStates:function(){var f=this;return f.state.on("change:value",function(e){f.getEl("inp").value!=e.value&&(f.getEl("inp").value=e.value)}),f.state.on("change:disabled",function(e){f.getEl("inp").disabled=e.value}),f._super()},remove:function(){b(this.getEl("inp")).off(),this._super()}})}),bx(aq,[aO],function(a){return a.extend({init:function(c){var b=this;c.spellcheck=!1,c.onaction&&(c.icon="none"),b._super(c),b.classes.add("colorbox"),b.on("change keyup postrender",function(){b.repaintColor(b.value())})},repaintColor:function(c){var b=this.getEl().getElementsByTagName("i")[0];if(b){try{b.style.background=c}catch(d){}}},bindStates:function(){var b=this;return b.state.on("change:value",function(c){b.state.get("rendered")&&b.repaintColor(c.value)}),b._super()}})}),bx(cG,[aG,ak],function(b,a){return b.extend({showPanel:function(){var d=this,f=d.settings;if(d.active(!0),d.panel){d.panel.show()}else{var c=f.panel;c.type&&(c={layout:"grid",items:c}),c.role=c.role||"dialog",c.popover=!0,c.autohide=!0,c.ariaRoot=!0,d.panel=new a(c).on("hide",function(){d.active(!1)}).on("cancel",function(e){e.stopPropagation(),d.focus(),d.hidePanel()}).parent(d).renderTo(d.getContainerElm()),d.panel.fire("show"),d.panel.reflow()}d.panel.moveRel(d.getEl(),f.popoverAlign||(d.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var c=this;c.panel&&c.panel.hide()},postRender:function(){var c=this;return c.aria("haspopup",!0),c.on("click",function(d){d.control===c&&(c.panel&&c.panel.visible()?c.hidePanel():(c.showPanel(),c.panel.focus(!!d.aria)))}),c._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),bx(bX,[cG,bq],function(b,a){var c=a.DOM;return b.extend({init:function(d){this._super(d),this.classes.add("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var j=this,g=j._id,l=j.classPrefix,h=j.state.get("text"),f=j.settings.icon?l+"ico "+l+"i-"+j.settings.icon:"",k=j.settings.image?" style=\"background-image: url('"+j.settings.image+"')\"":"",d="";return h&&(j.classes.add("btn-has-text"),d='<span class="'+l+'txt">'+j.encode(h)+"</span>"),'<div id="'+g+'" class="'+j.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(f?'<i class="'+f+'"'+k+"></i>":"")+'<span id="'+g+'-preview" class="'+l+'preview"></span>'+d+'</button><button type="button" class="'+l+'open" hidefocus="1" tabindex="-1"> <i class="'+l+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(e){e.aria&&"down"==e.aria.key||e.control!=f||c.getParent(e.target,"."+f.classPrefix+"open")||(e.stopImmediatePropagation(),d.call(f,e))}),delete f.settings.onclick,f._super()}})}),bx(aF,[],function(){function c(p){function k(y,x,f){var B,D,h,A,C,z;return B=0,D=0,h=0,y/=255,x/=255,f/=255,C=a(y,a(x,f)),z=d(y,d(x,f)),C==z?(h=C,{h:0,s:0,v:100*h}):(A=y==C?x-f:f==C?y-x:f-y,B=y==C?3:f==C?1:5,B=60*(B-A/(z-C)),D=(z-C)/z,h=z,{h:b(B),s:b(100*D),v:b(100*h)})}function g(y,u,z){var h,x,f,A;if(y=(parseInt(y,10)||0)%360,u=parseInt(u,10)/100,z=parseInt(z,10)/100,u=d(0,a(u,1)),z=d(0,a(z,1)),0===u){return void (q=n=m=b(255*z))}switch(h=y/60,x=z*u,f=x*(1-Math.abs(h%2-1)),A=z-x,Math.floor(h)){case 0:q=x,n=f,m=0;break;case 1:q=f,n=x,m=0;break;case 2:q=0,n=x,m=f;break;case 3:q=0,n=f,m=x;break;case 4:q=f,n=0,m=x;break;case 5:q=x,n=0,m=f;break;default:q=n=m=0}q=b(255*(q+A)),n=b(255*(n+A)),m=b(255*(m+A))}function t(){function f(h){return h=parseInt(h,10).toString(16),h.length>1?h:"0"+h}return"#"+f(q)+f(n)+f(m)}function w(){return{r:q,g:n,b:m}}function j(){return k(q,n,m)}function r(h){var f;return"object"==typeof h?"r" in h?(q=h.r,n=h.g,m=h.b):"v" in h&&g(h.h,h.s,h.v):(f=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(h))?(q=parseInt(f[1],10),n=parseInt(f[2],10),m=parseInt(f[3],10)):(f=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(h))?(q=parseInt(f[1],16),n=parseInt(f[2],16),m=parseInt(f[3],16)):(f=/#([0-F])([0-F])([0-F])/gi.exec(h))&&(q=parseInt(f[1]+f[1],16),n=parseInt(f[2]+f[2],16),m=parseInt(f[3]+f[3],16)),q=0>q?0:q>255?255:q,n=0>n?0:n>255?255:n,m=0>m?0:m>255?255:m,v}var v=this,q=0,n=0,m=0;p&&r(p),v.toRgb=w,v.toHsv=j,v.toHex=t,v.parse=r}var a=Math.min,d=Math.max,b=Math.round;return c}),bx(cP,[aB,am,bl,aF],function(c,a,d,b){return c.extend({Defaults:{classes:"widget colorpicker"},init:function(f){this._super(f)},postRender:function(){function p(s,h){var l=d.getPos(s),f,u;return f=h.pageX-l.x,u=h.pageY-l.y,f=Math.max(0,Math.min(f/s.clientWidth,1)),u=Math.max(0,Math.min(u/s.clientHeight,1)),{x:f,y:u}}function k(l,h){var f=(360-l.h)/360;d.css(q,{top:100*f+"%"}),h||d.css(m,{left:l.s+"%",top:100-l.v+"%"}),n.style.background=new b({s:100,v:100,h:l.h}).toHex(),w.color().parse({s:l.s,v:l.v,h:l.h})}function g(e){var f;f=p(n,e),r.s=100*f.x,r.v=100*(1-f.y),k(r),w.fire("change")}function t(e){var f;f=p(v,e),r=j.toHsv(),r.h=360*(1-f.y),k(r,!0),w.fire("change")}var w=this,j=w.color(),r,v,q,n,m;v=w.getEl("h"),q=w.getEl("hp"),n=w.getEl("sv"),m=w.getEl("svp"),w._repaint=function(){r=j.toHsv(),k(r)},w._super(),w._svdraghelper=new a(w._id+"-sv",{start:g,drag:g}),w._hdraghelper=new a(w._id+"-h",{start:t,drag:t}),w._repaint()},rgb:function(){return this.color().toRgb()},value:function(g){var f=this;return arguments.length?(f.color().parse(g),void (f._rendered&&f._repaint())):f.color().toHex()},color:function(){return this._color||(this._color=new b),this._color},renderHtml:function(){function k(){var r,q,s="",p,o;for(p="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",o=l.split(","),r=0,q=o.length-1;q>r;r++){s+='<div class="'+j+'colorpicker-h-chunk" style="height:'+100/q+"%;"+p+o[r]+",endColorstr="+o[r+1]+");-ms-"+p+o[r]+",endColorstr="+o[r+1]+')"></div>'}return s}var h=this,m=h._id,j=h.classPrefix,g,l="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",f="background: -ms-linear-gradient(top,"+l+");background: linear-gradient(to bottom,"+l+");";return g='<div id="'+m+'-h" class="'+j+'colorpicker-h" style="'+f+'">'+k()+'<div id="'+m+'-hp" class="'+j+'colorpicker-h-marker"></div></div>','<div id="'+m+'" class="'+h.classes+'"><div id="'+m+'-sv" class="'+j+'colorpicker-sv"><div class="'+j+'colorpicker-overlay1"><div class="'+j+'colorpicker-overlay2"><div id="'+m+'-svp" class="'+j+'colorpicker-selector1"><div class="'+j+'colorpicker-selector2"></div></div></div></div></div>'+g+"</div>"}})}),bx(ai,[aB],function(a){return a.extend({init:function(c){var b=this;c.delimiter||(c.delimiter="\xbb"),b._super(c),b.classes.add("path"),b.canFocus=!0,b.on("click",function(f){var g,d=f.target;(g=d.getAttribute("data-index"))&&b.fire("select",{value:b.row()[g],index:g})}),b.row(b.settings.row)},focus:function(){var b=this;return b.getEl().firstChild.focus(),b},row:function(b){return arguments.length?(this.state.set("row",b),this):this.state.get("row")},renderHtml:function(){var b=this;return'<div id="'+b._id+'" class="'+b.classes+'">'+b._getDataPathHtml(b.state.get("row"))+"</div>"},bindStates:function(){var b=this;return b.state.on("change:row",function(c){b.innerHtml(b._getDataPathHtml(c.value))}),b._super()},_getDataPathHtml:function(g){var d=this,j=g||[],f,c,h="",b=d.classPrefix;for(f=0,c=j.length;c>f;f++){h+=(f>0?'<div class="'+b+'divider" aria-hidden="true"> '+d.settings.delimiter+" </div>":"")+'<div role="button" class="'+b+"path-item"+(f==c-1?" "+b+"last":"")+'" data-index="'+f+'" tabindex="-1" id="'+d._id+"-"+f+'" aria-level="'+f+'">'+j[f].name+"</div>"}return h||(h='<div class="'+b+'path-item">\xa0</div>'),h}})}),bx(aP,[ai],function(a){return a.extend({postRender:function(){function c(f){if(1===f.nodeType){if("BR"==f.nodeName||f.getAttribute("data-mce-bogus")){return !0}if("bookmark"===f.getAttribute("data-mce-type")){return !0}}return !1}var b=this,d=b.settings.editor;return d.settings.elementpath!==!1&&(b.on("select",function(f){d.focus(),d.selection.select(this.row()[f.index].element),d.nodeChanged()}),d.on("nodeChange",function(h){for(var f=[],j=h.parents,e=j.length;e--;){if(1==j[e].nodeType&&!c(j[e])){var g=d.fire("ResolveName",{name:j[e].nodeName.toLowerCase(),target:j[e]});if(g.isDefaultPrevented()||f.push({name:g.name,element:j[e]}),g.isPropagationStopped()){break}}}b.row(f)})),b._super()}})}),bx(an,[ac],function(a){return a.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.classes.add("formitem"),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<div id="'+c._id+'-title" class="'+d+'title">'+c.settings.title+"</div>":"")+'<div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),bx(aa,[ac,an,bE],function(b,a,c){return b.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var f=this,d=f.items();f.settings.formItemDefaults||(f.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),d.each(function(g){var e,h=g.settings.label;h&&(e=new a(c.extend({items:{type:"label",id:g._id+"-l",text:h,flex:0,forId:g._id,disabled:g.disabled()}},f.settings.formItemDefaults)),e.type="formitem",g.aria("labelledby",g._id+"-l"),"undefined"==typeof g.settings.flex&&(g.settings.flex=1),f.replace(g,e),e.add(g))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var d=this;d._super(),d.fromJSON(d.settings.data)},bindStates:function(){function f(){var j=0,l=[],h,g,k;if(d.settings.labelGapCalc!==!1){for(k="children"==d.settings.labelGapCalc?d.find("formitem"):d.items(),k.filter("formitem").each(function(m){var n=m.items()[0],e=n.getEl().clientWidth;j=e>j?e:j,l.push(n)}),g=d.settings.labelGap||0,h=l.length;h--;){l[h].settings.minWidth=j+g}}}var d=this;d._super(),d.on("show",f),f()}})}),bx(cO,[aa],function(a){return a.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.preRender(),b.preRender(c),'<fieldset id="'+c._id+'" class="'+c.classes+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<legend id="'+c._id+'-title" class="'+d+'fieldset-title">'+c.settings.title+"</legend>":"")+'<div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></fieldset>"}})}),bx(af,[aO,bE],function(b,a){return b.extend({init:function(h){var k=this,g=tinymce.activeEditor,d=g.settings,j,c,f;h.spellcheck=!1,f=d.file_picker_types||d.file_browser_callback_types,f&&(f=a.makeMap(f,/[, ]/)),f&&!f[h.filetype]||(c=d.file_picker_callback,!c||f&&!f[h.filetype]?(c=d.file_browser_callback,!c||f&&!f[h.filetype]||(j=function(){c(k.getEl("inp").id,k.value(),h.filetype,window)})):j=function(){var e=k.fire("beforecall").meta;e=a.extend({filetype:h.filetype},e),c.call(g,function(l,i){k.value(l).fire("change",{meta:i})},k.value(),e)}),j&&(h.icon="browse",h.onaction=j),k._super(h)}})}),bx(cF,[aW],function(a){return a.extend({recalc:function(c){var b=c.layoutRect(),d=c.paddingBox;c.items().filter(":visible").each(function(f){f.layoutRect({x:d.left,y:d.top,w:b.innerW-d.right-d.left,h:b.innerH-d.top-d.bottom}),f.recalc&&f.recalc()})}})}),bx(ah,[aW],function(a){return a.extend({recalc:function(dd){var c0,c5,c2,c9,c4,dh,c1,c7,df,cZ,de,dc,da,c3,c6,db,cY=[],cV,dg,ct,cW,cX,X,bt,di,J,c8,G,K,cT,cS,ce,Z,Y,Q,at,V,ae,be,cU=Math.max,q=Math.min;for(c2=dd.items().filter(":visible"),c9=dd.layoutRect(),c4=dd.paddingBox,dh=dd.settings,dc=dd.isRtl()?dh.direction||"row-reversed":dh.direction,c1=dh.align,c7=dd.isRtl()?dh.pack||"end":dh.pack,df=dh.spacing||0,"row-reversed"!=dc&&"column-reverse"!=dc||(c2=c2.set(c2.toArray().reverse()),dc=dc.split("-")[0]),"column"==dc?(J="y",bt="h",di="minH",c8="maxH",K="innerH",G="top",cT="deltaH",cS="contentH",at="left",Y="w",ce="x",Z="innerW",Q="minW",V="right",ae="deltaW",be="contentW"):(J="x",bt="w",di="minW",c8="maxW",K="innerW",G="left",cT="deltaW",cS="contentW",at="top",Y="h",ce="y",Z="innerH",Q="minH",V="bottom",ae="deltaH",be="contentH"),de=c9[K]-c4[G]-c4[G],X=cZ=0,c0=0,c5=c2.length;c5>c0;c0++){da=c2[c0],c3=da.layoutRect(),c6=da.settings,db=c6.flex,de-=c5-1>c0?df:0,db>0&&(cZ+=db,c3[c8]&&cY.push(da),c3.flex=db),de-=c3[di],cV=c4[at]+c3[Q]+c4[V],cV>X&&(X=cV)}if(cW={},0>de?cW[di]=c9[di]-de+c9[cT]:cW[di]=c9[K]-de+c9[cT],cW[Q]=X+c9[ae],cW[cS]=c9[K]-de,cW[be]=X,cW.minW=q(cW.minW,c9.maxW),cW.minH=q(cW.minH,c9.maxH),cW.minW=cU(cW.minW,c9.startMinWidth),cW.minH=cU(cW.minH,c9.startMinHeight),!c9.autoResize||cW.minW==c9.minW&&cW.minH==c9.minH){for(ct=de/cZ,c0=0,c5=cY.length;c5>c0;c0++){da=cY[c0],c3=da.layoutRect(),dg=c3[c8],cV=c3[di]+c3.flex*ct,cV>dg?(de-=c3[c8]-c3[di],cZ-=c3.flex,c3.flex=0,c3.maxFlexSize=dg):c3.maxFlexSize=0}for(ct=de/cZ,cX=c4[G],cW={},0===cZ&&("end"==c7?cX=de+c4[G]:"center"==c7?(cX=Math.round(c9[K]/2-(c9[K]-de)/2)+c4[G],0>cX&&(cX=c4[G])):"justify"==c7&&(cX=c4[G],df=Math.floor(de/(c2.length-1)))),cW[ce]=c4[at],c0=0,c5=c2.length;c5>c0;c0++){da=c2[c0],c3=da.layoutRect(),cV=c3.maxFlexSize||c3[di],"center"===c1?cW[ce]=Math.round(c9[Z]/2-c3[Y]/2):"stretch"===c1?(cW[Y]=cU(c3[Q]||0,c9[Z]-c4[at]-c4[V]),cW[ce]=c4[at]):"end"===c1&&(cW[ce]=c9[Z]-c3[Y]-c4.top),c3.flex>0&&(cV+=c3.flex*ct),cW[bt]=cV,cW[J]=cX,da.layoutRect(cW),da.recalc&&da.recalc(),cX+=cV+df}}else{if(cW.w=cW.minW,cW.h=cW.minH,dd.layoutRect(cW),this.recalc(dd),null===dd._lastRect){var j=dd.parent();j&&(j._lastRect=null,j.recalc())}}}})}),bx(aV,[bd],function(a){return a.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(b){b.items().filter(":visible").each(function(c){c.recalc&&c.recalc()})},isNative:function(){return !0}})}),bx(aN,[cL,aB,ak,bE,aZ,bP],function(h,d,k,g,c,j){function b(s){function y(a,e){return function(){var i=this;s.on("nodeChange",function(r){var t=s.formatter,l=null;f(r.parents,function(o){return f(a,function(u){return e?t.matchNode(o,e,{value:u.value})&&(l=u.value):t.matchNode(o,u.value)&&(l=u.value),l?!1:void 0}),l?!1:void 0}),i.value(l)})}}function m(i){i=i.replace(/;$/,"").split(";");for(var a=i.length;a--;){i[a]=i[a].split("=")}return i}function q(){function e(i){var o=[];if(i){return f(i,function(t){var A={text:t.title,icon:t.icon};if(t.items){A.menu=e(t.items)}else{var r=t.format||"custom"+l++;t.format||(t.name=r,a.push(t)),A.format=r,A.cmd=t.cmd}o.push(A)}),o}}function z(){var i;return i=e(s.settings.style_formats_merge?s.settings.style_formats?u.concat(s.settings.style_formats):u:s.settings.style_formats||u)}var l=0,a=[],u=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return s.on("init",function(){f(a,function(i){s.formatter.register(i.name,i)})}),{type:"menu",items:z(),onPostRender:function(i){s.fire("renderFormatsMenu",{control:i.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?s.formatter.getCssText(this.settings.format):void 0},onPostRender:function(){var i=this;i.parent().on("show",function(){var t,o;t=i.settings.format,t&&(i.disabled(!s.formatter.canApply(t)),i.active(s.formatter.match(t))),o=i.settings.cmd,o&&i.active(s.queryCommandState(o))})},onclick:function(){this.settings.format&&v(this.settings.format),this.settings.cmd&&s.execCommand(this.settings.cmd)}}}}function n(a){return function(){var e=this;s.formatter?s.formatter.formatChanged(a,function(i){e.active(i)}):s.on("init",function(){s.formatter.formatChanged(a,function(i){e.active(i)})})}}function w(a){return function(){function i(){return s.undoManager?s.undoManager[a]():!1}var e=this;a="redo"==a?"hasRedo":"hasUndo",e.disabled(!i()),s.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){e.disabled(s.readonly||!i())})}}function p(){var a=this;s.on("VisualAid",function(i){a.active(i.hasVisual)}),a.active(s.hasVisual)}function v(a){a.control&&(a=a.control.value()),a&&s.execCommand("mceToggleFormat",!1,a)}var x;x=q(),f({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(a,e){s.addButton(e,{tooltip:a,onPostRender:n(e),onclick:function(){v(e)}})}),f({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(a,e){s.addButton(e,{tooltip:a[0],cmd:a[1]})}),f({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(a,e){s.addButton(e,{tooltip:a[0],cmd:a[1],onPostRender:n(e)})}),s.addButton("undo",{tooltip:"Undo",onPostRender:w("undo"),cmd:"undo"}),s.addButton("redo",{tooltip:"Redo",onPostRender:w("redo"),cmd:"redo"}),s.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),s.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:w("undo"),cmd:"undo"}),s.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:w("redo"),cmd:"redo"}),s.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:p,cmd:"mceToggleVisualAid"}),s.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),f({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(a,e){s.addMenuItem(e,{text:a[0],icon:e,shortcut:a[2],cmd:a[1]})}),s.on("mousedown",function(){k.hideAll()}),s.addButton("styleselect",{type:"menubutton",text:"Formats",menu:x}),s.addButton("formatselect",function(){var e=[],a=m(s.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return f(a,function(i){e.push({text:i[0],value:i[1],textStyle:function(){return s.formatter.getCssText(i[1])}})}),{type:"listbox",text:a[0][0],values:e,fixedWidth:!0,onselect:v,onPostRender:y(e)}}),s.addButton("fontselect",function(){var l="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",a=[],e=m(s.settings.font_formats||l);return f(e,function(i){a.push({text:{raw:i[0]},value:i[1],textStyle:-1==i[1].indexOf("dings")?"font-family:"+i[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:a,fixedWidth:!0,onPostRender:y(a,"fontname"),onselect:function(i){i.control.settings.value&&s.execCommand("FontName",!1,i.control.settings.value)}}}),s.addButton("fontsizeselect",function(){var l=[],e="8pt 10pt 12pt 14pt 18pt 24pt 36pt",a=s.settings.fontsize_formats||e;return f(a.split(" "),function(A){var u=A,z=A,o=A.split("=");o.length>1&&(u=o[0],z=o[1]),l.push({text:u,value:z})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:l,fixedWidth:!0,onPostRender:y(l,"fontsize"),onclick:function(i){i.control.settings.value&&s.execCommand("FontSize",!1,i.control.settings.value)}}}),s.addMenuItem("formats",{text:"Formats",menu:x})}var f=g.each;c.on("AddEditor",function(a){a.editor.rtl&&(h.rtl=!0),b(a.editor)}),h.translate=function(a){return c.translate(a)},d.tooltips=!j.iOS}),bx(ax,[aW],function(a){return a.extend({recalc:function(c1){var be,cT,ce,cX,cS,c5,bt,cV,c3,at,c2,c0,cY,ct,cU,cZ,ae,X,c4,U,Y,Z,G,O=[],c6=[],q,cW,j,z,W,V;be=c1.settings,cX=c1.items().filter(":visible"),cS=c1.layoutRect(),ce=be.columns||Math.ceil(Math.sqrt(cX.length)),cT=Math.ceil(cX.length/ce),X=be.spacingH||be.spacing||0,c4=be.spacingV||be.spacing||0,U=be.alignH||be.align,Y=be.alignV||be.align,cZ=c1.paddingBox,W="reverseRows" in be?be.reverseRows:c1.isRtl(),U&&"string"==typeof U&&(U=[U]),Y&&"string"==typeof Y&&(Y=[Y]);for(c2=0;ce>c2;c2++){O.push(0)}for(c0=0;cT>c0;c0++){c6.push(0)}for(c0=0;cT>c0;c0++){for(c2=0;ce>c2&&(at=cX[c0*ce+c2],at);c2++){c3=at.layoutRect(),q=c3.minW,cW=c3.minH,O[c2]=q>O[c2]?q:O[c2],c6[c0]=cW>c6[c0]?cW:c6[c0]}}for(j=cS.innerW-cZ.left-cZ.right,Z=0,c2=0;ce>c2;c2++){Z+=O[c2]+(c2>0?X:0),j-=(c2>0?X:0)+O[c2]}for(z=cS.innerH-cZ.top-cZ.bottom,G=0,c0=0;cT>c0;c0++){G+=c6[c0]+(c0>0?c4:0),z-=(c0>0?c4:0)+c6[c0]}if(Z+=cZ.left+cZ.right,G+=cZ.top+cZ.bottom,cV={},cV.minW=Z+(cS.w-cS.innerW),cV.minH=G+(cS.h-cS.innerH),cV.contentW=cV.minW-cS.deltaW,cV.contentH=cV.minH-cS.deltaH,cV.minW=Math.min(cV.minW,cS.maxW),cV.minH=Math.min(cV.minH,cS.maxH),cV.minW=Math.max(cV.minW,cS.startMinWidth),cV.minH=Math.max(cV.minH,cS.startMinHeight),!cS.autoResize||cV.minW==cS.minW&&cV.minH==cS.minH){cS.autoResize&&(cV=c1.layoutRect(cV),cV.contentW=cV.minW-cS.deltaW,cV.contentH=cV.minH-cS.deltaH);var Q;Q="start"==be.packV?0:z>0?Math.floor(z/cT):0;var J=0,I=be.flexWidths;if(I){for(c2=0;c2<I.length;c2++){J+=I[c2]}}else{J=ce}var F=j/J;for(c2=0;ce>c2;c2++){O[c2]+=I?I[c2]*F:F}for(ct=cZ.top,c0=0;cT>c0;c0++){for(cY=cZ.left,bt=c6[c0]+Q,c2=0;ce>c2&&(V=W?c0*ce+ce-1-c2:c0*ce+c2,at=cX[V],at);c2++){cU=at.settings,c3=at.layoutRect(),c5=Math.max(O[c2],c3.startMinWidth),c3.x=cY,c3.y=ct,ae=cU.alignH||(U?U[c2]||U[0]:null),"center"==ae?c3.x=cY+c5/2-c3.w/2:"right"==ae?c3.x=cY+c5-c3.w:"stretch"==ae&&(c3.w=c5),ae=cU.alignV||(Y?Y[c2]||Y[0]:null),"center"==ae?c3.y=ct+bt/2-c3.h/2:"bottom"==ae?c3.y=ct+bt-c3.h:"stretch"==ae&&(c3.h=bt),at.layoutRect(c3),cY+=c5+X,at.recalc&&at.recalc()}ct+=bt+c4}}else{if(cV.w=cV.minW,cV.h=cV.minH,c1.layoutRect(cV),this.recalc(c1),null===c1._lastRect){var K=c1.parent();K&&(K._lastRect=null,K.recalc())}}}})}),bx(a7,[aB,bs],function(b,a){return b.extend({renderHtml:function(){var c=this;return c.classes.add("iframe"),c.canFocus=!1,'<iframe id="'+c._id+'" class="'+c.classes+'" tabindex="-1" src="'+(c.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(c){this.getEl().src=c},html:function(f,g){var d=this,c=this.getEl().contentWindow.document.body;return c?(c.innerHTML=f,g&&g()):a.setTimeout(function(){d.html(f)}),this}})}),bx(aY,[aB],function(a){return a.extend({init:function(c){var b=this;b._super(c),b.classes.add("widget").add("infobox"),b.canFocus=!1},severity:function(b){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(b)},help:function(b){this.state.set("help",b)},renderHtml:function(){var c=this,b=c.classPrefix;return'<div id="'+c._id+'" class="'+c.classes+'"><div id="'+c._id+'-body">'+c.encode(c.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+b+"ico "+b+'i-help"></i></button></div></div>'},bindStates:function(){var b=this;return b.state.on("change:text",function(c){b.getEl("body").firstChild.data=b.encode(c.value),b.state.get("rendered")&&b.updateLayoutRect()}),b.state.on("change:help",function(c){b.classes.toggle("has-help",c.value),b.state.get("rendered")&&b.updateLayoutRect()}),b._super()}})}),bx(az,[aB,bl],function(b,a){return b.extend({init:function(d){var c=this;c._super(d),c.classes.add("widget").add("label"),c.canFocus=!1,d.multiline&&c.classes.add("autoscroll"),d.strong&&c.classes.add("strong")},initLayoutRect:function(){var d=this,f=d._super();if(d.settings.multiline){var c=a.getSize(d.getEl());c.width>f.maxW&&(f.minW=f.maxW,d.classes.add("multiline")),d.getEl().style.width=f.minW+"px",f.startMinH=f.h=f.minH=Math.min(f.maxH,a.getSize(d.getEl()).height)}return f},repaint:function(){var c=this;return c.settings.multiline||(c.getEl().style.lineHeight=c.layoutRect().h+"px"),c._super()},severity:function(c){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(c)},renderHtml:function(){var f=this,c,g,d=f.settings.forId;return !d&&(g=f.settings.forName)&&(c=f.getRoot().find("#"+g)[0],c&&(d=c._id)),d?'<label id="'+f._id+'" class="'+f.classes+'"'+(d?' for="'+d+'"':"")+">"+f.encode(f.state.get("text"))+"</label>":'<span id="'+f._id+'" class="'+f.classes+'">'+f.encode(f.state.get("text"))+"</span>"},bindStates:function(){var c=this;return c.state.on("change:text",function(d){c.innerHtml(c.encode(d.value)),c.state.get("rendered")&&c.updateLayoutRect()}),c._super()}})}),bx(cC,[ac],function(a){return a.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(c){var b=this;b._super(c),b.classes.add("toolbar")},postRender:function(){var b=this;return b.items().each(function(c){c.classes.add("toolbar-item")}),b._super()}})}),bx(aH,[cC],function(a){return a.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),bx(b8,[aG,ci,aH],function(d,b,f){function c(h,g){for(;h;){if(g===h){return !0}h=h.parentNode}return !1}var a=d.extend({init:function(h){var g=this;g._renderOpen=!0,g._super(h),h=g.settings,g.classes.add("menubtn"),h.fixedWidth&&g.classes.add("fixed-width"),g.aria("haspopup",!0),g.state.set("menu",h.menu||g.render())},showMenu:function(){var g=this,h;return g.menu&&g.menu.visible()?g.hideMenu():(g.menu||(h=g.state.get("menu")||[],h.length?h={type:"menu",items:h}:h.type=h.type||"menu",h.renderTo?g.menu=h.parent(g).show().renderTo():g.menu=b.create(h).parent(g).renderTo(),g.fire("createmenu"),g.menu.reflow(),g.menu.on("cancel",function(e){e.control.parent()===g.menu&&(e.stopPropagation(),g.focus(),g.hideMenu())}),g.menu.on("select",function(){g.focus()}),g.menu.on("show hide",function(e){e.control==g.menu&&g.activeMenu("show"==e.type),g.aria("expanded","show"==e.type)}).fire("show")),g.menu.show(),g.menu.layoutRect({w:g.layoutRect().w}),void g.menu.moveRel(g.getEl(),g.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){var g=this;g.menu&&(g.menu.items().each(function(h){h.hideMenu&&h.hideMenu()}),g.menu.hide())},activeMenu:function(g){this.classes.toggle("active",g)},renderHtml:function(){var m=this,j=m._id,l=m.classPrefix,h=m.settings.icon,n,g=m.state.get("text"),k="";return n=m.settings.image,n?(h="none","string"!=typeof n&&(n=window.getSelection?n[0]:n[1]),n=" style=\"background-image: url('"+n+"')\""):n="",g&&(m.classes.add("btn-has-text"),k='<span class="'+l+'txt">'+m.encode(g)+"</span>"),h=m.settings.icon?l+"ico "+l+"i-"+h:"",m.aria("role",m.parent() instanceof f?"menuitem":"button"),'<div id="'+j+'" class="'+m.classes+'" tabindex="-1" aria-labelledby="'+j+'"><button id="'+j+'-open" role="presentation" type="button" tabindex="-1">'+(h?'<i class="'+h+'"'+n+"></i>":"")+k+' <i class="'+l+'caret"></i></button></div>'},postRender:function(){var g=this;return g.on("click",function(e){e.control===g&&c(e.target,g.getEl())&&(g.showMenu(),e.aria&&g.menu.items()[0].focus())}),g.on("mouseenter",function(e){var j=e.control,h=g.parent(),i;j&&h&&j instanceof a&&j.parent()==h&&(h.items().filter("MenuButton").each(function(k){k.hideMenu&&k!=j&&(k.menu&&k.menu.visible()&&(i=!0),k.hideMenu())}),i&&(j.focus(),j.showMenu()))}),g._super()},bindStates:function(){var g=this;return g.state.on("change:menu",function(){g.menu&&g.menu.remove(),g.menu=null}),g._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return a}),bx(ad,[aB,ci,bP,bs],function(c,a,d,b){return c.extend({Defaults:{border:0,role:"menuitem"},init:function(g){var f=this,h;f._super(g),g=f.settings,f.classes.add("menu-item"),g.menu&&f.classes.add("menu-item-expand"),g.preview&&f.classes.add("menu-item-preview"),h=f.state.get("text"),"-"!==h&&"|"!==h||(f.classes.add("menu-item-sep"),f.aria("role","separator"),f.state.set("text","-")),g.selectable&&(f.aria("role","menuitemcheckbox"),f.classes.add("menu-item-checkbox"),g.icon="selected"),g.preview||g.selectable||f.classes.add("menu-item-normal"),f.on("mousedown",function(i){i.preventDefault()}),g.menu&&!g.ariaHideMenu&&f.aria("haspopup",!0)},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var h=this,k=h.settings,g,f=h.parent();if(f.items().each(function(e){e!==h&&e.hideMenu()}),k.menu){g=h.menu,g?g.show():(g=k.menu,g.length?g={type:"menu",items:g}:g.type=g.type||"menu",f.settings.itemDefaults&&(g.itemDefaults=f.settings.itemDefaults),g=h.menu=a.create(g).parent(h).renderTo(),g.reflow(),g.on("cancel",function(e){e.stopPropagation(),h.focus(),g.hide()}),g.on("show hide",function(i){i.control.items().each(function(l){l.active(l.settings.selected)})}).fire("show"),g.on("hide",function(e){e.control===g&&h.classes.remove("selected")}),g.submenu=!0),g._parentMenu=f,g.classes.add("menu-sub");var j=g.testMoveRel(h.getEl(),h.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);g.moveRel(h.getEl(),j),g.rel=j,j="menu-sub-"+j,g.classes.remove(g._lastRel).add(j),g._lastRel=j,h.classes.add("selected"),h.aria("expanded",!0)}},hideMenu:function(){var f=this;return f.menu&&(f.menu.items().each(function(g){g.hideMenu&&g.hideMenu()}),f.menu.hide(),f.aria("expanded",!1)),f},renderHtml:function(){function k(u){var o,s,l={};for(l=d.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},u=u.split("+"),o=0;o<u.length;o++){s=l[u[o].toLowerCase()],s&&(u[o]=s)}return u.join("+")}var p=this,f=p._id,j=p.settings,g=p.classPrefix,n=p.encode(p.state.get("text")),q=p.settings.icon,h="",m=j.shortcut;return q&&p.parent().classes.add("menu-has-icons"),j.image&&(h=" style=\"background-image: url('"+j.image+"')\""),m&&(m=k(m)),q=g+"ico "+g+"i-"+(p.settings.icon||"none"),'<div id="'+f+'" class="'+p.classes+'" tabindex="-1">'+("-"!==n?'<i class="'+q+'"'+h+"></i>\xa0":"")+("-"!==n?'<span id="'+f+'-text" class="'+g+'text">'+n+"</span>":"")+(m?'<div id="'+f+'-shortcut" class="'+g+'menu-shortcut">'+m+"</div>":"")+(j.menu?'<div class="'+g+'caret"></div>':"")+"</div>"},postRender:function(){var h=this,g=h.settings,j=g.textStyle;if("function"==typeof j&&(j=j.call(this)),j){var f=h.getEl("text");f&&f.setAttribute("style",j)}return h.on("mouseenter click",function(e){e.control===h&&(g.menu||"click"!==e.type?(h.showMenu(),e.aria&&h.menu.focus(!0)):(h.fire("select"),b.requestAnimationFrame(function(){h.parent().hideAll()})))}),h._super(),h},hover:function(){var f=this;return f.parent().items().each(function(g){g.classes.remove("selected")}),f.classes.toggle("selected",!0),f},active:function(f){return"undefined"!=typeof f&&this.aria("checked",f),this._super(f)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),bx(cq,[bL,cL,bs],function(b,a,c){return function(h,f){var j=this,e,g=a.classPrefix,d;j.show=function(k,l){function i(){e&&(b(h).append('<div class="'+g+"throbber"+(f?" "+g+"throbber-inline":"")+'"></div>'),l&&l())}return j.hide(),e=!0,k?d=c.setTimeout(i,k):i(),j},j.hide=function(){var i=h.lastChild;return c.clearTimeout(d),i&&-1!=i.className.indexOf("throbber")&&i.parentNode.removeChild(i),e=!1,j}}}),bx(cn,[ak,ad,cq,bE],function(c,a,d,b){return c.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(h){var g=this;if(h.autohide=!0,h.constrainToViewport=!0,"function"==typeof h.items&&(h.itemsFactory=h.items,h.items=[]),h.itemDefaults){for(var j=h.items,f=j.length;f--;){j[f]=b.extend({},h.itemDefaults,j[f])}}g._super(h),g.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var f=this;f.hideAll(),f.fire("select")},load:function(){function j(){g.throbber&&(g.throbber.hide(),g.throbber=null)}var g=this,h,f;f=g.settings.itemsFactory,f&&(g.throbber||(g.throbber=new d(g.getEl("body"),!0),0===g.items().length?(g.throbber.show(),g.fire("loading")):g.throbber.show(100,function(){g.items().remove(),g.fire("loading")}),g.on("hide close",j)),g.requestTime=h=(new Date).getTime(),g.settings.itemsFactory(function(e){return 0===e.length?void g.hide():void (g.requestTime===h&&(g.getEl().style.width="",g.getEl("body").style.width="",j(),g.items().remove(),g.getEl("body").innerHTML="",g.add(e),g.renderNew(),g.fire("loaded")))}))},hideAll:function(){var f=this;return this.find("menuitem").exec("hideMenu"),f._super()},preRender:function(){var f=this;return f.items().each(function(e){var g=e.settings;return g.icon||g.image||g.selectable?(f._hasIcons=!0,!1):void 0}),f.settings.itemsFactory&&f.on("postrender",function(){f.settings.itemsFactory&&f.load()}),f._super()}})}),bx(bj,[b8,cn],function(b,a){return b.extend({init:function(h){function f(i){for(var e=0;e<i.length;e++){if(d=i[e].selected||h.value===i[e].value){return j=j||i[e].text,k.state.set("value",i[e].value),!0}if(i[e].menu&&f(i[e].menu)){return !0}}}var k=this,g,d,j,c;k._super(h),h=k.settings,k._values=g=h.values,g&&("undefined"!=typeof h.value&&f(g),!d&&g.length>0&&(j=g[0].text,k.state.set("value",g[0].value)),k.state.set("menu",g)),k.state.set("text",h.text||j),k.classes.add("listbox"),k.on("select",function(e){var i=e.control;c&&(e.lastControl=c),h.multiple?i.active(!i.active()):k.value(e.control.value()),c=i})},bindStates:function(){function d(g,h){g instanceof a&&g.items().each(function(i){i.hasMenus()||i.active(i.value()===h)})}function f(k,h){var j;if(k){for(var g=0;g<k.length;g++){if(k[g].value===h){return k[g]}if(k[g].menu&&(j=f(k[g].menu,h))){return j}}}}var c=this;return c.on("show",function(e){d(e.control,c.value())}),c.state.on("change:value",function(h){var g=f(c.state.get("menu"),h.value);g?c.text(g.text):c.text(c.settings.text)}),c._super()}})}),bx(bN,[cD],function(a){return a.extend({Defaults:{classes:"radio",role:"radio"}})}),bx(b5,[aB,am],function(b,a){return b.extend({renderHtml:function(){var d=this,c=d.classPrefix;return d.classes.add("resizehandle"),"both"==d.settings.direction&&d.classes.add("resizehandle-both"),d.canFocus=!1,'<div id="'+d._id+'" class="'+d.classes+'"><i class="'+c+"ico "+c+'i-resize"></i></div>'},postRender:function(){var c=this;c._super(),c.resizeDragHelper=new a(this._id,{start:function(){c.fire("ResizeStart")},drag:function(d){"both"!=c.settings.direction&&(d.deltaX=0),c.fire("Resize",d)},stop:function(){c.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),bx(a8,[aB],function(b){function a(d){var c="";if(d){for(var f=0;f<d.length;f++){c+='<option value="'+d[f]+'">'+d[f]+"</option>"}}return c}return b.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(d){var c=this;c._super(d),c.settings.size&&(c.size=c.settings.size),c.settings.options&&(c._options=c.settings.options),c.on("keydown",function(f){var g;13==f.keyCode&&(f.preventDefault(),c.parents().reverse().each(function(h){return h.toJSON?(g=h,!1):void 0}),c.fire("submit",{data:g.toJSON()}))})},options:function(c){return arguments.length?(this.state.set("options",c),this):this.state.get("options")},renderHtml:function(){var d=this,f,c="";return f=a(d._options),d.size&&(c=' size = "'+d.size+'"'),'<select id="'+d._id+'" class="'+d.classes+'"'+c+">"+f+"</select>"},bindStates:function(){var c=this;return c.state.on("change:options",function(d){c.getEl().innerHTML=a(d.value)}),c._super()}})}),bx(ao,[aB,am,bl],function(d,b,g){function c(i,h,j){return h>i&&(i=h),i>j&&(i=j),i}function a(i,h,j){i.setAttribute("aria-"+h,j)}function f(n,j){var m,p,i,k,h,q;"v"==n.settings.orientation?(k="top",i="height",p="h"):(k="left",i="width",p="w"),q=n.getEl("handle"),m=(n.layoutRect()[p]||100)-g.getSize(q)[i],h=m*((j-n._minValue)/(n._maxValue-n._minValue))+"px",q.style[k]=h,q.style.height=n.layoutRect().h+"px",a(q,"valuenow",j),a(q,"valuetext",""+n.settings.previewFilter(j)),a(q,"valuemin",n._minValue),a(q,"valuemax",n._maxValue)}return d.extend({init:function(i){var h=this;i.previewFilter||(i.previewFilter=function(j){return Math.round(100*j)/100}),h._super(i),h.classes.add("slider"),"v"==i.orientation&&h.classes.add("vertical"),h._minValue=i.minValue||0,h._maxValue=i.maxValue||100,h._initValue=h.state.get("value")},renderHtml:function(){var i=this,h=i._id,j=i.classPrefix;return'<div id="'+h+'" class="'+i.classes+'"><div id="'+h+'-handle" class="'+j+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function q(i,h,l){return(l+i)/(h-i)}function m(i,h,l){return l*(h-i)-i}function j(e,i){function h(s){var l;l=x.value(),l=m(e,i,q(e,i,l)+0.05*s),l=c(l,e,i),x.value(l),x.fire("dragstart",{value:l}),x.fire("drag",{value:l}),x.fire("dragend",{value:l})}x.on("keydown",function(l){switch(l.keyCode){case 37:case 38:h(-1);break;case 39:case 40:h(1)}})}function v(A,y,B){var u,s,C,z,h;x._dragHelper=new b(x._id,{handle:x._id+"-handle",start:function(i){u=i[w],s=parseInt(x.getEl("handle").style[r],10),C=(x.layoutRect()[n]||100)-g.getSize(B)[p],x.fire("dragstart",{value:h})},drag:function(e){var i=e[w]-u;z=c(s+i,0,C),B.style[r]=z+"px",h=A+z/C*(y-A),x.value(h),x.tooltip().text(""+x.settings.previewFilter(h)).show().moveRel(B,"bc tc"),x.fire("drag",{value:h})},stop:function(){x.tooltip().hide(),x.fire("dragend",{value:h})}})}var x=this,k,t,w,r,p,n;k=x._minValue,t=x._maxValue,"v"==x.settings.orientation?(w="screenY",r="top",p="height",n="h"):(w="screenX",r="left",p="width",n="w"),x._super(),j(k,t,x.getEl("handle")),v(k,t,x.getEl("handle"))},repaint:function(){this._super(),f(this,this.value())},bindStates:function(){var h=this;return h.state.on("change:value",function(e){f(h,e.value)}),h._super()}})}),bx(a2,[aB],function(a){return a.extend({renderHtml:function(){var b=this;return b.classes.add("spacer"),b.canFocus=!1,'<div id="'+b._id+'" class="'+b.classes+'"></div>'}})}),bx(ba,[b8,bl,bL],function(b,a,c){return b.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var h=this,g=h.getEl(),f=h.layoutRect(),j,d;return h._super(),j=g.firstChild,d=g.lastChild,c(j).css({width:f.w-a.getSize(d).width,height:f.h-2}),c(d).css({height:f.h-2}),h},activeMenu:function(f){var d=this;c(d.getEl().lastChild).toggleClass(d.classPrefix+"active",f)},renderHtml:function(){var j=this,g=j._id,l=j.classPrefix,h,f=j.state.get("icon"),k=j.state.get("text"),d="";return h=j.settings.image,h?(f="none","string"!=typeof h&&(h=window.getSelection?h[0]:h[1]),h=" style=\"background-image: url('"+h+"')\""):h="",f=j.settings.icon?l+"ico "+l+"i-"+f:"",k&&(j.classes.add("btn-has-text"),d='<span class="'+l+'txt">'+j.encode(k)+"</span>"),'<div id="'+g+'" class="'+j.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(f?'<i class="'+f+'"'+h+"></i>":"")+d+'</button><button type="button" class="'+l+'open" hidefocus="1" tabindex="-1">'+(j._menuBtnText?(f?"\xa0":"")+j._menuBtnText:"")+' <i class="'+l+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(g){var h=g.target;if(g.control==this){for(;h;){if(g.aria&&"down"!=g.aria.key||"BUTTON"==h.nodeName&&-1==h.className.indexOf("open")){return g.stopImmediatePropagation(),void (d&&d.call(this,g))}h=h.parentNode}}}),delete f.settings.onclick,f._super()}})}),bx(bg,[aV],function(a){return a.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return !0}})}),bx(cM,[ar,bL,bl],function(b,a,c){return b.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(d){var f;this.activeTabId&&(f=this.getEl(this.activeTabId),a(f).removeClass(this.classPrefix+"active"),f.setAttribute("aria-selected","false")),this.activeTabId="t"+d,f=this.getEl("t"+d),f.setAttribute("aria-selected","true"),a(f).addClass(this.classPrefix+"active"),this.items()[d].show().fire("showtab"),this.reflow(),this.items().each(function(e,g){d!=g&&e.hide()})},renderHtml:function(){var g=this,d=g._layout,h="",f=g.classPrefix;return g.preRender(),d.preRender(g),g.items().each(function(j,e){var k=g._id+"-t"+e;j.aria("role","tabpanel"),j.aria("labelledby",k),h+='<div id="'+k+'" class="'+f+'tab" unselectable="on" role="tab" aria-controls="'+j._id+'" aria-selected="false" tabIndex="-1">'+g.encode(j.settings.title)+"</div>"}),'<div id="'+g._id+'" class="'+g.classes+'" hidefocus="1" tabindex="-1"><div id="'+g._id+'-head" class="'+f+'tabs" role="tablist">'+h+'</div><div id="'+g._id+'-body" class="'+g.bodyClasses+'">'+d.renderHtml(g)+"</div></div>"},postRender:function(){var d=this;d._super(),d.settings.activeTab=d.settings.activeTab||0,d.activateTab(d.settings.activeTab),this.on("click",function(e){var g=e.target.parentNode;if(e.target.parentNode.id==d._id+"-head"){for(var f=g.childNodes.length;f--;){g.childNodes[f]==e.target&&d.activateTab(f)}}})},initLayoutRect:function(){var h=this,f,g,d;g=c.getSize(h.getEl("head")).width,g=0>g?0:g,d=0,h.items().each(function(i){g=Math.max(g,i.layoutRect().minW),d=Math.max(d,i.layoutRect().minH)}),h.items().each(function(i){i.settings.x=0,i.settings.y=0,i.settings.w=g,i.settings.h=d,i.layoutRect({x:0,y:0,w:g,h:d})});var j=c.getSize(h.getEl("head")).height;return h.settings.minWidth=g,h.settings.minHeight=d+j,f=h._super(),f.deltaH+=j,f.innerH=f.h-f.deltaH,f}})}),bx(bz,[aB,bE,bl],function(b,a,c){return b.extend({init:function(f){var d=this;d._super(f),d.classes.add("textbox"),f.multiline?d.classes.add("multiline"):(d.on("keydown",function(g){var h;13==g.keyCode&&(g.preventDefault(),d.parents().reverse().each(function(i){return i.toJSON?(h=i,!1):void 0}),d.fire("submit",{data:h.toJSON()}))}),d.on("keyup",function(g){d.state.set("value",g.target.value)}))},repaint:function(){var k=this,g,m,j,f,l=0,d;g=k.getEl().style,m=k._layoutRect,d=k._lastRepaintRect||{};var h=document;return !k.settings.multiline&&h.all&&(!h.documentMode||h.documentMode<=8)&&(g.lineHeight=m.h-l+"px"),j=k.borderBox,f=j.left+j.right+8,l=j.top+j.bottom+(k.settings.multiline?8:0),m.x!==d.x&&(g.left=m.x+"px",d.x=m.x),m.y!==d.y&&(g.top=m.y+"px",d.y=m.y),m.w!==d.w&&(g.width=m.w-f+"px",d.w=m.w),m.h!==d.h&&(g.height=m.h-l+"px",d.h=m.h),k._lastRepaintRect=d,k.fire("repaint",{},!1),k},renderHtml:function(){var g=this,f=g.settings,d,h;return d={id:g._id,hidefocus:"1"},a.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(i){d[i]=f[i]}),g.disabled()&&(d.disabled="disabled"),f.subtype&&(d.type=f.subtype),h=c.create(f.multiline?"textarea":"input",d),h.value=g.state.get("value"),h.className=g.classes,h.outerHTML},value:function(d){return arguments.length?(this.state.set("value",d),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var d=this;d.getEl().value=d.state.get("value"),d._super(),d.$el.on("change",function(e){d.state.set("value",e.target.value),d.fire("change",e)})},bindStates:function(){var d=this;return d.state.on("change:value",function(e){d.getEl().value!=e.value&&(d.getEl().value=e.value)}),d.state.on("change:disabled",function(e){d.getEl().disabled=e.value}),d._super()},remove:function(){this.$el.off(),this._super()}})}),bx(ap,[],function(){var b=this||window,a=function(){return b.tinymce};return"function"==typeof b.define&&(b.define.amd||b.define("ephox/tinymce",[],a)),{}}),bS([bF,bQ,bs,bP,bM,bK,bE,bL,br,bn,cu,bq,cd,cp,b4,cx,cv,cr,cg,cf,ca,cl,ck,co,bH,bY,cj,b9,bV,cE,aU,cR,aE,a1,aK,aw,cL,ci,aJ,ac,am,aT,ar,ag,ab,ak,cK,al,a0,aR,aB,bb,a3,aD,cw,cB,a5,aI,cc,aZ,bD,cz,aQ,cN,bo,aA,bd,aW,aG,bh,cD,aO,aq,cG,bX,aF,cP,ai,aP,an,aa,cO,af,cF,ah,aV,aN,ax,a7,aY,az,cC,aH,b8,ad,cq,cn,bj,bN,b5,a8,ao,a2,ba,bg,cM,bz])}(this);