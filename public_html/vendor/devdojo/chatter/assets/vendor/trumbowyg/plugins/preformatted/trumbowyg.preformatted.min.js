(function(c){c.extend(true,c.trumbowyg,{langs:{en:{preformatted:"Code sample <pre>"},fr:{preformatted:"Exemple de code"},it:{preformatted:"Codice <pre>"},zh_cn:{preformatted:"代码示例 <pre>"}},plugins:{preformatted:{init:function(e){var f={fn:function(){e.saveRange();var h=e.getRangeText();if(h.replace(/\s/g,"")!==""){try{var i=b().tagName.toLowerCase();if(i==="code"||i==="pre"){return d()}else{e.execCmd("insertHTML","<pre><code>"+a(h)+"</code></pre>")}}catch(g){}}},tag:"pre"};e.addBtnDef("preformatted",f)}}}});function b(){var f=null,e;if(window.getSelection){e=window.getSelection();if(e.rangeCount){f=e.getRangeAt(0).commonAncestorContainer;if(f.nodeType!==1){f=f.parentNode}}}else{if((e=document.selection)&&e.type!=="Control"){f=e.createRange().parentElement()}}return f}function a(f){var e=document.createElement("DIV");e.innerHTML=f;return e.textContent||e.innerText||""}function d(){var f=null;if(document.selection){f=document.selection.createRange().parentElement()}else{var e=window.getSelection();if(e.rangeCount>0){f=e.getRangeAt(0).startContainer.parentNode}}var g=c(f).contents().closest("pre").length;var h=c(f).contents().closest("code").length;if(g&&h){c(f).contents().unwrap("code").unwrap("pre")}else{if(g){c(f).contents().unwrap("pre")}else{if(h){c(f).contents().unwrap("code")}}}}})(jQuery);