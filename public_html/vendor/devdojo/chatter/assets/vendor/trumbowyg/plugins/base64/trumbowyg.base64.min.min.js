(function(f){var d=function(){return typeof FileReader!=="undefined"};var e=function(a){return/^data:image\/[a-z]?/i.test(a)};f.extend(true,f.trumbowyg,{langs:{en:{base64:"Image as base64",file:"File",errFileReaderNotSupported:"FileReader is not supported by your browser.",errInvalidImage:"Invalid image file."},fr:{base64:"Image en base64",file:"Fichier"},cs:{base64:"Vložit obrázek",file:"Soubor"},zh_cn:{base64:"图片（Base64编码）",file:"文件"},nl:{errFileReaderNotSupported:"Uw browser ondersteunt deze functionaliteit niet.",errInvalidImage:"De gekozen afbeelding is ongeldig."}},plugins:{base64:{shouldInit:d,init:function(b){var a={isSupported:d,fn:function(){b.saveRange();var c;var h=b.openModalInsert(b.lang.base64,{file:{type:"file",required:true,attributes:{accept:"image/*"}},alt:{label:"description",value:b.getRangeText()}},function(g){var j=new FileReader();j.onloadend=function(i){if(e(i.target.result)){b.execCmd("insertImage",j.result);f(['img[src="',j.result,'"]:not([alt])'].join(""),b.$box).attr("alt",g.alt);b.closeModal()}else{b.addErrorOnModalField(f("input[type=file]",h),b.lang.errInvalidImage)}};j.readAsDataURL(c)});f("input[type=file]").on("change",function(g){c=g.target.files[0]})}};b.addBtnDef("base64",a)}}}})})(jQuery);