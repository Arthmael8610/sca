(function(c){var b=function(){return typeof FileReader!=="undefined"};var a=function(d){return/^data:image\/[a-z]?/i.test(d)};c.extend(true,c.trumbowyg,{langs:{en:{base64:"Image as base64",file:"File",errFileReaderNotSupported:"FileReader is not supported by your browser.",errInvalidImage:"Invalid image file."},fr:{base64:"Image en base64",file:"Fichier"},cs:{base64:"Vložit obrázek",file:"Soubor"},zh_cn:{base64:"图片（Base64编码）",file:"文件"},nl:{errFileReaderNotSupported:"Uw browser ondersteunt deze functionaliteit niet.",errInvalidImage:"De gekozen afbeelding is ongeldig."}},plugins:{base64:{shouldInit:b,init:function(d){var e={isSupported:b,fn:function(){d.saveRange();var g;var f=d.openModalInsert(d.lang.base64,{file:{type:"file",required:true,attributes:{accept:"image/*"}},alt:{label:"description",value:d.getRangeText()}},function(i){var h=new FileReader();h.onloadend=function(j){if(a(j.target.result)){d.execCmd("insertImage",h.result);c(['img[src="',h.result,'"]:not([alt])'].join(""),d.$box).attr("alt",i.alt);d.closeModal()}else{d.addErrorOnModalField(c("input[type=file]",f),d.lang.errInvalidImage)}};h.readAsDataURL(g)});c("input[type=file]").on("change",function(h){g=h.target.files[0]})}};d.addBtnDef("base64",e)}}}})})(jQuery);