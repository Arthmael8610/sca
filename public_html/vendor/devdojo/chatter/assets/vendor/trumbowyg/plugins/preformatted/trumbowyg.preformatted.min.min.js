(function(h){h.extend(true,h.trumbowyg,{langs:{en:{preformatted:"Code sample <pre>"},fr:{preformatted:"Exemple de code"},it:{preformatted:"Codice <pre>"},zh_cn:{preformatted:"代码示例 <pre>"}},plugins:{preformatted:{init:function(b){var a={fn:function(){b.saveRange();var d=b.getRangeText();if(d.replace(/\s/g,"")!==""){try{var c=e().tagName.toLowerCase();if(c==="code"||c==="pre"){return g()}else{b.execCmd("insertHTML","<pre><code>"+f(d)+"</code></pre>")}}catch(j){}}},tag:"pre"};b.addBtnDef("preformatted",a)}}}});function e(){var a=null,b;if(window.getSelection){b=window.getSelection();if(b.rangeCount){a=b.getRangeAt(0).commonAncestorContainer;if(a.nodeType!==1){a=a.parentNode}}}else{if((b=document.selection)&&b.type!=="Control"){a=b.createRange().parentElement()}}return a}function f(a){var b=document.createElement("DIV");b.innerHTML=a;return b.textContent||b.innerText||""}function g(){var c=null;if(document.selection){c=document.selection.createRange().parentElement()}else{var d=window.getSelection();if(d.rangeCount>0){c=d.getRangeAt(0).startContainer.parentNode}}var b=h(c).contents().closest("pre").length;var a=h(c).contents().closest("code").length;if(b&&a){h(c).contents().unwrap("code").unwrap("pre")}else{if(b){h(c).contents().unwrap("pre")}else{if(a){h(c).contents().unwrap("code")}}}}})(jQuery);