/*!
 * Masonry PACKAGED v3.0.1
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(b){function c(f){if(f){if("string"==typeof d[f]){return f}f=f.charAt(0).toUpperCase()+f.slice(1);for(var h,i=0,g=a.length;g>i;i++){if(h=a[i]+f,"string"==typeof d[h]){return h}}}}var a="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define(function(){return c}):b.getStyleProperty=c})(window),function(b){function f(k){var l=parseFloat(k),j=-1===k.indexOf("%")&&!isNaN(l);return j&&l}function a(){for(var k={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},l=0,j=c.length;j>l;l++){var m=c[l];k[m]=0}return k}function h(i){function k(z){if("string"==typeof z&&(z=document.querySelector(z)),z&&"object"==typeof z&&z.nodeType){var B=d(z);if("none"===B.display){return a()}var F={};F.width=z.offsetWidth,F.height=z.offsetHeight;for(var A=F.isBorderBox=!(!e||!B[e]||"border-box"!==B[e]),w=0,H=c.length;H>w;w++){var J=c[w],K=B[J],D=parseFloat(K);F[J]=isNaN(D)?0:D}var C=F.paddingLeft+F.paddingRight,q=F.paddingTop+F.paddingBottom,G=F.marginLeft+F.marginRight,s=F.marginTop+F.marginBottom,N=F.borderLeftWidth+F.borderRightWidth,M=F.borderTopWidth+F.borderBottomWidth,o=A&&j,x=f(B.width);x!==!1&&(F.width=x+(o?0:C+N));var r=f(B.height);return r!==!1&&(F.height=r+(o?0:q+M)),F.innerWidth=F.width-(C+N),F.innerHeight=F.height-(q+M),F.outerWidth=F.width+G,F.outerHeight=F.height+s,F}}var j,e=i("boxSizing");return function(){if(e){var m=document.createElement("div");m.style.width="200px",m.style.padding="1px 2px 3px 4px",m.style.borderStyle="solid",m.style.borderWidth="1px 2px 3px 4px",m.style[e]="border-box";var l=document.body||document.documentElement;l.appendChild(m);var o=d(m);j=200===f(o.width),l.removeChild(m)}}(),k}var g=document.defaultView,d=g&&g.getComputedStyle?function(e){return g.getComputedStyle(e,null)}:function(e){return e.currentStyle},c=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define(["get-style-property"],h):b.getSize=h(b.getStyleProperty)}(window),function(b){var c=document.documentElement,a=function(){};c.addEventListener?a=function(h,j,g){h.addEventListener(j,g,!1)}:c.attachEvent&&(a=function(h,g,j){h[g+j]=j.handleEvent?function(){var i=b.event;i.target=i.target||i.srcElement,j.handleEvent.call(j,i)}:function(){var e=b.event;e.target=e.target||e.srcElement,j.call(h,e)},h.attachEvent("on"+g,h[g+j])});var f=function(){};c.removeEventListener?f=function(h,j,g){h.removeEventListener(j,g,!1)}:c.detachEvent&&(f=function(h,j,g){h.detachEvent("on"+j,h[j+g]);try{delete h[j+g]}catch(k){h[j+g]=void 0}});var d={bind:a,unbind:f};"function"==typeof define&&define.amd?define(d):b.eventie=d}(this),function(b){function d(e){"function"==typeof e&&(d.isReady?e():c.push(e))}function a(j){var h="readystatechange"===j.type&&"complete"!==f.readyState;if(!d.isReady&&!h){d.isReady=!0;for(var l=0,k=c.length;k>l;l++){var e=c[l];e()}}}function g(e){return e.bind(f,"DOMContentLoaded",a),e.bind(f,"readystatechange",a),e.bind(b,"load",a),d}var f=b.document,c=[];d.isReady=!1,"function"==typeof define&&define.amd?define(["eventie"],g):b.docReady=g(b.eventie)}(this),function(b){function c(){}function a(h,j){if(d){return j.indexOf(h)}for(var g=j.length;g--;){if(j[g]===h){return g}}return -1}var f=c.prototype,d=Array.prototype.indexOf?!0:!1;f._getEvents=function(){return this._events||(this._events={})},f.getListeners=function(h){var j,g,k=this._getEvents();if("object"==typeof h){j={};for(g in k){k.hasOwnProperty(g)&&h.test(g)&&(j[g]=k[g])}}else{j=k[h]||(k[h]=[])}return j},f.getListenersAsObject=function(h){var j,g=this.getListeners(h);return g instanceof Array&&(j={},j[h]=g),j||g},f.addListener=function(g,h){var j,i=this.getListenersAsObject(g);for(j in i){i.hasOwnProperty(j)&&-1===a(h,i[j])&&i[j].push(h)}return this},f.on=f.addListener,f.defineEvent=function(e){return this.getListeners(e),this},f.defineEvents=function(g){for(var h=0;g.length>h;h+=1){this.defineEvent(g[h])}return this},f.removeListener=function(g,i){var k,j,h=this.getListenersAsObject(g);for(j in h){h.hasOwnProperty(j)&&(k=a(i,h[j]),-1!==k&&h[j].splice(k,1))}return this},f.off=f.removeListener,f.addListeners=function(g,h){return this.manipulateListeners(!1,g,h)},f.removeListeners=function(g,h){return this.manipulateListeners(!0,g,h)},f.manipulateListeners=function(h,l,g){var p,m,k=h?this.removeListener:this.addListener,j=h?this.removeListeners:this.addListeners;if("object"!=typeof l||l instanceof RegExp){for(p=g.length;p--;){k.call(this,l,g[p])}}else{for(p in l){l.hasOwnProperty(p)&&(m=l[p])&&("function"==typeof m?k.call(this,p,m):j.call(this,p,m))}}return this},f.removeEvent=function(h){var j,g=typeof h,k=this._getEvents();if("string"===g){delete k[h]}else{if("object"===g){for(j in k){k.hasOwnProperty(j)&&h.test(j)&&delete k[j]}}else{delete this._events}}return this},f.emitEvent=function(h,k){var g,m,l,j=this.getListenersAsObject(h);for(m in j){if(j.hasOwnProperty(m)){for(g=j[m].length;g--;){l=k?j[m][g].apply(null,k):j[m][g](),l===!0&&this.removeListener(h,j[m][g])}}}return this},f.trigger=f.emitEvent,f.emit=function(g){var h=Array.prototype.slice.call(arguments,1);return this.emitEvent(g,h)},"function"==typeof define&&define.amd?define(function(){return c}):b.EventEmitter=c}(this),function(b){function c(){}function a(f){function e(i){i.prototype.option||(i.prototype.option=function(j){f.isPlainObject(j)&&(this.options=f.extend(!0,this.options,j))})}function h(k,j){f.fn[k]=function(t){if("string"==typeof t){for(var n=d.call(arguments,1),i=0,m=this.length;m>i;i++){var r=this[i],l=f.data(r,k);if(l){if(f.isFunction(l[t])&&"_"!==t.charAt(0)){var q=l[t].apply(l,n);if(void 0!==q){return q}}else{g("no such method '"+t+"' for "+k+" instance")}}else{g("cannot call methods on "+k+" prior to initialization; attempted to call '"+t+"'")}}return this}return this.each(function(){var o=f.data(this,k);o?(o.option(t),o._init()):(o=new j(this,t),f.data(this,k,o))})}}if(f){var g="undefined"==typeof console?c:function(i){console.error(i)};f.bridget=function(i,j){e(j),h(i,j)}}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define(["jquery"],a):a(b.jQuery)}(window),function(m,k){function g(a,h){return a[l](h)}function f(a){if(!a.parentNode){var h=document.createDocumentFragment();h.appendChild(a)}}function d(h,p){f(h);for(var a=h.parentNode.querySelectorAll(p),s=0,n=a.length;n>s;s++){if(a[s]===h){return !0}}return !1}function b(a,h){return f(a),g(a,h)}var q,l=function(){if(k.matchesSelector){return"matchesSelector"}for(var e=["webkit","moz","ms","o"],a=0,s=e.length;s>a;a++){var p=e[a],h=p+"MatchesSelector";if(k[h]){return h}}}();if(l){var j=document.createElement("div"),c=g(j,"div");q=c?g:b}else{q=d}"function"==typeof define&&define.amd?define(function(){return q}):window.matchesSelector=q}(this,Element.prototype),function(G){function A(c,d){for(var a in d){c[a]=d[a]}return c}function w(a,c){a&&(this.element=a,this.layout=c,this.position={x:0,y:0},this._create())}var k=G.getSize,j=G.getStyleProperty,b=G.EventEmitter,H=document.defaultView,E=H&&H.getComputedStyle?function(a){return H.getComputedStyle(a,null)}:function(a){return a.currentStyle},x=j("transition"),g=j("transform"),F=x&&g,z=!!j("perspective"),B={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[x],C=["transform","transition","transitionDuration","transitionProperty"],v=function(){for(var c={},f=0,a=C.length;a>f;f++){var h=C[f],d=j(h);d&&d!==h&&(c[h]=d)}return c}();A(w.prototype,b.prototype),w.prototype._create=function(){this.css({position:"absolute"})},w.prototype.handleEvent=function(a){var c="on"+a.type;this[c]&&this[c](a)},w.prototype.getSize=function(){this.size=k(this.element)},w.prototype.css=function(c){var d=this.element.style;for(var a in c){var f=v[a]||a;d[f]=c[a]}},w.prototype.getPosition=function(){var c=E(this.element),h=this.layout.options,a=h.isOriginLeft,m=h.isOriginTop,l=parseInt(c[a?"left":"right"],10),f=parseInt(c[m?"top":"bottom"],10);l=isNaN(l)?0:l,f=isNaN(f)?0:f;var d=this.layout.size;l-=a?d.paddingLeft:d.paddingRight,f-=m?d.paddingTop:d.paddingBottom,this.position.x=l,this.position.y=f},w.prototype.layoutPosition=function(){var c=this.layout.size,d=this.layout.options,a={};d.isOriginLeft?(a.left=this.position.x+c.paddingLeft+"px",a.right=""):(a.right=this.position.x+c.paddingRight+"px",a.left=""),d.isOriginTop?(a.top=this.position.y+c.paddingTop+"px",a.bottom=""):(a.bottom=this.position.y+c.paddingBottom+"px",a.top=""),this.css(a),this.emitEvent("layout",[this])};var q=z?function(a,c){return"translate3d("+a+"px, "+c+"px, 0)"}:function(a,c){return"translate("+a+"px, "+c+"px)"};w.prototype._transitionTo=function(L,I){this.getPosition();var m=this.position.x,l=this.position.y,f=parseInt(L,10),c=parseInt(I,10),M=f===this.position.x&&c===this.position.y;if(this.setPosition(L,I),M&&!this.isTransitioning){return this.layoutPosition(),void 0}var J=L-m,y=I-l,d={},K=this.layout.options;J=K.isOriginLeft?J:-J,y=K.isOriginTop?y:-y,d.transform=q(J,y),this.transition({to:d,onTransitionEnd:this.layoutPosition,isCleaning:!0})},w.prototype.goTo=function(a,c){this.setPosition(a,c),this.layoutPosition()},w.prototype.moveTo=F?w.prototype._transitionTo:w.prototype.goTo,w.prototype.setPosition=function(a,c){this.position.x=parseInt(a,10),this.position.y=parseInt(c,10)},w.prototype._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to),a.onTransitionEnd&&a.onTransitionEnd.call(this)},w.prototype._transition=function(c){var h=this.layout.options.transitionDuration;if(!parseFloat(h)){return this._nonTransition(c),void 0}var a=c.to,m=[];for(var l in a){m.push(l)}var f={};if(f.transitionProperty=m.join(","),f.transitionDuration=h,this.element.addEventListener(B,this,!1),(c.isCleaning||c.onTransitionEnd)&&this.on("transitionEnd",function(i){return c.isCleaning&&i._removeStyles(a),c.onTransitionEnd&&c.onTransitionEnd.call(i),!0}),c.from){this.css(c.from);var d=this.element.offsetHeight;d=null}this.css(f),this.css(a),this.isTransitioning=!0},w.prototype.transition=w.prototype[x?"_transition":"_nonTransition"],w.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},w.prototype.onotransitionend=function(a){this.ontransitionend(a)},w.prototype.ontransitionend=function(a){a.target===this.element&&(this.removeTransitionStyles(),this.element.removeEventListener(B,this,!1),this.isTransitioning=!1,this.emitEvent("transitionEnd",[this]))},w.prototype._removeStyles=function(c){var d={};for(var a in c){d[a]=""}this.css(d)};var D={transitionProperty:"",transitionDuration:""};w.prototype.removeTransitionStyles=function(){this.css(D)},w.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},w.prototype.remove=x?function(){var a=this;this.on("transitionEnd",function(){return a.removeElem(),!0}),this.hide()}:w.prototype.removeElem,w.prototype.reveal=function(){this.css({display:""});var a=this.layout.options;this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0})},w.prototype.hide=function(){this.css({display:""});var a=this.layout.options;this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:function(){this.css({display:"none"})}})},w.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},G.Outlayer={Item:w}}(window),function(z){function N(b,c){for(var a in c){b[a]=c[a]}return b}function I(a){return"[object Array]"===q.call(a)}function F(a){var b=[];if(I(a)){b=a}else{if("number"==typeof a.length){for(var d=0,c=a.length;c>d;d++){b.push(a[d])}}else{b.push(a)}}return b}function D(a){return a.replace(/(.)([A-Z])/g,function(c,d,b){return d+"-"+b}).toLowerCase()}function B(b,a){if("string"==typeof b&&(b=H.querySelector(b)),!b||!S(b)){return G&&G.error("Bad "+this.settings.namespace+" element: "+b),void 0}this.element=b,this.options=N({},this.options),N(this.options,a);var c=++j;this.element.outlayerGUID=c,x[c]=this,this._create(),this.options.isInitLayout&&this.layout()}function A(b,a){b.prototype[a]=N({},B.prototype[a])}var R=z.Outlayer,J=R.Item,C=z.docReady,w=z.EventEmitter,M=z.eventie,O=z.getSize,P=z.matchesSelector,H=z.document,G=z.console,k=z.jQuery,K=function(){},q=Object.prototype.toString,S="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},Q=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(b,c){for(var a=0,d=b.length;d>a;a++){if(b[a]===c){return a}}return -1},j=0,x={};B.prototype.settings={namespace:"outlayer",item:R.Item},B.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},N(B.prototype,w.prototype),B.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),N(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},B.prototype.reloadItems=function(){this.items=this._getItems(this.element.children)},B.prototype._getItems=function(d){for(var h=this._filterFindItemElements(d),c=this.settings.item,m=[],l=0,g=h.length;g>l;l++){var f=h[l],b=new c(f,this,this.options.itemOptions);m.push(b)}return m},B.prototype._filterFindItemElements=function(n){n=F(n);var l=this.options.itemSelector;if(!l){return n}for(var f=[],d=0,b=n.length;b>d;d++){var u=n[d];P(u,l)&&f.push(u);for(var m=u.querySelectorAll(l),g=0,c=m.length;c>g;g++){f.push(m[g])}}return f},B.prototype.getItemElements=function(){for(var b=[],c=0,a=this.items.length;a>c;c++){b.push(this.items[c].element)}return b},B.prototype.layout=function(){this._resetLayout(),this._manageStamps();var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},B.prototype._init=B.prototype.layout,B.prototype._resetLayout=function(){this.getSize()},B.prototype.getSize=function(){this.size=O(this.element)},B.prototype._getMeasurement=function(b,c){var a,d=this.options[b];d?("string"==typeof d?a=this.element.querySelector(d):S(d)&&(a=d),this[b]=a?O(a)[c]:d):this[b]=0},B.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},B.prototype._getItemsForLayout=function(b){for(var c=[],a=0,f=b.length;f>a;a++){var d=b[a];d.isIgnored||c.push(d)}return c},B.prototype._layoutItems=function(b,f){if(!b||!b.length){return this.emitEvent("layoutComplete",[this,b]),void 0}this._itemsOn(b,"layout",function(){this.emitEvent("layoutComplete",[this,b])});for(var a=[],h=0,g=b.length;g>h;h++){var d=b[h],c=this._getItemLayoutPosition(d);c.item=d,c.isInstant=f,a.push(c)}this._processLayoutQueue(a)},B.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},B.prototype._processLayoutQueue=function(b){for(var c=0,a=b.length;a>c;c++){var d=b[c];this._positionItem(d.item,d.x,d.y,d.isInstant)}},B.prototype._positionItem=function(b,c,a,d){d?b.goTo(c,a):b.moveTo(c,a)},B.prototype._postLayout=function(){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))},B.prototype._getContainerSize=K,B.prototype._setContainerMeasure=function(b,c){if(void 0!==b){var a=this.size;a.isBorderBox&&(b+=c?a.paddingLeft+a.paddingRight+a.borderLeftWidth+a.borderRightWidth:a.paddingBottom+a.paddingTop+a.borderTopWidth+a.borderBottomWidth),b=Math.max(b,0),this.element.style[c?"width":"height"]=b+"px"}},B.prototype._itemsOn=function(v,m,g){function f(){return d++,d===b&&g.call(y),!0}for(var d=0,b=v.length,y=this,u=0,l=v.length;l>u;u++){var c=v[u];c.on(m,f)}},B.prototype.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},B.prototype.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},B.prototype.stamp=function(b){if(b=this._find(b)){this.stamps=this.stamps.concat(b);for(var c=0,a=b.length;a>c;c++){var d=b[c];this.ignore(d)}}},B.prototype.unstamp=function(b){if(b=this._find(b)){for(var c=0,a=b.length;a>c;c++){var f=b[c],d=Q(this.stamps,f);-1!==d&&this.stamps.splice(d,1),this.unignore(f)}}},B.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=F(a)):void 0},B.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var b=0,c=this.stamps.length;c>b;b++){var a=this.stamps[b];this._manageStamp(a)}}},B.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},B.prototype._manageStamp=K,B.prototype._getElementOffset=function(b){var c=b.getBoundingClientRect(),a=this._boundingRect,f=O(b),d={left:c.left-a.left-f.marginLeft,top:c.top-a.top-f.marginTop,right:a.right-c.right-f.marginRight,bottom:a.bottom-c.bottom-f.marginBottom};return d},B.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},B.prototype.bindResize=function(){this.isResizeBound||(M.bind(z,"resize",this),this.isResizeBound=!0)},B.prototype.unbindResize=function(){M.unbind(z,"resize",this),this.isResizeBound=!1},B.prototype.onresize=function(){function a(){b.resize()}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var b=this;this.resizeTimeout=setTimeout(a,100)},B.prototype.resize=function(){var a=O(this.element),b=this.size&&a;b&&a.innerWidth===this.size.innerWidth||(this.layout(),delete this.resizeTimeout)},B.prototype.addItems=function(a){var b=this._getItems(a);if(b.length){return this.items=this.items.concat(b),b}},B.prototype.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},B.prototype.prepended=function(b){var c=this._getItems(b);if(c.length){var a=this.items.slice(0);this.items=c.concat(a),this._resetLayout(),this.layoutItems(c,!0),this.reveal(c),this.layoutItems(a)}},B.prototype.reveal=function(b){if(b&&b.length){for(var c=0,a=b.length;a>c;c++){var d=b[c];d.reveal()}}},B.prototype.hide=function(b){if(b&&b.length){for(var c=0,a=b.length;a>c;c++){var d=b[c];d.hide()}}},B.prototype.getItem=function(b){for(var c=0,a=this.items.length;a>c;c++){var d=this.items[c];if(d.element===b){return d}}},B.prototype.getItems=function(b){if(b&&b.length){for(var d=[],a=0,g=b.length;g>a;a++){var f=b[a],c=this.getItem(f);c&&d.push(c)}return d}},B.prototype.remove=function(b){b=F(b);var f=this.getItems(b);this._itemsOn(f,"remove",function(){this.emitEvent("removeComplete",[this,f])});for(var a=0,g=f.length;g>a;a++){var d=f[a];d.remove();var c=Q(this.items,d);this.items.splice(c,1)}},B.prototype.destroy=function(){var b=this.element.style;b.height="",b.position="",b.width="";for(var c=0,a=this.items.length;a>c;c++){var d=this.items[c];d.destroy()}this.unbindResize(),delete this.element.outlayerGUID},B.data=function(a){var b=a&&a.outlayerGUID;return b&&x[b]},B.create=function(b,a){function c(){B.apply(this,arguments)}return N(c.prototype,B.prototype),A(c,"options"),A(c,"settings"),N(c.prototype.options,a),c.prototype.settings.namespace=b,c.data=B.data,c.Item=function(){J.apply(this,arguments)},c.Item.prototype=new B.Item,c.prototype.settings.item=c.Item,C(function(){for(var t=D(b),m=H.querySelectorAll(".js-"+t),g="data-"+t+"-options",L=0,y=m.length;y>L;L++){var n,l=m[L],E=l.getAttribute(g);try{n=E&&JSON.parse(E)}catch(o){G&&G.error("Error parsing "+g+" on "+l.nodeName.toLowerCase()+(l.id?"#"+l.id:"")+": "+o);continue}var v=new c(l,n);k&&k.data(l,b,v)}}),k&&k.bridget&&k.bridget(b,c),c},B.Item=J,z.Outlayer=B}(window),function(b){function c(d,f){var g=d.create("masonry");return g.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;){this.colYs.push(0)}this.maxY=0},g.prototype.measureColumns=function(){var h=this.items[0],e=h&&h.element;this.columnWidth||(this.columnWidth=e?f(e).outerWidth:this.size.innerWidth),this.columnWidth+=this.gutter,this.cols=Math.floor((this.size.innerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},g.prototype._getItemLayoutPosition=function(v){v.getSize();var q=Math.ceil(v.size.outerWidth/this.columnWidth);q=Math.min(q,this.cols);for(var l=this._getColGroup(q),k=Math.min.apply(Math,l),i=a(l,k),w={x:this.columnWidth*i,y:k},u=k+v.size.outerHeight,m=this.cols+1-l.length,j=0;m>j;j++){this.colYs[i+j]=u}return w},g.prototype._getColGroup=function(j){if(1===j){return this.colYs}for(var k=[],h=this.cols+1-j,m=0;h>m;m++){var l=this.colYs.slice(m,m+j);k[m]=Math.max.apply(Math,l)}return k},g.prototype._manageStamp=function(v){var m=f(v),l=this._getElementOffset(v),k=this.options.isOriginLeft?l.left:l.right,e=k+m.outerWidth,w=Math.floor(k/this.columnWidth);w=Math.max(0,w);var u=Math.floor(e/this.columnWidth);u=Math.min(this.cols-1,u);for(var q=(this.options.isOriginTop?l.top:l.bottom)+m.outerHeight,j=w;u>=j;j++){this.colYs[j]=Math.max(q,this.colYs[j])}},g.prototype._getContainerSize=function(){return this.maxY=Math.max.apply(Math,this.colYs),{height:this.maxY}},g}var a=Array.prototype.indexOf?function(d,f){return d.indexOf(f)}:function(f,g){for(var d=0,j=f.length;j>d;d++){var h=f[d];if(h===g){return d}}return -1};"function"==typeof define&&define.amd?define(["outlayer","get-size"],c):b.Masonry=c(b.Outlayer,b.getSize)}(window);