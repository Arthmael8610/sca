!function(B){function w(b){return void 0==b?-1:jQuery.isNumeric(b)?b:b.split(":").length>1?60*parseInt(b.split(":")[0],0)+parseInt(b.split(":")[1],0):b}var A=jQuery.fn.revolution,z=A.is_mobile(),y=A.is_android(),x={alias:"Video Min JS",name:"revolution.extensions.video.min.js",min_core:"5.4.5",version:"2.1.6"};jQuery.extend(!0,A,{preLoadAudio:function(b,d){if("stop"===A.compare_version(x).check){return !1}b.find(".tp-audiolayer").each(function(){var c=jQuery(this),e={};0===c.find("audio").length&&(e.src=void 0!=c.data("videomp4")?c.data("videomp4"):"",e.pre=c.data("videopreload")||"",void 0===c.attr("id")&&c.attr("audio-layer-"+Math.round(199999*Math.random())),e.id=c.attr("id"),e.status="prepared",e.start=jQuery.now(),e.waittime=1000*c.data("videopreloadwait")||5000,"auto"!=e.pre&&"canplaythrough"!=e.pre&&"canplay"!=e.pre&&"progress"!=e.pre||(void 0===d.audioqueue&&(d.audioqueue=[]),d.audioqueue.push(e),A.manageVideoLayer(c,d)))})},preLoadAudioDone:function(e,d,f){d.audioqueue&&d.audioqueue.length>0&&jQuery.each(d.audioqueue,function(a,c){e.data("videomp4")!==c.src||c.pre!==f&&"auto"!==c.pre||(c.status="loaded")})},resetVideo:function(D,C,m){var k=D.data();switch(k.videotype){case"youtube":k.player;try{if("on"==k.forcerewind){var j=w(D.data("videostartat"));1===k.bgvideo||D.find(".tp-videoposter").length;void 0!=k.player&&(j=-1==j?0:j,k.player.seekTo(j),k.player.pauseVideo())}}catch(D){}0==D.find(".tp-videoposter").length&&1!==k.bgvideo&&!0!==m&&punchgs.TweenLite.to(D.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"vimeo":var h=$f(D.find("iframe").attr("id"));try{if("on"==k.forcerewind){var j=w(k.videostartat);1===k.bgvideo||D.find(".tp-videoposter").length;j=-1==j?0:j,h.api("seekTo",j),h.api("pause")}}catch(D){}0==D.find(".tp-videoposter").length&&1!==k.bgvideo&&!0!==m&&punchgs.TweenLite.to(D.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"html5":if(z&&1==k.disablevideoonmobile){return !1}var f="html5"==k.audio?"audio":"video",c=D.find(f),b=c[0];if(punchgs.TweenLite.to(c,0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"on"==k.forcerewind&&!D.hasClass("videoisplaying")){try{var j=w(k.videostartat);b.currentTime=-1==j?0:j}catch(D){}}("mute"==k.volume||A.lastToggleState(D.videomutetoggledby)||!0===C.globalmute)&&(b.muted=!0)}},isVideoMuted:function(f,e){var j=!1,i=f.data();switch(i.videotype){case"youtube":try{j=i.player.isMuted()}catch(f){}break;case"vimeo":try{$f(f.find("iframe").attr("id"));"mute"==i.volume&&(j=!0)}catch(f){}break;case"html5":var h="html5"==i.audio?"audio":"video";f.find(h)[0].muted&&(j=!0)}return j},muteVideo:function(g,d){var j=g.data();switch(j.videotype){case"youtube":try{j.player.mute()}catch(g){}break;case"vimeo":try{var i=$f(g.find("iframe").attr("id"));g.data("volume","mute"),i.api("setVolume",0)}catch(g){}break;case"html5":var h="html5"==j.audio?"audio":"video";g.find(h)[0].muted=!0}},unMuteVideo:function(g,d){if(!0!==d.globalmute){var j=g.data();switch(j.videotype){case"youtube":try{j.player.unMute()}catch(g){}break;case"vimeo":try{var i=$f(g.find("iframe").attr("id"));g.data("volume","1"),i.api("setVolume",1)}catch(g){}break;case"html5":var h="html5"==j.audio?"audio":"video";g.find(h)[0].muted=!1}}},stopVideo:function(i,e){var n=i.data();switch(e.leaveViewPortBasedStop||(e.lastplayedvideos=[]),e.leaveViewPortBasedStop=!1,n.videotype){case"youtube":try{var m=n.player;if(2===m.getPlayerState()||5===m.getPlayerState()){return}m.pauseVideo(),n.youtubepausecalled=!0,setTimeout(function(){n.youtubepausecalled=!1},80)}catch(i){console.log("Issue at YouTube Video Pause:"),console.log(i)}break;case"vimeo":try{$f(i.find("iframe").attr("id")).api("pause"),n.vimeopausecalled=!0,setTimeout(function(){n.vimeopausecalled=!1},80)}catch(i){console.log("Issue at Vimeo Video Pause:"),console.log(i)}break;case"html5":var l="html5"==n.audio?"audio":"video",k=i.find(l),j=k[0];void 0!=k&&void 0!=j&&j.pause()}},playVideo:function(H,G){clearTimeout(H.data("videoplaywait"));var F=H.data();switch(F.videotype){case"youtube":if(0==H.find("iframe").length){H.append(H.data("videomarkup")),t(H,G,!0)}else{if(void 0!=F.player.playVideo){var E=w(H.data("videostartat")),D=F.player.getCurrentTime();1==H.data("nextslideatend-triggered")&&(D=-1,H.data("nextslideatend-triggered",0)),-1!=E&&E>D&&F.player.seekTo(E),!0!==F.youtubepausecalled&&F.player.playVideo()}else{H.data("videoplaywait",setTimeout(function(){!0!==F.youtubepausecalled&&A.playVideo(H,G)},50))}}break;case"vimeo":if(0==H.find("iframe").length){H.append(H.data("videomarkup")),t(H,G,!0)}else{if(H.hasClass("rs-apiready")){var C=H.find("iframe").attr("id"),i=$f(C);void 0==i.api("play")?H.data("videoplaywait",setTimeout(function(){!0!==F.vimeopausecalled&&A.playVideo(H,G)},50)):setTimeout(function(){i.api("play");var a=w(H.data("videostartat")),d=H.data("currenttime");1==H.data("nextslideatend-triggered")&&(d=-1,H.data("nextslideatend-triggered",0)),-1!=a&&a>d&&i.api("seekTo",a)},510)}else{H.data("videoplaywait",setTimeout(function(){!0!==F.vimeopausecalled&&A.playVideo(H,G)},50))}}break;case"html5":var g="html5"==F.audio?"audio":"video",f=H.find(g),b=f[0];if(1!=f.parent().data("metaloaded")){v(b,"loadedmetadata",function(c){A.resetVideo(c,G),b.play();var j=w(c.data("videostartat")),h=b.currentTime;1==c.data("nextslideatend-triggered")&&(h=-1,c.data("nextslideatend-triggered",0)),-1!=j&&j>h&&(b.currentTime=j)}(H))}else{b.play();var E=w(H.data("videostartat")),D=b.currentTime;1==H.data("nextslideatend-triggered")&&(D=-1,H.data("nextslideatend-triggered",0)),-1!=E&&E>D&&(b.currentTime=E)}}},isVideoPlaying:function(e,d){var f=!1;return void 0!=d.playingvideos&&jQuery.each(d.playingvideos,function(a,c){e.attr("id")==c.attr("id")&&(f=!0)}),f},removeMediaFromList:function(d,c){o(d,c)},prepareCoveredVideo:function(J,I,H){var G=H.find("iframe, video"),F=J.split(":")[0],E=J.split(":")[1],D=H.closest(".tp-revslider-slidesli"),C=D.width()/D.height(),n=F/E,m=C/n*100,b=n/C*100;C>n?punchgs.TweenLite.to(G,0.001,{height:m+"%",width:"100%",top:-(m-100)/2+"%",left:"0px",position:"absolute"}):punchgs.TweenLite.to(G,0.001,{width:b+"%",height:"100%",left:-(b-100)/2+"%",top:"0px",position:"absolute"}),G.hasClass("resizelistener")||(G.addClass("resizelistener"),jQuery(window).resize(function(){clearTimeout(G.data("resizelistener")),G.data("resizelistener",setTimeout(function(){A.prepareCoveredVideo(J,I,H)},30))}))},checkVideoApis:function(i,d,n){location.protocol;if((void 0!=i.data("ytid")||i.find("iframe").length>0&&i.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&(d.youtubeapineeded=!0),(void 0!=i.data("ytid")||i.find("iframe").length>0&&i.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&0==n.addedyt){d.youtubestarttime=jQuery.now(),n.addedyt=1;var m=document.createElement("script");m.src="https://www.youtube.com/iframe_api";var l=document.getElementsByTagName("script")[0],k=!0;jQuery("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==jQuery(this).attr("src")&&(k=!1)}),k&&l.parentNode.insertBefore(m,l)}if((void 0!=i.data("vimeoid")||i.find("iframe").length>0&&i.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&(d.vimeoapineeded=!0),(void 0!=i.data("vimeoid")||i.find("iframe").length>0&&i.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&0==n.addedvim){d.vimeostarttime=jQuery.now(),n.addedvim=1;var j=document.createElement("script"),l=document.getElementsByTagName("script")[0],k=!0;j.src="https://secure-a.vimeocdn.com/js/froogaloop2.min.js",jQuery("head").find("*").each(function(){"https://secure-a.vimeocdn.com/js/froogaloop2.min.js"==jQuery(this).attr("src")&&(k=!1)}),k&&l.parentNode.insertBefore(j,l)}return n},manageVideoLayer:function(ad,ac,ab,aa){if("stop"===A.compare_version(x).check){return !1}var Z=ad.data(),Y=Z.videoattributes,X=Z.ytid,W=Z.vimeoid,V="auto"===Z.videopreload||"canplay"===Z.videopreload||"canplaythrough"===Z.videopreload||"progress"===Z.videopreload?"auto":Z.videopreload,T=Z.videomp4,R=Z.videowebm,P=Z.videoogv,N=Z.allowfullscreenvideo,L=Z.videocontrols,J="http",i="loop"==Z.videoloop?"loop":"loopandnoslidestop"==Z.videoloop?"loop":"",f=void 0!=T||void 0!=R?"html5":void 0!=X&&String(X).length>1?"youtube":void 0!=W&&String(W).length>1?"vimeo":"none",c="html5"==Z.audio?"audio":"video",b="html5"==f&&0==ad.find(c).length?"html5":"youtube"==f&&0==ad.find("iframe").length?"youtube":"vimeo"==f&&0==ad.find("iframe").length?"vimeo":"none";switch(i=!0===Z.nextslideatend?"":i,Z.videotype=f,b){case"html5":"controls"!=L&&(L="");var c="video";"html5"==Z.audio&&(c="audio",ad.addClass("tp-audio-html5"));var U=ac.fallbacks.allowHTML5AutoPlayOnAndroid?"muted playsinline":"",S="<"+c+" "+U+' style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+i+' preload="'+V+'">';"auto"==V&&(ac.mediapreload=!0),void 0!=R&&"firefox"==A.get_browser().toLowerCase()&&(S=S+'<source src="'+R+'" type="video/webm" />'),void 0!=T&&(S=S+'<source src="'+T+'" type="video/mp4" />'),void 0!=P&&(S=S+'<source src="'+P+'" type="video/ogg" />'),S=S+"</"+c+">";var Q="";"true"!==N&&!0!==N||(Q='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'),"controls"==L&&(S=S+'<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+Q+"</div>"),ad.data("videomarkup",S),ad.append(S),(z&&1==ad.data("disablevideoonmobile")||A.isIE(8))&&ad.find(c).remove(),ad.find(c).each(function(h){var d=this,a=jQuery(this);a.parent().hasClass("html5vid")||a.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>'),1!=a.parent().data("metaloaded")&&v(d,"loadedmetadata",function(j){q(j,ac),A.resetVideo(j,ac)}(ad))});break;case"youtube":J="https","none"==L&&(Y=Y.replace("controls=1","controls=0"),-1==Y.toLowerCase().indexOf("controls")&&(Y+="&controls=0")),!0!==Z.videoinline&&"true"!==Z.videoinline&&1!==Z.videoinline||(Y+="&playsinline=1");var O=w(ad.data("videostartat")),M=w(ad.data("videoendat"));-1!=O&&(Y=Y+"&start="+O),-1!=M&&(Y=Y+"&end="+M);var K=Y.split("origin="+J+"://"),l="";K.length>1?(l=K[0]+"origin="+J+"://",self.location.href.match(/www/gi)&&!K[1].match(/www/gi)&&(l+="www."),l+=K[1]):l=Y;var g="true"===N||!0===N?"allowfullscreen":"";ad.data("videomarkup",'<iframe type="text/html" src="'+J+"://www.youtube.com/embed/"+X+"?"+l+'" '+g+' width="100%" height="100%" style="opacity:0;visibility:hidden;width:100%;height:100%"></iframe>');break;case"vimeo":J="https",ad.data("videomarkup",'<iframe src="'+J+"://player.vimeo.com/video/"+W+"?autoplay=0&"+Y+'" webkitallowfullscreen mozallowfullscreen allowfullscreen width="100%" height="100%" style="opacity:0;visibility:hidden;100%;height:100%"></iframe>')}var e=z&&"on"==ad.data("noposteronmobile");if(void 0!=Z.videoposter&&Z.videoposter.length>2&&!e){0==ad.find(".tp-videoposter").length&&ad.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+Z.videoposter+'); background-size:cover;background-position:center center;"></div>'),0==ad.find("iframe").length&&ad.find(".tp-videoposter").click(function(){if(A.playVideo(ad,ac),z){if(1==ad.data("disablevideoonmobile")){return !1}punchgs.TweenLite.to(ad.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(ad.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}})}else{if(z&&1==ad.data("disablevideoonmobile")){return !1}0!=ad.find("iframe").length||"youtube"!=f&&"vimeo"!=f||(ad.append(ad.data("videomarkup")),t(ad,ac,!1))}"none"!=ad.data("dottedoverlay")&&void 0!=ad.data("dottedoverlay")&&1!=ad.find(".tp-dottedoverlay").length&&ad.append('<div class="tp-dottedoverlay '+ad.data("dottedoverlay")+'"></div>'),ad.addClass("HasListener"),1==ad.data("bgvideo")&&punchgs.TweenLite.set(ad.find("video, iframe"),{autoAlpha:0})}});var v=function(e,d,f){e.addEventListener?e.addEventListener(d,f,{capture:!1,passive:!0}):e.attachEvent(d,f,{capture:!1,passive:!0})},u=function(f,e,h){var g={};return g.video=f,g.videotype=e,g.settings=h,g},t=function(F,C,n){var m=F.data(),k=F.find("iframe"),j="iframe"+Math.round(100000*Math.random()+1),h=m.videoloop,f="loopandnoslidestop"!=h;if(h="loop"==h||"loopandnoslidestop"==h,1==F.data("forcecover")){F.removeClass("fullscreenvideo").addClass("coverscreenvideo");var c=F.data("aspectratio");void 0!=c&&c.split(":").length>1&&(console.log("i"),A.prepareCoveredVideo(c,C,F))}if(1==F.data("bgvideo")){var c=F.data("aspectratio");void 0!=c&&c.split(":").length>1&&(console.log("ak"),A.prepareCoveredVideo(c,C,F))}if(k.attr("id",j),n&&F.data("startvideonow",!0),1!==F.data("videolistenerexist")){switch(m.videotype){case"youtube":var b=new YT.Player(j,{events:{onStateChange:function(i){var g=F.closest(".tp-simpleresponsive"),d=(m.videorate,F.data("videostart"),r());if(i.data==YT.PlayerState.PLAYING){punchgs.TweenLite.to(F.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(F.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"mute"==F.data("volume")||A.lastToggleState(F.data("videomutetoggledby"))||!0===C.globalmute?b.mute():(b.unMute(),b.setVolume(parseInt(F.data("volume"),0)||75)),C.videoplaying=!0,p(F,C),f?C.c.trigger("stoptimer"):C.videoplaying=!1,C.c.trigger("revolution.slide.onvideoplay",u(b,"youtube",F.data())),A.toggleState(m.videotoggledby)}else{if(0==i.data&&h){var a=w(F.data("videostartat"));-1!=a&&b.seekTo(a),b.playVideo(),A.toggleState(m.videotoggledby)}d||0!=i.data&&2!=i.data||!("on"==F.data("showcoveronpause")&&F.find(".tp-videoposter").length>0||1===F.data("bgvideo")&&F.find(".rs-fullvideo-cover").length>0)||(1===F.data("bgvideo")?punchgs.TweenLite.to(F.find(".rs-fullvideo-cover"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(F.find(".tp-videoposter"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(F.find("iframe"),0.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),-1!=i.data&&3!=i.data&&(C.videoplaying=!1,C.tonpause=!1,o(F,C),g.trigger("starttimer"),C.c.trigger("revolution.slide.onvideostop",u(b,"youtube",F.data())),void 0!=C.currentLayerVideoIsPlaying&&C.currentLayerVideoIsPlaying.attr("id")!=F.attr("id")||A.unToggleState(m.videotoggledby)),0==i.data&&1==F.data("nextslideatend")?(s(),F.data("nextslideatend-triggered",1),C.c.revnext(),o(F,C)):(o(F,C),C.videoplaying=!1,g.trigger("starttimer"),C.c.trigger("revolution.slide.onvideostop",u(b,"youtube",F.data())),void 0!=C.currentLayerVideoIsPlaying&&C.currentLayerVideoIsPlaying.attr("id")!=F.attr("id")||A.unToggleState(m.videotoggledby))}},onReady:function(a){var g=m.videorate;F.data("videostart");if(F.addClass("rs-apiready"),void 0!=g&&a.target.setPlaybackRate(parseFloat(g)),F.find(".tp-videoposter").unbind("click"),F.find(".tp-videoposter").click(function(){z||b.playVideo()}),F.data("startvideonow")){m.player.playVideo();var e=w(F.data("videostartat"));-1!=e&&m.player.seekTo(e)}F.data("videolistenerexist",1)}}});F.data("player",b);break;case"vimeo":for(var G,K=k.attr("src"),J={},I=K,H=/([^&=]+)=([^&]*)/g;G=H.exec(I);){J[decodeURIComponent(G[1])]=decodeURIComponent(G[2])}K=void 0!=J.player_id?K.replace(J.player_id,j):K+"&player_id="+j;try{K=K.replace("api=0","api=1")}catch(F){}K+="&api=1",k.attr("src",K);var b=F.find("iframe")[0],E=(jQuery("#"+j),$f(j));E.addEvent("ready",function(){if(F.addClass("rs-apiready"),E.addEvent("play",function(d){F.data("nextslidecalled",0),punchgs.TweenLite.to(F.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(F.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),C.c.trigger("revolution.slide.onvideoplay",u(E,"vimeo",F.data())),C.videoplaying=!0,p(F,C),f?C.c.trigger("stoptimer"):C.videoplaying=!1,"mute"==F.data("volume")||A.lastToggleState(F.data("videomutetoggledby"))||!0===C.globalmute?E.api("setVolume","0"):E.api("setVolume",parseInt(F.data("volume"),0)/100||0.75),A.toggleState(m.videotoggledby)}),E.addEvent("playProgress",function(d){var i=w(F.data("videoendat"));if(F.data("currenttime",d.seconds),0!=i&&Math.abs(i-d.seconds)<0.3&&i>d.seconds&&1!=F.data("nextslidecalled")){if(h){E.api("play");var g=w(F.data("videostartat"));-1!=g&&E.api("seekTo",g)}else{1==F.data("nextslideatend")&&(F.data("nextslideatend-triggered",1),F.data("nextslidecalled",1),C.c.revnext()),E.api("pause")}}}),E.addEvent("finish",function(d){o(F,C),C.videoplaying=!1,C.c.trigger("starttimer"),C.c.trigger("revolution.slide.onvideostop",u(E,"vimeo",F.data())),1==F.data("nextslideatend")&&(F.data("nextslideatend-triggered",1),C.c.revnext()),void 0!=C.currentLayerVideoIsPlaying&&C.currentLayerVideoIsPlaying.attr("id")!=F.attr("id")||A.unToggleState(m.videotoggledby)}),E.addEvent("pause",function(d){("on"==F.data("showcoveronpause")&&F.find(".tp-videoposter").length>0||1===F.data("bgvideo")&&F.find(".rs-fullvideo-cover").length>0)&&(1===F.data("bgvideo")?punchgs.TweenLite.to(F.find(".rs-fullvideo-cover"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(F.find(".tp-videoposter"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(F.find("iframe"),0.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),C.videoplaying=!1,C.tonpause=!1,o(F,C),C.c.trigger("starttimer"),C.c.trigger("revolution.slide.onvideostop",u(E,"vimeo",F.data())),void 0!=C.currentLayerVideoIsPlaying&&C.currentLayerVideoIsPlaying.attr("id")!=F.attr("id")||A.unToggleState(m.videotoggledby)}),F.find(".tp-videoposter").unbind("click"),F.find(".tp-videoposter").click(function(){if(!z){return E.api("play"),!1}}),F.data("startvideonow")){E.api("play");var a=w(F.data("videostartat"));-1!=a&&E.api("seekTo",a)}F.data("videolistenerexist",1)})}}else{var D=w(F.data("videostartat"));switch(m.videotype){case"youtube":n&&(m.player.playVideo(),-1!=D&&m.player.seekTo());break;case"vimeo":if(n){var E=$f(F.find("iframe").attr("id"));E.api("play"),-1!=D&&E.api("seekTo",D)}}}},s=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},r=function(){try{if(void 0!==window.fullScreen){return window.fullScreen}var b=5;return jQuery.browser.webkit&&/Apple Computer/.test(navigator.vendor)&&(b=42),screen.width==window.innerWidth&&Math.abs(screen.height-window.innerHeight)<b}catch(b){}},q=function(C,j,h){if(z&&1==C.data("disablevideoonmobile")){return !1}var g=C.data(),f="html5"==g.audio?"audio":"video",d=C.find(f),c=d[0],b=d.parent(),H=g.videoloop,G="loopandnoslidestop"!=H;if(H="loop"==H||"loopandnoslidestop"==H,b.data("metaloaded",1),1!=C.data("bgvideo")||"none"!==g.videoloop&&!1!==g.videoloop||(G=!1),void 0==d.attr("control")&&(0!=C.find(".tp-video-play-button").length||z||C.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>'),C.find("video, .tp-poster, .tp-video-play-button").click(function(){C.hasClass("videoisplaying")?c.pause():c.play()})),1==C.data("forcecover")||C.hasClass("fullscreenvideo")||1==C.data("bgvideo")){if(1==C.data("forcecover")||1==C.data("bgvideo")){b.addClass("fullcoveredvideo");var F=C.data("aspectratio")||"4:3";A.setSize(j),A.prepareCoveredVideo(F,j,C)}else{b.addClass("fullscreenvideo")}}var E=C.find(".tp-vid-play-pause")[0],D=C.find(".tp-vid-mute")[0],n=C.find(".tp-vid-full-screen")[0],m=C.find(".tp-seek-bar")[0],k=C.find(".tp-volume-bar")[0];void 0!=E&&v(E,"click",function(){1==c.paused?c.play():c.pause()}),void 0!=D&&v(D,"click",function(){0==c.muted?(c.muted=!0,D.innerHTML="Unmute"):(c.muted=!1,D.innerHTML="Mute")}),void 0!=n&&n&&v(n,"click",function(){c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen&&c.webkitRequestFullscreen()}),void 0!=m&&(v(m,"change",function(){var e=c.duration*(m.value/100);c.currentTime=e}),v(m,"mousedown",function(){C.addClass("seekbardragged"),c.pause()}),v(m,"mouseup",function(){C.removeClass("seekbardragged"),c.play()})),v(c,"canplaythrough",function(){A.preLoadAudioDone(C,j,"canplaythrough")}),v(c,"canplay",function(){A.preLoadAudioDone(C,j,"canplay")}),v(c,"progress",function(){A.preLoadAudioDone(C,j,"progress")}),v(c,"timeupdate",function(){var a=100/c.duration*c.currentTime,l=w(C.data("videoendat")),i=c.currentTime;if(void 0!=m&&(m.value=a),0!=l&&-1!=l&&Math.abs(l-i)<=0.3&&l>i&&1!=C.data("nextslidecalled")){if(H){c.play();var e=w(C.data("videostartat"));-1!=e&&(c.currentTime=e)}else{1==C.data("nextslideatend")&&(C.data("nextslideatend-triggered",1),C.data("nextslidecalled",1),j.just_called_nextslide_at_htmltimer=!0,j.c.revnext(),setTimeout(function(){j.just_called_nextslide_at_htmltimer=!1},1000)),c.pause()}}}),void 0!=k&&v(k,"change",function(){c.volume=k.value}),v(c,"play",function(){C.data("nextslidecalled",0);var I=C.data("volume");I=void 0!=I&&"mute"!=I?parseFloat(I)/100:I,y||(!0===j.globalmute?c.muted=!0:c.muted=!1,I>1&&(I/=100),"mute"==I?c.muted=!0:void 0!=I&&(c.volume=I)),C.addClass("videoisplaying");var l="html5"==g.audio?"audio":"video";p(C,j),G&&"audio"!=l?(j.videoplaying=!0,j.c.trigger("stoptimer"),j.c.trigger("revolution.slide.onvideoplay",u(c,"html5",g))):(j.videoplaying=!1,"audio"!=l&&j.c.trigger("starttimer"),j.c.trigger("revolution.slide.onvideostop",u(c,"html5",g))),punchgs.TweenLite.to(C.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(C.find(l),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});var e=C.find(".tp-vid-play-pause")[0],a=C.find(".tp-vid-mute")[0];void 0!=e&&(e.innerHTML="Pause"),void 0!=a&&c.muted&&(a.innerHTML="Unmute"),A.toggleState(g.videotoggledby)}),v(c,"pause",function(i){var e="html5"==g.audio?"audio":"video";!r()&&C.find(".tp-videoposter").length>0&&"on"==C.data("showcoveronpause")&&!C.hasClass("seekbardragged")&&(punchgs.TweenLite.to(C.find(".tp-videoposter"),0.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(C.find(e),0.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),C.removeClass("videoisplaying"),j.videoplaying=!1,o(C,j),"audio"!=e&&j.c.trigger("starttimer"),j.c.trigger("revolution.slide.onvideostop",u(c,"html5",C.data()));var a=C.find(".tp-vid-play-pause")[0];void 0!=a&&(a.innerHTML="Play"),void 0!=j.currentLayerVideoIsPlaying&&j.currentLayerVideoIsPlaying.attr("id")!=C.attr("id")||A.unToggleState(g.videotoggledby)}),v(c,"ended",function(){s(),o(C,j),j.videoplaying=!1,o(C,j),"audio"!=f&&j.c.trigger("starttimer"),j.c.trigger("revolution.slide.onvideostop",u(c,"html5",C.data())),!0===C.data("nextslideatend")&&c.currentTime>0&&(1==!j.just_called_nextslide_at_htmltimer&&(C.data("nextslideatend-triggered",1),j.c.revnext(),j.just_called_nextslide_at_htmltimer=!0),setTimeout(function(){j.just_called_nextslide_at_htmltimer=!1},1500)),C.removeClass("videoisplaying")})},p=function(b,d){void 0==d.playingvideos&&(d.playingvideos=new Array),b.data("stopallvideos")&&void 0!=d.playingvideos&&d.playingvideos.length>0&&(d.lastplayedvideos=jQuery.extend(!0,[],d.playingvideos),jQuery.each(d.playingvideos,function(c,e){A.stopVideo(e,d)})),d.playingvideos.push(b),d.currentLayerVideoIsPlaying=b},o=function(d,c){void 0!=c.playingvideos&&jQuery.inArray(d,c.playingvideos)>=0&&c.playingvideos.splice(jQuery.inArray(d,c.playingvideos),1)}}(jQuery);