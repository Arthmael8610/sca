(function(g){var e=jQuery.fn.revolution,m=e.is_mobile(),j=e.is_android(),l={alias:"Video Min JS",name:"revolution.extensions.video.min.js",min_core:"5.4.5",version:"2.1.6"};jQuery.extend(true,e,{preLoadAudio:function(o,p){if(e.compare_version(l).check==="stop"){return false}o.find(".tp-audiolayer").each(function(){var q=jQuery(this),r={};if(q.find("audio").length===0){r.src=q.data("videomp4")!=undefined?q.data("videomp4"):"",r.pre=q.data("videopreload")||"";if(q.attr("id")===undefined){q.attr("audio-layer-"+Math.round(Math.random()*199999))}r.id=q.attr("id");r.status="prepared";r.start=jQuery.now();r.waittime=q.data("videopreloadwait")*1000||5000;if(r.pre=="auto"||r.pre=="canplaythrough"||r.pre=="canplay"||r.pre=="progress"){if(p.audioqueue===undefined){p.audioqueue=[]}p.audioqueue.push(r);e.manageVideoLayer(q,p)}}})},preLoadAudioDone:function(q,o,p){if(o.audioqueue&&o.audioqueue.length>0){jQuery.each(o.audioqueue,function(r,s){if(q.data("videomp4")===s.src&&(s.pre===p||s.pre==="auto")){s.status="loaded"}})}},resetVideo:function(o,r,A){var z=o.data();switch(z.videotype){case"youtube":var y=z.player;try{if(z.forcerewind=="on"){var C=n(o.data("videostartat")),p=C==-1?true:false,x=z.bgvideo===1||o.find(".tp-videoposter").length>0?true:false;if(z.player!=undefined){C=C==-1?0:C;z.player.seekTo(C);z.player.pauseVideo()}}}catch(v){}if(o.find(".tp-videoposter").length==0&&z.bgvideo!==1&&A!==true){punchgs.TweenLite.to(o.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}break;case"vimeo":var u=$f(o.find("iframe").attr("id"));try{if(z.forcerewind=="on"){var C=n(z.videostartat),t=0,p=C==-1?true:false,x=z.bgvideo===1||o.find(".tp-videoposter").length>0?true:false;C=C==-1?0:C;u.api("seekTo",C);u.api("pause")}}catch(v){}if(o.find(".tp-videoposter").length==0&&z.bgvideo!==1&&A!==true){punchgs.TweenLite.to(o.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}break;case"html5":if(m&&z.disablevideoonmobile==1){return false}var B=z.audio=="html5"?"audio":"video",w=o.find(B),q=w[0];punchgs.TweenLite.to(w,0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});if(z.forcerewind=="on"&&!o.hasClass("videoisplaying")){try{var C=n(z.videostartat);q.currentTime=C==-1?0:C}catch(v){}}if(z.volume=="mute"||e.lastToggleState(o.videomutetoggledby)||r.globalmute===true){q.muted=true}break}},isVideoMuted:function(o,q){var u=false,w=o.data();switch(w.videotype){case"youtube":try{var v=w.player;u=v.isMuted()}catch(s){}break;case"vimeo":try{var r=$f(o.find("iframe").attr("id"));if(w.volume=="mute"){u=true}}catch(s){}break;case"html5":var x=w.audio=="html5"?"audio":"video",t=o.find(x),p=t[0];if(p.muted){u=true}break}return u},muteVideo:function(o,q){var v=o.data();switch(v.videotype){case"youtube":try{var u=v.player;u.mute()}catch(s){}break;case"vimeo":try{var r=$f(o.find("iframe").attr("id"));o.data("volume","mute");r.api("setVolume",0)}catch(s){}break;case"html5":var w=v.audio=="html5"?"audio":"video",t=o.find(w),p=t[0];p.muted=true;break}},unMuteVideo:function(o,q){if(q.globalmute===true){return}var v=o.data();switch(v.videotype){case"youtube":try{var u=v.player;u.unMute()}catch(s){}break;case"vimeo":try{var r=$f(o.find("iframe").attr("id"));o.data("volume","1");r.api("setVolume",1)}catch(s){}break;case"html5":var w=v.audio=="html5"?"audio":"video",t=o.find(w),p=t[0];p.muted=false;break}},stopVideo:function(o,q){var v=o.data();if(!q.leaveViewPortBasedStop){q.lastplayedvideos=[]}q.leaveViewPortBasedStop=false;switch(v.videotype){case"youtube":try{var u=v.player;if(u.getPlayerState()===2||u.getPlayerState()===5){return}u.pauseVideo();v.youtubepausecalled=true;setTimeout(function(){v.youtubepausecalled=false},80)}catch(s){console.log("Issue at YouTube Video Pause:");console.log(s)}break;case"vimeo":try{var r=$f(o.find("iframe").attr("id"));r.api("pause");v.vimeopausecalled=true;setTimeout(function(){v.vimeopausecalled=false},80)}catch(s){console.log("Issue at Vimeo Video Pause:");console.log(s)}break;case"html5":var w=v.audio=="html5"?"audio":"video",t=o.find(w),p=t[0];if(t!=undefined&&p!=undefined){p.pause()}break}},playVideo:function(o,r){clearTimeout(o.data("videoplaywait"));var x=o.data();switch(x.videotype){case"youtube":if(o.find("iframe").length==0){o.append(o.data("videomarkup"));k(o,r,true)}else{if(x.player.playVideo!=undefined){var y=n(o.data("videostartat")),u=x.player.getCurrentTime();if(o.data("nextslideatend-triggered")==1){u=-1;o.data("nextslideatend-triggered",0)}if(y!=-1&&y>u){x.player.seekTo(y)}if(x.youtubepausecalled!==true){x.player.playVideo()}}else{o.data("videoplaywait",setTimeout(function(){if(x.youtubepausecalled!==true){e.playVideo(o,r)}},50))}}break;case"vimeo":if(o.find("iframe").length==0){o.append(o.data("videomarkup"));k(o,r,true)}else{if(o.hasClass("rs-apiready")){var q=o.find("iframe").attr("id"),v=$f(q);if(v.api("play")==undefined){o.data("videoplaywait",setTimeout(function(){if(x.vimeopausecalled!==true){e.playVideo(o,r)}},50))}else{setTimeout(function(){v.api("play");var B=n(o.data("videostartat")),A=o.data("currenttime");if(o.data("nextslideatend-triggered")==1){A=-1;o.data("nextslideatend-triggered",0)}if(B!=-1&&B>A){v.api("seekTo",B)}},510)}}else{o.data("videoplaywait",setTimeout(function(){if(x.vimeopausecalled!==true){e.playVideo(o,r)}},50))}}break;case"html5":var z=x.audio=="html5"?"audio":"video",w=o.find(z),p=w[0],t=w.parent();if(t.data("metaloaded")!=1){f(p,"loadedmetadata",function(B){e.resetVideo(B,r);p.play();var C=n(B.data("videostartat")),A=p.currentTime;if(B.data("nextslideatend-triggered")==1){A=-1;B.data("nextslideatend-triggered",0)}if(C!=-1&&C>A){p.currentTime=C}}(o))}else{p.play();var y=n(o.data("videostartat")),u=p.currentTime;if(o.data("nextslideatend-triggered")==1){u=-1;o.data("nextslideatend-triggered",0)}if(y!=-1&&y>u){p.currentTime=y}}break}},isVideoPlaying:function(q,p){var o=false;if(p.playingvideos!=undefined){jQuery.each(p.playingvideos,function(r,s){if(q.attr("id")==s.attr("id")){o=true}})}return o},removeMediaFromList:function(p,o){d(p,o)},prepareCoveredVideo:function(t,p,x){var r=x.find("iframe, video"),s=t.split(":")[0],v=t.split(":")[1],y=x.closest(".tp-revslider-slidesli"),o=y.width()/y.height(),u=s/v,q=(o/u)*100,w=(u/o)*100;if(o>u){punchgs.TweenLite.to(r,0.001,{height:q+"%",width:"100%",top:-(q-100)/2+"%",left:"0px",position:"absolute"})}else{punchgs.TweenLite.to(r,0.001,{width:w+"%",height:"100%",left:-(w-100)/2+"%",top:"0px",position:"absolute"})}if(!r.hasClass("resizelistener")){r.addClass("resizelistener");jQuery(window).resize(function(){clearTimeout(r.data("resizelistener"));r.data("resizelistener",setTimeout(function(){e.prepareCoveredVideo(t,p,x)},30))})}},checkVideoApis:function(p,o,w){var v=location.protocol==="https:"?"https":"http";if((p.data("ytid")!=undefined||p.find("iframe").length>0&&p.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)){o.youtubeapineeded=true}if((p.data("ytid")!=undefined||p.find("iframe").length>0&&p.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&w.addedyt==0){o.youtubestarttime=jQuery.now();w.addedyt=1;var q=document.createElement("script");q.src="https://www.youtube.com/iframe_api";var u=document.getElementsByTagName("script")[0],r=true;jQuery("head").find("*").each(function(){if(jQuery(this).attr("src")=="https://www.youtube.com/iframe_api"){r=false}});if(r){u.parentNode.insertBefore(q,u)}}if((p.data("vimeoid")!=undefined||p.find("iframe").length>0&&p.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)){o.vimeoapineeded=true}if((p.data("vimeoid")!=undefined||p.find("iframe").length>0&&p.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&w.addedvim==0){o.vimeostarttime=jQuery.now();w.addedvim=1;var t=document.createElement("script"),u=document.getElementsByTagName("script")[0],r=true;t.src="https://secure-a.vimeocdn.com/js/froogaloop2.min.js";jQuery("head").find("*").each(function(){if(jQuery(this).attr("src")=="https://secure-a.vimeocdn.com/js/froogaloop2.min.js"){r=false}});if(r){u.parentNode.insertBefore(t,u)}}return w},manageVideoLayer:function(N,q,y,B){if(e.compare_version(l).check==="stop"){return false}var P=N.data(),G=P.videoattributes,v=P.ytid,p=P.vimeoid,J=P.videopreload==="auto"||P.videopreload==="canplay"||P.videopreload==="canplaythrough"||P.videopreload==="progress"?"auto":P.videopreload,E=P.videomp4,u=P.videowebm,I=P.videoogv,H=P.allowfullscreenvideo,A=P.videocontrols,x="http",z=P.videoloop=="loop"?"loop":P.videoloop=="loopandnoslidestop"?"loop":"",K=(E!=undefined||u!=undefined)?"html5":(v!=undefined&&String(v).length>1)?"youtube":(p!=undefined&&String(p).length>1)?"vimeo":"none",Q=P.audio=="html5"?"audio":"video",w=(K=="html5"&&N.find(Q).length==0)?"html5":(K=="youtube"&&N.find("iframe").length==0)?"youtube":(K=="vimeo"&&N.find("iframe").length==0)?"vimeo":"none";z=P.nextslideatend===true?"":z;P.videotype=K;switch(w){case"html5":if(A!="controls"){A=""}var Q="video";if(P.audio=="html5"){Q="audio";N.addClass("tp-audio-html5")}var o=q.fallbacks.allowHTML5AutoPlayOnAndroid?"muted playsinline":"";var t="<"+Q+" "+o+' style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+z+' preload="'+J+'">';if(J=="auto"){q.mediapreload=true}if(u!=undefined&&e.get_browser().toLowerCase()=="firefox"){t=t+'<source src="'+u+'" type="video/webm" />'}if(E!=undefined){t=t+'<source src="'+E+'" type="video/mp4" />'}if(I!=undefined){t=t+'<source src="'+I+'" type="video/ogg" />'}t=t+"</"+Q+">";var O="";if(H==="true"||H===true){O='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'}if(A=="controls"){t=t+('<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+O+"</div>")}N.data("videomarkup",t);N.append(t);if((m&&N.data("disablevideoonmobile")==1)||e.isIE(8)){N.find(Q).remove()}N.find(Q).each(function(R){var S=this,s=jQuery(this);if(!s.parent().hasClass("html5vid")){s.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>')}var T=s.parent();if(T.data("metaloaded")!=1){f(S,"loadedmetadata",function(U){c(U,q);e.resetVideo(U,q)}(N))}});break;case"youtube":x="https";if(A=="none"){G=G.replace("controls=1","controls=0");if(G.toLowerCase().indexOf("controls")==-1){G=G+"&controls=0"}}if(P.videoinline===true||P.videoinline==="true"||P.videoinline===1){G=G+"&playsinline=1"}var C=n(N.data("videostartat")),L=n(N.data("videoendat"));if(C!=-1){G=G+"&start="+C}if(L!=-1){G=G+"&end="+L}var r=G.split("origin="+x+"://"),D="";if(r.length>1){D=r[0]+"origin="+x+"://";if(self.location.href.match(/www/gi)&&!r[1].match(/www/gi)){D=D+"www."}D=D+r[1]}else{D=G}var M=H==="true"||H===true?"allowfullscreen":"";N.data("videomarkup",'<iframe type="text/html" src="'+x+"://www.youtube.com/embed/"+v+"?"+D+'" '+M+' width="100%" height="100%" style="opacity:0;visibility:hidden;width:100%;height:100%"></iframe>');break;case"vimeo":x="https";N.data("videomarkup",'<iframe src="'+x+"://player.vimeo.com/video/"+p+"?autoplay=0&"+G+'" webkitallowfullscreen mozallowfullscreen allowfullscreen width="100%" height="100%" style="opacity:0;visibility:hidden;100%;height:100%"></iframe>');break}var F=m&&N.data("noposteronmobile")=="on";if(P.videoposter!=undefined&&P.videoposter.length>2&&!F){if(N.find(".tp-videoposter").length==0){N.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+P.videoposter+'); background-size:cover;background-position:center center;"></div>')}if(N.find("iframe").length==0){N.find(".tp-videoposter").click(function(){e.playVideo(N,q);if(m){if(N.data("disablevideoonmobile")==1){return false}punchgs.TweenLite.to(N.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut});punchgs.TweenLite.to(N.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}})}}else{if(m&&N.data("disablevideoonmobile")==1){return false}if(N.find("iframe").length==0&&(K=="youtube"||K=="vimeo")){N.append(N.data("videomarkup"));k(N,q,false)}}if(N.data("dottedoverlay")!="none"&&N.data("dottedoverlay")!=undefined&&N.find(".tp-dottedoverlay").length!=1){N.append('<div class="tp-dottedoverlay '+N.data("dottedoverlay")+'"></div>')}N.addClass("HasListener");if(N.data("bgvideo")==1){punchgs.TweenLite.set(N.find("video, iframe"),{autoAlpha:0})}}});function n(o){return o==undefined?-1:jQuery.isNumeric(o)?o:o.split(":").length>1?parseInt(o.split(":")[0],0)*60+parseInt(o.split(":")[1],0):o}var f=function(p,o,q){if(p.addEventListener){p.addEventListener(o,q,{capture:false,passive:true})}else{p.attachEvent(o,q,{capture:false,passive:true})}};var i=function(r,q,s){var o={};o.video=r;o.videotype=q;o.settings=s;return o};var k=function(E,o,u){var G=E.data(),t=E.find("iframe"),A="iframe"+Math.round(Math.random()*100000+1),D=G.videoloop,H=D!="loopandnoslidestop";D=D=="loop"||D=="loopandnoslidestop";if(E.data("forcecover")==1){E.removeClass("fullscreenvideo").addClass("coverscreenvideo");var p=E.data("aspectratio");if(p!=undefined&&p.split(":").length>1){console.log("i");e.prepareCoveredVideo(p,o,E)}}if(E.data("bgvideo")==1){var p=E.data("aspectratio");if(p!=undefined&&p.split(":").length>1){console.log("ak");e.prepareCoveredVideo(p,o,E)}}t.attr("id",A);if(u){E.data("startvideonow",true)}if(E.data("videolistenerexist")!==1){switch(G.videotype){case"youtube":var z=new YT.Player(A,{events:{onStateChange:function(L){var I=E.closest(".tp-simpleresponsive"),M=G.videorate,N=E.data("videostart"),K=h();if(L.data==YT.PlayerState.PLAYING){punchgs.TweenLite.to(E.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut});punchgs.TweenLite.to(E.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});if(E.data("volume")=="mute"||e.lastToggleState(E.data("videomutetoggledby"))||o.globalmute===true){z.mute()}else{z.unMute();z.setVolume(parseInt(E.data("volume"),0)||75)}o.videoplaying=true;a(E,o);if(H){o.c.trigger("stoptimer")}else{o.videoplaying=false}o.c.trigger("revolution.slide.onvideoplay",i(z,"youtube",E.data()));e.toggleState(G.videotoggledby)}else{if(L.data==0&&D){var J=n(E.data("videostartat"));if(J!=-1){z.seekTo(J)}z.playVideo();e.toggleState(G.videotoggledby)}if(!K&&(L.data==0||L.data==2)&&((E.data("showcoveronpause")=="on"&&E.find(".tp-videoposter").length>0)||(E.data("bgvideo")===1&&E.find(".rs-fullvideo-cover").length>0))){if(E.data("bgvideo")===1){punchgs.TweenLite.to(E.find(".rs-fullvideo-cover"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut})}else{punchgs.TweenLite.to(E.find(".tp-videoposter"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut})}punchgs.TweenLite.to(E.find("iframe"),0.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})}if((L.data!=-1&&L.data!=3)){o.videoplaying=false;o.tonpause=false;d(E,o);I.trigger("starttimer");o.c.trigger("revolution.slide.onvideostop",i(z,"youtube",E.data()));if(o.currentLayerVideoIsPlaying==undefined||o.currentLayerVideoIsPlaying.attr("id")==E.attr("id")){e.unToggleState(G.videotoggledby)}}if(L.data==0&&E.data("nextslideatend")==true){b();E.data("nextslideatend-triggered",1);o.c.revnext();d(E,o)}else{d(E,o);o.videoplaying=false;I.trigger("starttimer");o.c.trigger("revolution.slide.onvideostop",i(z,"youtube",E.data()));if(o.currentLayerVideoIsPlaying==undefined||o.currentLayerVideoIsPlaying.attr("id")==E.attr("id")){e.unToggleState(G.videotoggledby)}}}},onReady:function(J){var K=G.videorate,L=E.data("videostart");E.addClass("rs-apiready");if(K!=undefined){J.target.setPlaybackRate(parseFloat(K))}E.find(".tp-videoposter").unbind("click");E.find(".tp-videoposter").click(function(){if(!m){z.playVideo()}});if(E.data("startvideonow")){G.player.playVideo();var I=n(E.data("videostartat"));if(I!=-1){G.player.seekTo(I)}}E.data("videolistenerexist",1)}}});E.data("player",z);break;case"vimeo":var F=t.attr("src"),x={},r=F,w=/([^&=]+)=([^&]*)/g,y;while(y=w.exec(r)){x[decodeURIComponent(y[1])]=decodeURIComponent(y[2])}if(x.player_id!=undefined){F=F.replace(x.player_id,A)}else{F=F+"&player_id="+A}try{F=F.replace("api=0","api=1")}catch(C){}F=F+"&api=1";t.attr("src",F);var z=E.find("iframe")[0],q=jQuery("#"+A),B=$f(A);B.addEvent("ready",function(){E.addClass("rs-apiready");B.addEvent("play",function(s){E.data("nextslidecalled",0);punchgs.TweenLite.to(E.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut});punchgs.TweenLite.to(E.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});o.c.trigger("revolution.slide.onvideoplay",i(B,"vimeo",E.data()));o.videoplaying=true;a(E,o);if(H){o.c.trigger("stoptimer")}else{o.videoplaying=false}if(E.data("volume")=="mute"||e.lastToggleState(E.data("videomutetoggledby"))||o.globalmute===true){B.api("setVolume","0")}else{B.api("setVolume",(parseInt(E.data("volume"),0)/100||0.75))}e.toggleState(G.videotoggledby)});B.addEvent("playProgress",function(K){var L=n(E.data("videoendat"));E.data("currenttime",K.seconds);if(L!=0&&(Math.abs(L-K.seconds)<0.3&&L>K.seconds)&&E.data("nextslidecalled")!=1){if(D){B.api("play");var J=n(E.data("videostartat"));if(J!=-1){B.api("seekTo",J)}}else{if(E.data("nextslideatend")==true){E.data("nextslideatend-triggered",1);E.data("nextslidecalled",1);o.c.revnext()}B.api("pause")}}});B.addEvent("finish",function(s){d(E,o);o.videoplaying=false;o.c.trigger("starttimer");o.c.trigger("revolution.slide.onvideostop",i(B,"vimeo",E.data()));if(E.data("nextslideatend")==true){E.data("nextslideatend-triggered",1);o.c.revnext()}if(o.currentLayerVideoIsPlaying==undefined||o.currentLayerVideoIsPlaying.attr("id")==E.attr("id")){e.unToggleState(G.videotoggledby)}});B.addEvent("pause",function(s){if(((E.data("showcoveronpause")=="on"&&E.find(".tp-videoposter").length>0)||(E.data("bgvideo")===1&&E.find(".rs-fullvideo-cover").length>0))){if(E.data("bgvideo")===1){punchgs.TweenLite.to(E.find(".rs-fullvideo-cover"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut})}else{punchgs.TweenLite.to(E.find(".tp-videoposter"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut})}punchgs.TweenLite.to(E.find("iframe"),0.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})}o.videoplaying=false;o.tonpause=false;d(E,o);o.c.trigger("starttimer");o.c.trigger("revolution.slide.onvideostop",i(B,"vimeo",E.data()));if(o.currentLayerVideoIsPlaying==undefined||o.currentLayerVideoIsPlaying.attr("id")==E.attr("id")){e.unToggleState(G.videotoggledby)}});E.find(".tp-videoposter").unbind("click");E.find(".tp-videoposter").click(function(){if(!m){B.api("play");return false}});if(E.data("startvideonow")){B.api("play");var I=n(E.data("videostartat"));if(I!=-1){B.api("seekTo",I)}}E.data("videolistenerexist",1)});break}}else{var v=n(E.data("videostartat"));switch(G.videotype){case"youtube":if(u){G.player.playVideo();if(v!=-1){G.player.seekTo()}}break;case"vimeo":if(u){var B=$f(E.find("iframe").attr("id"));B.api("play");if(v!=-1){B.api("seekTo",v)}}break}}};var b=function(){if(document.exitFullscreen){document.exitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}};var h=function(){try{if(window.fullScreen!==undefined){return window.fullScreen}var o=5;if(jQuery.browser.webkit&&/Apple Computer/.test(navigator.vendor)){o=42}return screen.width==window.innerWidth&&Math.abs(screen.height-window.innerHeight)<o}catch(p){}};var c=function(o,q,A){if(m&&o.data("disablevideoonmobile")==1){return false}var z=o.data(),D=z.audio=="html5"?"audio":"video",y=o.find(D),p=y[0],r=y.parent(),t=z.videoloop,C=t!="loopandnoslidestop";t=t=="loop"||t=="loopandnoslidestop";r.data("metaloaded",1);if(o.data("bgvideo")==1&&(z.videoloop==="none"||z.videoloop===false)){C=false}if(y.attr("control")==undefined){if(o.find(".tp-video-play-button").length==0&&!m){o.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>')}o.find("video, .tp-poster, .tp-video-play-button").click(function(){if(o.hasClass("videoisplaying")){p.pause()}else{p.play()}})}if(o.data("forcecover")==1||o.hasClass("fullscreenvideo")||o.data("bgvideo")==1){if(o.data("forcecover")==1||o.data("bgvideo")==1){r.addClass("fullcoveredvideo");var w=o.data("aspectratio")||"4:3";e.setSize(q);e.prepareCoveredVideo(w,q,o)}else{r.addClass("fullscreenvideo")}}var v=o.find(".tp-vid-play-pause")[0],B=o.find(".tp-vid-mute")[0],x=o.find(".tp-vid-full-screen")[0],s=o.find(".tp-seek-bar")[0],u=o.find(".tp-volume-bar")[0];if(v!=undefined){f(v,"click",function(){if(p.paused==true){p.play()}else{p.pause()}})}if(B!=undefined){f(B,"click",function(){if(p.muted==false){p.muted=true;B.innerHTML="Unmute"}else{p.muted=false;B.innerHTML="Mute"}})}if(x!=undefined){if(x){f(x,"click",function(){if(p.requestFullscreen){p.requestFullscreen()}else{if(p.mozRequestFullScreen){p.mozRequestFullScreen()}else{if(p.webkitRequestFullscreen){p.webkitRequestFullscreen()}}}})}}if(s!=undefined){f(s,"change",function(){var E=p.duration*(s.value/100);p.currentTime=E});f(s,"mousedown",function(){o.addClass("seekbardragged");p.pause()});f(s,"mouseup",function(){o.removeClass("seekbardragged");p.play()})}f(p,"canplaythrough",function(){e.preLoadAudioDone(o,q,"canplaythrough")});f(p,"canplay",function(){e.preLoadAudioDone(o,q,"canplay")});f(p,"progress",function(){e.preLoadAudioDone(o,q,"progress")});f(p,"timeupdate",function(){var G=(100/p.duration)*p.currentTime,H=n(o.data("videoendat")),F=p.currentTime;if(s!=undefined){s.value=G}if(H!=0&&H!=-1&&(Math.abs(H-F)<=0.3&&H>F)&&o.data("nextslidecalled")!=1){if(t){p.play();var E=n(o.data("videostartat"));if(E!=-1){p.currentTime=E}}else{if(o.data("nextslideatend")==true){o.data("nextslideatend-triggered",1);o.data("nextslidecalled",1);q.just_called_nextslide_at_htmltimer=true;q.c.revnext();setTimeout(function(){q.just_called_nextslide_at_htmltimer=false},1000)}p.pause()}}});if(u!=undefined){f(u,"change",function(){p.volume=u.value})}f(p,"play",function(){o.data("nextslidecalled",0);var G=o.data("volume");G=G!=undefined&&G!="mute"?parseFloat(G)/100:G;if(!j){if(q.globalmute===true){p.muted=true}else{p.muted=false}if(G>1){G=G/100}if(G=="mute"){p.muted=true}else{if(G!=undefined){p.volume=G}}}o.addClass("videoisplaying");var F=z.audio=="html5"?"audio":"video";a(o,q);if(!C||F=="audio"){q.videoplaying=false;if(F!="audio"){q.c.trigger("starttimer")}q.c.trigger("revolution.slide.onvideostop",i(p,"html5",z))}else{q.videoplaying=true;q.c.trigger("stoptimer");q.c.trigger("revolution.slide.onvideoplay",i(p,"html5",z))}punchgs.TweenLite.to(o.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut});punchgs.TweenLite.to(o.find(F),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});var H=o.find(".tp-vid-play-pause")[0],E=o.find(".tp-vid-mute")[0];if(H!=undefined){H.innerHTML="Pause"}if(E!=undefined&&p.muted){E.innerHTML="Unmute"}e.toggleState(z.videotoggledby)});f(p,"pause",function(H){var E=z.audio=="html5"?"audio":"video",F=h();if(!F&&o.find(".tp-videoposter").length>0&&o.data("showcoveronpause")=="on"&&!o.hasClass("seekbardragged")){punchgs.TweenLite.to(o.find(".tp-videoposter"),0.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut});punchgs.TweenLite.to(o.find(E),0.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})}o.removeClass("videoisplaying");q.videoplaying=false;d(o,q);if(E!="audio"){q.c.trigger("starttimer")}q.c.trigger("revolution.slide.onvideostop",i(p,"html5",o.data()));var G=o.find(".tp-vid-play-pause")[0];if(G!=undefined){G.innerHTML="Play"}if(q.currentLayerVideoIsPlaying==undefined||q.currentLayerVideoIsPlaying.attr("id")==o.attr("id")){e.unToggleState(z.videotoggledby)}});f(p,"ended",function(){b();d(o,q);q.videoplaying=false;d(o,q);if(D!="audio"){q.c.trigger("starttimer")}q.c.trigger("revolution.slide.onvideostop",i(p,"html5",o.data()));if(o.data("nextslideatend")===true&&p.currentTime>0){if(!q.just_called_nextslide_at_htmltimer==true){o.data("nextslideatend-triggered",1);q.c.revnext();q.just_called_nextslide_at_htmltimer=true}setTimeout(function(){q.just_called_nextslide_at_htmltimer=false},1500)}o.removeClass("videoisplaying")})};var a=function(p,o){if(o.playingvideos==undefined){o.playingvideos=new Array()}if(p.data("stopallvideos")){if(o.playingvideos!=undefined&&o.playingvideos.length>0){o.lastplayedvideos=jQuery.extend(true,[],o.playingvideos);jQuery.each(o.playingvideos,function(r,q){e.stopVideo(q,o)})}}o.playingvideos.push(p);o.currentLayerVideoIsPlaying=p};var d=function(p,o){if(o.playingvideos!=undefined&&jQuery.inArray(p,o.playingvideos)>=0){o.playingvideos.splice(jQuery.inArray(p,o.playingvideos),1)}}})(jQuery);