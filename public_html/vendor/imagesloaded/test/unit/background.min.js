QUnit.test("background",function(a){var j=(function(){var k=document.createElement("a").style;k.cssText="background:url(https://),url(https://),red url(https://)";return(/(url\s*\(.*?){3}/).test(k.background)})();var h=j?3:0;var f=a.async(14+h);var i=imagesLoaded("#background .tulip",{background:true},function(){a.ok(true,"callback triggered on .orange-tree");f()});a.equal(i.images.length,1,"1 image on .images");i.on("progress",function(k,m,l){a.ok(l.nodeName=="DIV","progress; element is div");a.ok(m.isLoaded,"progress; image.isLoaded");f()});var g=imagesLoaded("#background .thunder-cloud",{background:true},function(){a.ok(true,"callback triggered on .thunder-cloud");f()});a.equal(g.images.length,1,"1 image on .images");var e=imagesLoaded("#background .multi",{background:true},function(){a.ok(true,"callback triggered on .multi");f()});a.equal(e.images.length,h,"correct multiple BG count on .images");var d=imagesLoaded("#background .bg-box",{background:true},function(){a.ok(true,"callback triggered on .bg-box");var k=5+h;a.equal(d.images.length,k,k+" images on .bg-box");f()});d.on("progress",function(k,l){a.ok(true,"progress on .bg-box; "+l.img.src);a.equal(l.isLoaded,true,"image.isLoaded == true");f()});var c=imagesLoaded("#background .gulls",{background:true});a.equal(c.images.length,3,"3 images: 1 background and 2 <img>");c.on("progress",function(k,l){a.equal(l.isLoaded,true,"image is loaded");f()});var b=imagesLoaded("#background",{background:".bg-box"},function(){var k=5+h;a.equal(b.images.length,k,k+" images on .bg-box, with {background: .bg-box}");f()})});